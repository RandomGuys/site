<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html xml:lang="fr" > 
<head><title>1 Entropie</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,sections+ --> 
<meta name="src" content="rapport_Audit.tex"> 
<meta name="date" content="2014-02-25 17:35:00"> 
<link rel="stylesheet" type="text/css" href="rapport_Audit.css"> 
</head><body 
>
   <!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="rapport_Auditch4.html" >next</a>] [<a 
href="rapport_Auditli4.html" >prev</a>] [<a 
href="rapport_Auditli4.html#tailrapport_Auditli4.html" >prev-tail</a>] [<a 
href="#tailrapport_Auditch1.html">tail</a>] [<a 
href="rapport_Audit.html#rapport_Auditch1.html" >up</a>] </p></div>
   <h2 class="chapterHead"><span class="titlemark">Chapitre&#x00A0;1</span><br /><a 
href="rapport_Audit.html#QQ2-6-8" id="x6-60001">Entropie</a></h2>
<a 
 id="x6-6001r1"></a>
<h3 class="sectionHead"><span class="titlemark">1.1   </span> <a 
href="rapport_Audit.html#QQ2-6-9" id="x6-70001">Définitions et contexte</a></h3>
<a 
 id="x6-7001r1"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-10" id="x6-80001">Introduction</a></h4>
<!--l. 5--><p class="noindent" >Cette partie explicite les notions d&#8217;entropie nécessaires pour la définition d&#8217;aléatoire de certains programmes. Il
décrit aussi en particulier les sources de génération de bits aléatoires et leurs tests liés. <br 
class="newline" />
<!--l. 9--><p class="indent" >   Trois axes principaux sont nécessaires à la mise en place d&#8217;un générateur cryptographique aléatoire de
bits<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">une source de bits aléatoires (source d&#8217;entropie)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">un algorithme pour accumuler ces bits reçus et les faire suivre vers l&#8217;application en nécessitant<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">une méthode appropriée pour combiner ces deux premiers composants.<br 
class="newline" /></li></ul>
<a 
 id="x6-8001r10"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-11" id="x6-90002">Estimation de l&#8217;entropie générée par la source</a></h4>
<!--l. 18--><p class="noindent" >Il est tout d&#8217;abord important de vérifier que la source d&#8217;entropie choisie produit suffisamment d&#8217;entropie, à un taux
égalant voire dépassant une borne fixée. Pour ce faire, il faut définir avec précision la quantité d&#8217;entropie générée
par la source. Il est de plus important de considérer les différents comportements des composants de la source, afin
d&#8217;éliminer les interactions qu&#8217;il peut y avoir entre les composants. En effet, ceci peut provoquer une redondance
dans la génération d&#8217;entropie si cela n&#8217;est pas considéré. Étant donné une source biaisée, l&#8217;entropie générée sera
conditionnée et donc plus facilement prévisible/estimable.
<!--l. 20--><p class="indent" >   La source d&#8217;entropie doit donc être minutieusement choisie, sans qu&#8217;aucune interaction et conditionnement ne
soit possible.
<a 
 id="x6-9001r11"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-12" id="x6-100003">Concept d&#8217;entropie</a></h4>
<!--l. 23--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-13" id="x6-110003"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">éfinition.</span><br 
class="newline" /></a></span>
   Soit <span 
class="lmmi-10x-x-109">X </span>est une V.A. discrète. On définit l&#8217;<span 
class="ec-lmbx-10x-x-109">entropie </span>de <span 
class="lmmi-10x-x-109">X </span>comme suit<span class="frenchb-nbsp">&nbsp;</span>:
   <center class="math-display" >
<img 
src="rapport_Audit0x.png" alt="          &#x2211;
H (X ) = -    P(X =  x)* log2(P (X  = x))
           x  " class="math-display" ></center> Le
logarithme est dans notre cas de base 2. L&#8217;entropie se mesure en <span 
class="ec-lmri-10x-x-109">shannons </span>ou en <span 
class="ec-lmri-10x-x-109">bits</span>.<br 
class="newline" />
<!--l. 28--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-14" id="x6-120003"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">éfinition.</span><br 
class="newline" /></a></span>
   On définit le <span 
class="ec-lmbx-10x-x-109">d</span><span 
class="ec-lmbx-10x-x-109">ésordre </span>(ou incertitude) étant liée à cette expérience aléatoire. Si l&#8217;on considère l&#8217;ensemble fini
des issues possibles d&#8217;une expérience <span 
class="lmsy-10x-x-109">{</span><span 
class="lmmi-10x-x-109">v</span><sub><span 
class="rm-lmr-8">1</span></sub><span 
class="lmmi-10x-x-109">,...,v</span><sub><span 
class="lmmi-8">n</span></sub><span 
class="lmsy-10x-x-109">}</span>, l&#8217;entropie de l&#8217;expérience vaudra<span class="frenchb-nbsp">&nbsp;</span>:
   <center class="math-display" >
<img 
src="rapport_Audit1x.png" alt="H (&#x03F5;) = - &#x2211;  P ({v}) *log (P({v }))
          i      i      2     i
" class="math-display" ></center>
<!--l. 32--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-15" id="x6-130003"><span 
class="ec-lmbx-10x-x-109">Propri</span><span 
class="ec-lmbx-10x-x-109">ét</span><span 
class="ec-lmbx-10x-x-109">é.</span><br 
class="newline" /></a></span>
   On constate que l&#8217;entropie est maximale lorsque X est équi-répartie. En effet, si l&#8217;on considère n éléments de X
étant équi-répartie, on retrouve notre entropie de <span 
class="lmmi-10x-x-109">H</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">X</span><span 
class="rm-lmr-10x-x-109">) =</span> <span 
class="rm-lmr-10x-x-109">log</span> <sub><span 
class="rm-lmr-8">2</span></sub><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">n</span><span 
class="rm-lmr-10x-x-109">)</span>. <br 
class="newline" />
<!--l. 36--><p class="indent" >   Ainsi, on comprend qu&#8217;une variable aléatoire apporte en moyenne un maximum d&#8217;entropie lorsqu&#8217;elle peut
prendre chaque valeur avec une équiprobabilité. D&#8217;un point de vue moins théorique, on considère que plus
l&#8217;entropie sera grande, plus il sera difficile de prévoir la valeur que l&#8217;on observe.
<!--l. 38--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-16" id="x6-140003"><span 
class="ec-lmbx-10x-x-109">Min-entropy.</span><br 
class="newline" /></a></span>
   La recommandation du NIST propose le calcul de <span 
class="ec-lmri-10x-x-109">Min-entropy </span>pour mesurer au pire des cas l&#8217;entropie d&#8217;une
observation. <br 
class="newline" />
<!--l. 41--><p class="indent" >   Soit <span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub> un bruit de la source d&#8217;entropie. Soit <span 
class="lmmi-10x-x-109">p</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">) </span>la probabilité d&#8217;obtenir <span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub>. On définit l&#8217;entropie au pire des
cas telle que<span class="frenchb-nbsp">&nbsp;</span>:
                                                                                                  

                                                                                                  
   <center class="math-display" >
<img 
src="rapport_Audit2x.png" alt="Min -entropy = - log (max (p(xi))
                   2  " class="math-display" ></center> La
probabilité d&#8217;observer <span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub> sera donc au minimum <img 
src="rapport_Audit3x.png" alt="2Min-1entropy"  class="frac" align="middle">.
<a 
 id="x6-14001r12"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-17" id="x6-150004">Source d&#8217;entropie</a></h4>
<!--l. 46--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-18" id="x6-160004"><span 
class="ec-lmbx-10x-x-109">Approche th</span><span 
class="ec-lmbx-10x-x-109">éorique.</span><br 
class="newline" /></a></span>
   La source d&#8217;entropie est composée de trois éléments principaux<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">le <span 
class="ec-lmbx-10x-x-109">bruit source</span>, qui est la voûte de la sécurité du système. Ce bruit doit être non déterministe,
      il renvoie de façon aléatoire des bits grâce à des processus non déterministes. Le bruit ne vient
      pas nécessairement directement d&#8217;éléments binaires. Si ce bruit est externe, il est alors converti en
      données binaires. La taille des données binaires générées est fixée, de telle sorte que la sortie du
      bruit source soit déterminée dans un espace fixe<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le <span 
class="ec-lmbx-10x-x-109">composant de conditionnement</span>, qui permet d&#8217;augmenter ou diminuer le taux d&#8217;entropie reçu.
      L&#8217;algorithme de conditionnement doit être un algorithme cryptographique approuvé<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">une <span 
class="ec-lmbx-10x-x-109">batterie de tests</span>, partie également intégrante du système. Des tests sont réalisés pour déterminer
      l&#8217;état de santé du générateur aléatoire, permettant de s&#8217;assurer que la source d&#8217;entropie fonctionne comme
      attendu. On considère trois catégories de tests<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize">les tests au démarrage sur tous les composants de la source<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">les tests lancés de façon continue sur le bruit généré par la source<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">les tests sur demande (qui peuvent prendre du temps).<br 
class="newline" /></li></ul>
      <!--l. 57--><p class="noindent" >L&#8217;objectif principal de ces tests est d&#8217;être capable d&#8217;identifier rapidement des échecs de génération
      d&#8217;entropie, ceci avec une forte probabilité. Il est donc important de déterminer une bonne stratégie de
      détermination d&#8217;échec pour chacun de ces tests.<br 
class="newline" /></li></ul>
<!--l. 60--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                                  

                                                                                                  
<a 
 id="x6-16001r1"></a><a 
 id="x6-36001r8"></a><a 
 id="x6-43001r14"></a><a 
 id="x6-50001r11"></a><a 
 id="x6-50013r12"></a>
                                                                                                  

                                                                                                  
<div class="center" 
>
<!--l. 61--><p class="noindent" >
<!--l. 87--><p class="noindent" >                                                                           <!--l. 73--><p class="noindent" > <!--l. 77--><p class="noindent" ><span 
class="ec-lmbx-10x-x-109">Source d&#8217;entropie</span><span 
class="ec-lmbx-10x-x-109">Bruit</span>DonnéesDigitalisation<!--l. 67--><p class="noindent" >Conditionnement
    (optionnel)Batterie de testsSortieApplicationout1out2out1out2true/falseoutput/error
</div>
<br /> <div class="caption" 
><span class="id"><span 
class="ec-lmcsc-10x-x-109">Figure</span>&#x00A0;1.1: </span><span  
class="content">Composants d&#8217;une source d&#8217;entropie. <span 
class="ec-lmtt-10x-x-109">out1 </span>est une chaîne binaire de taille quelconque et <span 
class="ec-lmtt-10x-x-109">out2</span>
est une chaîne binaire conditionnée de taille fixe. </span></div><!--tex4ht:label?: x6-16001r1 -->
                                                                                                  

                                                                                                  
<!--l. 90--><p class="indent" >   </div><hr class="endfigure">
<!--l. 92--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-20" id="x6-170004"><span 
class="ec-lmbx-10x-x-109">Mod</span><span 
class="ec-lmbx-10x-x-109">èle conceptuel.</span><br 
class="newline" /></a></span>
   Suivant ces sections précédentes, on peut déterminer trois interfaces conceptuelles<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize"><span 
class="ec-lmtt-10x-x-109">getEntropy </span>qui retourne
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">entropy_bitstring</span>, une chaîne de bits de l&#8217;entropie demandée<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">assessed_entropy</span>, entier indiquant le nombre de bits d&#8217;entropie de <span 
class="ec-lmtt-10x-x-109">entropy_bitstring</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">status</span>, booléen renvoyant <span 
class="ec-lmtt-10x-x-109">true </span>si la requête est satisfaite, <span 
class="ec-lmtt-10x-x-109">false </span>sinon.<br 
class="newline" /></li></ul>
      </li>
      <li class="itemize"><span 
class="ec-lmtt-10x-x-109">getNoise </span>qui prend en entrée<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">number_of_sample_requested</span>, entier indiquant le nombre d&#8217;éléments demandés en retour à la
         source de bruit.<br 
class="newline" /></li></ul>
      <!--l. 105--><p class="noindent" >et en sortie<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">noise_source_data</span>,      la      séquence      d&#8217;éléments      demandée,      ayant      la      taille
         <span 
class="ec-lmtt-10x-x-109">number_of_sample_requested</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">status</span>, booléen renvoyant <span 
class="ec-lmtt-10x-x-109">true </span>si la requête est satisfaite, <span 
class="ec-lmtt-10x-x-109">false </span>sinon.<br 
class="newline" /></li></ul>
      </li>
      <li class="itemize"><span 
class="ec-lmtt-10x-x-109">HealthTest</span>, élément test de la batterie de tests, qui prend en entrée<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">type_of_test_requested</span>, chaine de bits déterminant le type de tests que l&#8217;on souhaite effectuer
         (peut différer suivant le type de source).<br 
class="newline" /></li></ul>
      <!--l. 114--><p class="noindent" >et en sortie<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">pass-fail_flag</span>, booléen qui renvoie <span 
class="ec-lmtt-10x-x-109">true </span>si la source d&#8217;entropie a réussi le test, <span 
class="ec-lmtt-10x-x-109">faux </span>sinon.<br 
class="newline" /></li></ul>
      </li></ul>
<a 
 id="x6-17001r17"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1.5   </span> <a 
href="rapport_Auditli1.html#QQ2-6-21" id="x6-180005">Standards</a></h4>
<a 
 id="x6-18001r1"></a>
                                                                                                  

                                                                                                  
<h5 class="subsubsectionHead"><span class="titlemark">1.1.5.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-22" id="x6-190001">RFC 4086</a></h5>
<!--l. 124--><p class="noindent" >Nos machines utilisent ce qu&#8217;on appelle des PRNG (Pseudo Random Number Generator), qui sont des algorithmes
qui génèrent une séquence de nombres s&#8217;apparentant à de l&#8217;aléatoire. En réalité rien n&#8217;est aléatoire car tout est
déterminé par des valeurs initiales (état du PRNG) et des contextes d&#8217;utilisation.<br 
class="newline" />
<!--l. 126--><p class="indent" >   Un bon PRNG se doit d&#8217;avoir une très forte entropie (proche de un), afin d&#8217;éviter de délivrer de l&#8217;information.
Comme l&#8217;entropie est fournie majoritairement (si ce n&#8217;est totalement) par l&#8217;OS, il est donc nécessaire de détailler les
PRNG les plus utilisés (surtout par les systèmes Linux et BSD - qui sont ceux qui génèrent le plus de certificats
SSL).<br 
class="newline" />
<!--l. 129--><p class="indent" >   Nous nous basons sur la RFC 4086 <span class="cite">[<a 
href="rapport_Auditli5.html#Xrfc4086">1</a>]</span><span class="frenchb-nbsp">&nbsp;</span>: <span 
class="ec-lmri-10x-x-109">Randomness requirements for security </span>pour le choix des PRNG selon les
différentssystèmes, voir la section "Normes" pour plus d&#8217;informations.
   <h4>1.1.5.1.1   <a 
href="#x6-200001.1.5.1.1" id="x6-200001.1.5.1.1">Sous Linux</a></h4>
<!--l. 133--><p class="indent" >   Il existe plusieurs niveaux de récupération d&#8217;aléatoire sous linux<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" />
      <ul class="itemize1">
      <li class="itemize">Point primaire (<span 
class="ec-lmri-10x-x-109">Primary pool</span>)<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" />512o (128 mots de 4o) + ajout d&#8217;entropie<br 
class="newline" />
      </li>
      <li class="itemize">Point secondaire (<span 
class="ec-lmri-10x-x-109">Secondary pool</span>)<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" />128o pour générer le fichier <span 
class="ec-lmtt-10x-x-109">/dev/random</span>. <br 
class="newline" />Un autre point secondaire existe<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="ec-lmtt-10x-x-109">/dev/urandom</span><br 
class="newline" /></li></ul>
<!--l. 142--><p class="indent" >   L&#8217;entropie est récupérée par exemple lorsqu&#8217;un événement apparaît (telle qu&#8217;une interruption du disque
dur), la date et l&#8217;heure de l&#8217;événement sont récupérés et XORés dans le <span 
class="ec-lmri-10x-x-109">pool</span>, puis sont "mélangés"
avec une primitive polynomiale possédant un degré de 128. Le <span 
class="ec-lmri-10x-x-109">pool </span>devient ensuite une boucle où de
nouvelles données sont XORées ("mélangées" encore par la primitive polynomiale) tout le long du
<span 
class="ec-lmri-10x-x-109">pool</span>.<br 
class="newline" />
<!--l. 144--><p class="indent" >   À chaque appel qui rajoute de l&#8217;entropie dans le <span 
class="ec-lmri-10x-x-109">pool</span>, celui-ci calcule une estimation de la probabilité d&#8217;une
réelle entropie des données. Le <span 
class="ec-lmri-10x-x-109">pool </span>contient alors l&#8217;accumulation des estimations de l&#8217;entropie totale contenue dans
le <span 
class="ec-lmri-10x-x-109">pool</span>.<br 
class="newline" />
<!--l. 146--><p class="indent" >   Les sources d&#8217;entropie sont les suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">interruption clavier - heure et code d&#8217;interruption<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">interruption des complétions du disque - heure de lecture ou écriture<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">mouvement de la souris - heure et position.<br 
class="newline" /></li></ul>
<!--l. 153--><p class="indent" >   Quand des octets aléatoires sont demandés, la <span 
class="ec-lmri-10x-x-109">pool </span>est hachée avec SHA-1 (20 octets). Si plus de 20 octets sont
demandés, le haché est mélangé dans la <span 
class="ec-lmri-10x-x-109">pool </span>pour la rehacher ensuite, etc. À chaque fois que l&#8217;on prend des octets
dans la <span 
class="ec-lmri-10x-x-109">pool</span>, l&#8217;entropie estimée est décrémentée. Pour assurer un niveau minimum d&#8217;entropie au démarrage, la <span 
class="ec-lmri-10x-x-109">pool</span>
                                                                                                  

                                                                                                  
est écrite dans un fichier à l&#8217;extinction de la machine.<br 
class="newline" />
<!--l. 155--><p class="indent" >   <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>fonctionne selon le même principe sauf qu&#8217;il n&#8217;attend pas qu&#8217;il y ait assez d&#8217;entropie pour donner
de l&#8217;aléatoire. Il convient donc pour une génération de clefs de session. Pour générer des clefs cryptographiques
demandant une grande entropie, il est recommandé d&#8217;utiliser <span 
class="ec-lmtt-10x-x-109">/dev/random </span>pour assurer un niveau minimum
d&#8217;entropie.<br 
class="newline" />
<!--l. 157--><p class="indent" >   <span 
class="ec-lmtt-10x-x-109">/dev/random </span>utilise une <span 
class="ec-lmri-10x-x-109">pool </span>d&#8217;entropie de 4096 bits (512 octets) génère de l&#8217;aléatoire et s&#8217;arrête lorsqu&#8217;il n&#8217;y a
plus assez d&#8217;entropie<span class="frenchb-thinspace">&nbsp;</span>; il attend que la <span 
class="ec-lmri-10x-x-109">pool </span>se remplisse à nouveau.<br 
class="newline" />
<!--l. 159--><p class="indent" >   En conclusion, <span 
class="ec-lmtt-10x-x-109">/dev/random </span>doit être utilisé pour une haute qualité d&#8217;entropie (i.e. haute sécurité de
chiffrement, one-time pad), tandis que <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>doit être utilisé pour des applications non sensibles à des
attaques cryptographiques (i.e. jeu en temps réel), car elle génère plus d&#8217;entropie que <span 
class="ec-lmtt-10x-x-109">/dev/random </span>sur un temps
donné, mais s&#8217;arrêtera même s&#8217;il n&#8217;a pas récolté suffisamment d&#8217;entropie.<br 
class="newline" />
<!--l. 161--><p class="indent" >   Par exemple, sur un serveur sans souris ni clavier, définir l&#8217;entropie avec <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>est très
risqué. On recommande donc l&#8217;utilisation de <span 
class="ec-lmtt-10x-x-109">/dev/random </span>lors de l&#8217;audit OpenSSL sur les versions
Linux.<br 
class="newline" />
<!--l. 163--><p class="indent" >   Pour connaître l&#8217;entropie disponible, il suffit d&#8217;entrer la commande suivante<span class="frenchb-nbsp">&nbsp;</span>:
<div class="center" 
>
<!--l. 164--><p class="noindent" >
<!--l. 165--><p class="noindent" ><span 
class="ec-lmtt-10x-x-109">cat /proc/sys/kernel/random/entropy_avail</span>.<br />
</div>
<!--l. 168--><p class="indent" >   Désormais, la taille de la <span 
class="ec-lmri-10x-x-109">pool </span>est hardcodée dans le noyau Linux (<span 
class="ec-lmtt-10x-x-109">/drivers/char/random.c</span><span class="frenchb-nbsp">&nbsp;</span><span 
class="ec-lmtt-10x-x-109">:275</span>)<br 
class="newline" />
<!--l. 170--><p class="indent" >   Linux offre également la possibilité de récupérer de l&#8217;aléatoire depuis un RNG matériel avec la fonction
<span 
class="ec-lmtt-10x-x-109">get_random_bytes_arch</span><br 
class="newline" />
<!--l. 172--><p class="indent" >   Un patch est également disponible afin de générer de l&#8217;aléatoire avec un débit de 100kB/s <span class="cite">[<a 
href="rapport_Auditli5.html#Xmueller2013rng">45</a>]</span>. L&#8217;entropie est
récupérée par le <span 
class="ec-lmri-10x-x-109">CPU timing jitter</span>.<br 
class="newline" />
   <h4>1.1.5.1.2   <a 
href="#x6-210001.1.5.1.2" id="x6-210001.1.5.1.2">Sous Windows</a></h4>
<!--l. 176--><p class="indent" >   Du coté de Microsoft, il est recommandé aux utilisateurs d&#8217;utiliser <span 
class="ec-lmtt-10x-x-109">CryptGenRandom</span>, <span class="cite">[<a 
href="rapport_Auditli5.html#Xwikicryptgenrandom">76</a>]</span> qui est un appel
système de génération d&#8217;un nombre pseudo-aléatoire. La génération est réalisée par une bibliothèque
cryptographique (<span 
class="ec-lmri-10x-x-109">Cryptographic service provider library</span>). Celle-ci gère un pointeur vers un <span 
class="ec-lmri-10x-x-109">buffer </span>en lui fournissant
de l&#8217;entropie afin de générer un nombre pseudo-aléatoire en retour avec en plus, le nombre d&#8217;octets d&#8217;aléatoires
désirés.
                                                                                                  

                                                                                                  
   <div class="verbatim" id="verbatim-1">
BOOL&#x00A0;WINAPI&#x00A0;CryptGenRandom(
&#x00A0;<br />&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;HCRYPTPROV&#x00A0;hProv,
&#x00A0;<br />&#x00A0;_In_&#x00A0;&#x00A0;&#x00A0;&#x00A0;DWORD&#x00A0;dwLen,
&#x00A0;<br />&#x00A0;_Inout_&#x00A0;BYTE&#x00A0;*pbBuffer
&#x00A0;<br />);
</div>
<!--l. 184--><p class="nopar" >
<!--l. 186--><p class="indent" >   Le service <span 
class="ec-lmri-10x-x-109">provider </span>sauvegarde une variable d&#8217;état d&#8217;un sel pour chaque utilisateur. Lorsque <span 
class="ec-lmtt-10x-x-109">CryptGenRandom</span>
est appelé, celui-ci est combiné avec un nombre aléatoire généré par la bibliothèque en plus de différentes données
systèmes mais aussi de l&#8217;utilisateur telles que<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" />
      <ul class="itemize1">
      <li class="itemize">l&#8217;ID du processus<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#8217;ID du thread<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#8217;horloge système<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#8217;heure système<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#8217;état de la mémoire<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#8217;espace disque disponible du <span 
class="ec-lmri-10x-x-109">cluster</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le haché du bloc d&#8217;environnement mémoire de l&#8217;utilisateur.<br 
class="newline" /></li></ul>
<!--l. 197--><p class="indent" >   Le tout est envoyé à la fonction de hachage SHA-1 et le nombre en sortie est utilisé comme sel de clef RC4.
Cette clef est enfin utilisée pour produire des données pseudo-aléatoires et mettre à jour la variable d&#8217;état du sel de
l&#8217;utilisateur.
   <h4>1.1.5.1.3   <a 
href="#x6-220001.1.5.1.3" id="x6-220001.1.5.1.3">Sous OpenBSD et FreeBSD</a></h4>
<!--l. 201--><p class="indent" >   Il faut faire attention aux faux amis, car le <span 
class="ec-lmtt-10x-x-109">/dev/random </span>du FreeBSD n&#8217;est pas le même que celui de Linux.
En fait, il est semblable au <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>de Linux, et est donc tout autant proscrit lors de notre
audit.<br 
class="newline" />
<!--l. 203--><p class="indent" >   Dans OpenBSD, on trouve des sources d&#8217;aléatoire supplémentaires par rapport à Linux. On trouve notamment
<span 
class="ec-lmtt-10x-x-109">/dev/arandom </span>qui génère de l&#8217;aléatoire selon une version <span 
class="ec-lmri-10x-x-109">leak</span><span 
class="ec-lmri-10x-x-109">ée </span>de <span 
class="ec-lmtt-10x-x-109">RC4</span><span class="frenchb-nbsp">&nbsp;</span>: <span 
class="ec-lmtt-10x-x-109">ARC4 </span>(Alleged RC4). Pour
rappel, <span 
class="ec-lmtt-10x-x-109">RC4 </span>était un projet commercial de <span 
class="ec-lmtt-10x-x-109">RSA Security </span>et un hacker anonyme a publié un code qui
faisait globalement la même chose, code légitime identifié par <span 
class="ec-lmtt-10x-x-109">ARC4</span>. De nos jours, il est fortement
conseillé de ne plus utiliser <span 
class="ec-lmtt-10x-x-109">RC4 </span>car le flux de données aléatoires n&#8217;est en fait pas vraiment aléatoire et il
existe des attaques qui prédisent la sortie de l&#8217;algorithme (Attaque de Fluhrer, Mantin et Shamir)
.<br 
class="newline" />
<!--l. 206--><p class="indent" >   Sur plusieurs de nos sources (plus anciennes), il est recommandé d&#8217;utiliser <span 
class="ec-lmtt-10x-x-109">/dev/arandom </span>pour sa rapidité (71
                                                                                                  

                                                                                                  
Mb/s) et sa bonne source d&#8217;entropie. Ce n&#8217;est plus vraiment le cas aujourd&#8217;hui.<br 
class="newline" />
   <h4>1.1.5.1.4   <a 
href="#x6-230001.1.5.1.4" id="x6-230001.1.5.1.4">Autres systèmes</a></h4>
<!--l. 211--><p class="indent" >   Nous avons également d&#8217;autres RNG comme <span 
class="ec-lmtt-10x-x-109">/dev/srandom</span>, <span 
class="ec-lmtt-10x-x-109">/dev/prandom </span>ou encore <span 
class="ec-lmtt-10x-x-109">/dev/wrandom </span><span class="cite">[<a 
href="rapport_Auditli5.html#Xmiros2013">41</a>]</span>.
<span 
class="ec-lmtt-10x-x-109">/dev/srandom </span>est simple et lent, il n&#8217;est pas recommandé de l&#8217;utiliser.<br 
class="newline" />
<!--l. 213--><p class="indent" >   Certains systèmes ne disposant pas de <span 
class="ec-lmtt-10x-x-109">/dev/*random</span>, peuvent utiliser l&#8217;EGD (Entropy Gathering Daemon) <span class="cite">[<a 
href="rapport_Auditli5.html#Xegdsf.net">75</a>]</span>.
Il faut alors utiliser les fonctions OpenSSL <span 
class="ec-lmtt-10x-x-109">RAND_egd</span>, <span 
class="ec-lmtt-10x-x-109">RAND_egd_bytes </span>et <span 
class="ec-lmtt-10x-x-109">RAND_query_egd_bytes</span>. L&#8217;EGD est
également utilisé par GPG, et peut être utilisé comme <span 
class="ec-lmri-10x-x-109">seed</span>.
<a 
 id="x6-23001r22"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.1.5.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-27" id="x6-240002">FIPS 140</a></h5>
<!--l. 217--><p class="noindent" >Le FIPS 140 (<span 
class="ec-lmri-10x-x-109">Ferderal Information Processing Standards</span>) est un standard du gouvernement américain spécifique
aux modules cryptographiques déployés par des éléments du gouvernement. Il inclut notamment des
standards de tests qui permettent de décrire la qualité et/ou valider des générateurs d&#8217;entropie ou
générateurs pseudo-aléatoires. La version la plus récente est le FIPS 140-2, qui décrit plusieurs niveaux de
tests.<br 
class="newline" />
<!--l. 220--><p class="indent" >   Les test du FIPS 140-1 permettent de s&#8217;assurer que les sources d&#8217;entropies produisent suffisamment de "bonnes"
données, pourvu que les sources d&#8217;entropies n&#8217;utilisent pas quelques opérations cryptographiques internes. Si une
source d&#8217;entropie en utilise, alors elle réussira les tests avec quasi-certitude, même si la source d&#8217;entropie est faible.
De ce fait, ces jeux de tests ne sont pas bons pour tester des générateurs de nombres pseudo-aléatoires
cryptographiques, car ceux-ci passeront facilement les tests même si les générateurs d&#8217;entropie sont faibles. Par
exemple, si l&#8217;on hache une suite d&#8217;entiers (par pas de 1), les tests seront tous validés bien qu&#8217;ils n&#8217;auront pas
été tirés aléatoirement, ceci en vertu de la fonction de hachage. Pourtant, la donnée est hautement
prédictible.<br 
class="newline" />
<!--l. 223--><p class="indent" >   Les tests du FIPS 140-2 ne sont également pas très efficaces, et permettent seulement de détecter si un matériel
commence à produire un motif répété. Ils consistent à comparer différentes sorties consécutives d&#8217;un générateur.
Ainsi, si le "générateur aléatoire" consiste à produire une simple incrémentation de nombres, les tests passeront
sans problème.<br 
class="newline" />
<!--l. 226--><p class="indent" >   Il est donc conseillé d&#8217;utiliser les tests du FIPS 140-1 et 140-2 pour vérifier uniquement si la source d&#8217;entropie
produit de bonnes données, au démarrage et périodiquement lorsque c&#8217;est possible. <br 
class="newline" />
<!--l. 230--><p class="indent" >   Le FIPS 140-1 définit 4 tests statistiques à lancer sur 20000 bits consécutifs, tests au démarrage ou à la
demande<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-24002x1">le <span 
class="ec-lmbx-10x-x-109">test Monobit</span>, où le nombre de bits à &#8217;1&#8217; sont comptés. Le test est considéré comme réussi si le
      nombre de bits à &#8217;1&#8217; est raisonnablement proche de 10 000<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-24004x2">le  <span 
class="ec-lmbx-10x-x-109">test  Poker</span>,  pour  lequel  les  données  sont  séparées  en  une  suite  consécutive  de  4bits  pour
      déterminer combien de fois les 16 configurations de 4 bits apparaissent. Les carrés du résultats sont
      sommés et permettent de définir si le test passe ou non<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
                                                                                                  

                                                                                                  
      <li 
  class="enumerate" id="x6-24006x3">le <span 
class="ec-lmbx-10x-x-109">test runs</span>, que nous développerons dans les recommandations du NIST<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-24008x4">le test <span 
class="ec-lmbx-10x-x-109">long runs</span>, qui effectue le test de runs sur 34 bits ou davantage.<br 
class="newline" /></li></ol>
<!--l. 239--><p class="indent" >   Le FIPS 140-2 définit enfin des tests continuels de sortie (<span 
class="ec-lmri-10x-x-109">continuous output tests</span>). Les données de sortie sont
découpés en blocs de 16 octets (ou davantage). Le premier bloc est stocké et comparé au second. S&#8217;ils sont
identiques, alors le test est échoué. On passe à la paire suivante, le 2e bloc est comparé avec le 3e,
etc.
<a 
 id="x6-24009r9"></a>
<h3 class="sectionHead"><span class="titlemark">1.2   </span> <a 
href="rapport_Audit.html#QQ2-6-28" id="x6-250002">Une backdoor dans nos sytèmes cryptographiques<span class="frenchb-thinspace">&nbsp;</span>?</a></h3>
<a 
 id="x6-25001r21"></a>
<h4 class="subsectionHead"><span class="titlemark">1.2.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-29" id="x6-260001">L&#8217;affaire Snowden et les documents top secrets de la NSA</a></h4>
<!--l. 245--><p class="noindent" >Coup d&#8217;éclat en 2012, Edward Snowden, ancien-membre de la NSA et de la CIA, dévoile l&#8217;existence des <span 
class="ec-lmri-10x-x-109">backdoors</span>
ainsi qu&#8217;un lot d&#8217;informations conséquent sur la forte influence de la NSA sur le NIST et la RSA Security <span class="cite">[<a 
href="rapport_Auditli5.html#Xsnowden2013reuters">39</a>]</span>. Il
préleva ainsi plus de 1 700 000 documents à la NSA (d&#8217;après un officier de la NSA - 15 décembre 2013), dont 31
000 ultra-confidentiels <span class="cite">[<a 
href="rapport_Auditli5.html#XwikiSnowden">77</a>]</span>. Il délivra quelques documents à plusieurs journaux populaires tels que <span 
class="ec-lmri-10x-x-109">"The Guardian"</span>
et <span 
class="ec-lmri-10x-x-109">"The New York Times"</span>.<br 
class="newline" />
<!--l. 248--><p class="indent" >   Parmi les documents top secrets rendus publiques, un en particulier nous intéresse <span class="cite">[<a 
href="rapport_Auditli5.html#XtopsecretNSA">50</a>]</span>. Il concerne le contrôle
de la NSA sur les systèmes de chiffrement actuels, nom de code <span 
class="ec-lmtt-10x-x-109">BULLRUN</span>, dont voici quelques points
importants<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" />
      <ul class="itemize1">
      <li class="itemize"><span 
class="ec-lmri-10x-x-109">"Insert  vulnerabilities  into  commercial  encryption  systems,  IT  systems,  networks,  endpoint</span>
      <span 
class="ec-lmri-10x-x-109">communications devices used by targets"</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="ec-lmri-10x-x-109">"Influence policies, standards and specification for commercial public key technologies"</span>.<br 
class="newline" /></li></ul>
<!--l. 254--><p class="indent" >   Bruce Schneier, un des plus grands cryptologues actuel, et fervent détracteur de la NSA, publie plusieurs articles
concernant ce contrôle d&#8217;informations sur la question "La NSA a t-elle réellement placé une <span 
class="ec-lmri-10x-x-109">backdoor </span>au sein d&#8217;un
nouveau système de chiffrement<span class="frenchb-thinspace">&nbsp;</span>?" <span class="cite">[<a 
href="rapport_Auditli5.html#Xschneier2007NSA">58</a>]</span> <br 
class="newline" />
<!--l. 256--><p class="indent" >   Il évoque également le projet <span 
class="ec-lmtt-10x-x-109">BULLRUN</span>, montrant comment la NSA peut placer ses <span 
class="ec-lmri-10x-x-109">backdoors</span>, comment elle peut
les choisir, et propose plusieurs stratégies de défense <span class="cite">[<a 
href="rapport_Auditli5.html#Xschneier2013NSA">59</a>]</span> pour les vaincre, notamment<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">les vendeurs doivent rendre au minimum le code de chiffrement publique (spécifications concernant
      les protocoles inclus). Le reste peut être conservé secret<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">la communauté des cryptologues doit pouvoir offrir une version compatible et indépendante du
      système de chiffrement, en <span 
class="ec-lmri-10x-x-109">open-source </span>ou en vente auprès des entreprises privées (pour financer les
      universités par exemple)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">il ne doit y avoir aucun secret. Tout doit être entièrement transparent auprès des clients<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
                                                                                                  

                                                                                                  
      <li class="itemize">l&#8217;ensemble des PRNG doivent être rendus conformes avant publication et acceptation<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">aucune fuite d&#8217;information n&#8217;est permise, surtout au niveau des protocoles de chiffrement. Ceci afin
      d&#8217;éviter la prédiction de clefs privées.<br 
class="newline" /></li></ul>
<!--l. 265--><p class="indent" >   En Septembre 2013, Matthew Green publie un article <span class="cite">[<a 
href="rapport_Auditli5.html#Xgreen2013NSA">25</a>]</span> sur ce vaste problème entre la NSA et la sécurité
cryptographique, qui a été salué par plusieurs cryptologues dont B. Schneier.<br 
class="newline" />
<!--l. 267--><p class="indent" >   Il précise cependant que ceci ne reste que des spéculations, mais qu&#8217;elles sont nécessaires afin de redoubler
d&#8217;efforts dans la sécurité de nos communications.<br 
class="newline" />
<a 
 id="x6-26001r29"></a>
<h4 class="subsectionHead"><span class="titlemark">1.2.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-30" id="x6-270002">Le NIST et l&#8217;algorithme Dual EC DRBG</a></h4>
<!--l. 272--><p class="noindent" >Un rapport de Snowden, indique que la NSA a versé plus de 10 000 000$ à la compagnie RSA Security <span class="cite">[<a 
href="rapport_Auditli5.html#Xravi2013NSA">38</a>]</span> pour
qu&#8217;elle utilise ce dernier, et discutable, algorithme comme générateur. On comprend donc mieux les
suspicions autour d&#8217;un accord entre le NIST et la NSA pour la publication d&#8217;une recommandation de cet
algorithme.<br 
class="newline" />
<!--l. 274--><p class="indent" >   Les recommandations du NIST en matière de PRNG (qu&#8217;ils appellent plutôt DRNG - Determinist Random
Number Generation), débute en 2006, la publication du dernier document sur les DRNG date de Janvier 2012 avec
la <span 
class="ec-lmtt-10x-x-109">SP800-90A </span><span class="cite">[<a 
href="rapport_Auditli5.html#Xnist800-90A">32</a>]</span>.<br 
class="newline" />
<!--l. 276--><p class="indent" >   Ce document présente quatre algorithmes de PRNG qui sont<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">le Hash_DRBG basé sur des fonctions de hachage<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le HMAC_DRBG basé également sur des fonctions de hachage<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le CTR_DRBG basé sur du chiffrement par bloc<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le <span 
class="ec-lmri-10x-x-109">Dual Elliptic Curve Deterministic RBG </span>(ou <span 
class="ec-lmri-10x-x-109">Dual EC DRBG</span>) basé sur une théorie mathématique.<br 
class="newline" /></li></ul>
<!--l. 284--><p class="indent" >   Les trois premiers sont conventionnels, acceptés par toute la communauté des cryptologues, et s&#8217;avèrent
efficaces car ils génèrent "suffisamment" d&#8217;entropie. Le dernier est très différent des trois autres, dans le sens où il
utilise une fonction de chiffrement à sens unique. Certains cryptologues ont démontré que cet algorithme possède
des failles (d&#8217;autres indiquent clairement que c&#8217;est une backdoor du NIST...). En effet, on peut accepter
l&#8217;utilisation d&#8217;une fonction à sens unique, à condition que le secret utilisé ne soit pas conservé ailleurs (en
d&#8217;autres termes qu&#8217;il soit détruit). Que faire si le NIST garde le secret des algorithmes permettant
d&#8217;affaiblir considérablement le <span 
class="ec-lmri-10x-x-109">Dual EC DRGB</span>, et rendre l&#8217;aléatoire prévisible pour qui s&#8217;en donne les
moyens<span class="frenchb-thinspace">&nbsp;</span>?<br 
class="newline" />
<!--l. 286--><p class="indent" >   En recoupant plusieurs sources, le doute augmente considérablement. En 2006, Berry Schoenmakers et Andrey
Sidorenko établissent une cryptanalyse du <span 
class="ec-lmri-10x-x-109">DUAL EC DRGB </span><span class="cite">[<a 
href="rapport_Auditli5.html#Xdualecrbg2006berry">60</a>]</span>. En 2007, Dan Shumow et Niels Ferguson
furent les premiers à dénoncer le NIST d&#8217;avoir placé une <span 
class="ec-lmri-10x-x-109">backdoor </span>délibérément dans cet algorithme
<span class="cite">[<a 
href="rapport_Auditli5.html#Xshumow2007nist">63</a>]</span>.<br 
class="newline" />
<!--l. 288--><p class="indent" >   Avant septembre 2013, tout cela n&#8217;était que suspicion, mais depuis le NIST à publié un bulletin de nouvelles
recommandations pour les DRNG <span class="cite">[<a 
href="rapport_Auditli5.html#XnewRecomendingNist">49</a>]</span>, et indique (surtout grâce à un forcing de la communauté cryptologue) que le
<span 
class="ec-lmri-10x-x-109">Dual EC DRBG </span>ne doit plus être utilisé pour les raisons suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">la provenance des points par défaut de la courbe elliptique utilisée n&#8217;est pas clairement détaillée<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">la génération de ces courbes n&#8217;est pas digne de confiance.<br 
class="newline" /></li></ul>
<!--l. 293--><p class="noindent" ><span 
class="ec-lmri-10x-x-109">"</span><span 
class="ec-lmbxi-10x-x-109">Recommending against the use of SP 800-90A Dual Elliptic Curve Deterministic Random Bit</span>
<span 
class="ec-lmbxi-10x-x-109">Generation</span><span class="frenchb-nbsp">&nbsp;</span><span 
class="ec-lmbxi-10x-x-109">: </span><span 
class="ec-lmri-10x-x-109">NIST strongly recommends that, pending the resolution of the security concerns and there - issuance</span>
<span 
class="ec-lmri-10x-x-109">of SP 800-90A, the Dual_EC_DRBG, as specified in the January 2012 version of SP 800-90A, no longer be</span>
<span 
class="ec-lmri-10x-x-109">used"</span>.<br 
class="newline" />
<a 
 id="x6-27001r30"></a>
<h4 class="subsectionHead"><span class="titlemark">1.2.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-31" id="x6-280003">... Et OpenSSL<span class="frenchb-thinspace">&nbsp;</span>?</a></h4>

<!--l. 297--><p class="noindent" >À présent, il faut rechercher l&#8217;utilisation de cet algorithme dans les classes d&#8217;OpenSSL, la nouvelle recommandation
du NIST faisant foi. Le directeur technique d&#8217;OpenSSL Steve Marques a rapporté le 19 décembre
2013 qu&#8217; "un bug inusuel [avait] été détecté sur une situation inusuelle". Paul Ducklin apporte une
bonne synthèse sur le site NakedSecurity <span class="cite">[<a 
href="rapport_Auditli5.html#Xduckin2013openssl">17</a>]</span>, le titre est clair<span class="frenchb-nbsp">&nbsp;</span>: "Le bug d&#8217;OpenSSL nous sauve de
l&#8217;espionnage".<br 
class="newline" />
<!--l. 300--><p class="indent" >   L&#8217;implantation du DUAL_EC_DRGB dans OpenSSL contient une faille, celle-ci causant un arrêt brutal ou un
blocage de programme. Le bug a toujours été là, et il vient seulement d&#8217;être détecté. Heureusement, personne n&#8217;a
pu utiliser cet algorithme, celui-ci est resté dans les phases de tests, les passant tout de même avec
succès.<br 
class="newline" />
<a 
 id="x6-28001r28"></a>
<h3 class="sectionHead"><span class="titlemark">1.3   </span> <a 
href="rapport_Audit.html#QQ2-6-32" id="x6-290003">Audits</a></h3>
<a 
 id="x6-29001r31"></a>
<h4 class="subsectionHead"><span class="titlemark">1.3.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-33" id="x6-300001">Audit 1.1<span class="frenchb-nbsp">&nbsp;</span>: Le cas Debian 4.0 et OpenSSL 0.9.8</a></h4>
<a 
 id="x6-30001r27"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-34" id="x6-310001">Normes visées</a></h5>
<!--l. 305--><p class="noindent" >Les normes visées furent la RFC 4086 <span class="cite">[<a 
href="rapport_Auditli5.html#Xrfc4086">1</a>]</span> et le FIPS 140-2 <span class="cite">[<a 
href="rapport_Auditli5.html#Xfips140-2">70</a>]</span>. La première définit le bon fonctionnement
d&#8217;un RNG, tandis que la deuxième apporte plutôt des algorithmes réputés sûrs pour la génération
d&#8217;aléatoire.
<a 
 id="x6-31001r34"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-35" id="x6-320002">Description de la faille</a></h5>
<!--l. 308--><p class="noindent" >Le 13 mai 2008, Luciano Bello a découvert une faille critique du paquet d&#8217;OpenSSL sur les systèmes Debian <span class="cite">[<a 
href="rapport_Auditli5.html#Xfaille2008linux.org">2</a>]</span>. Un
mainteneur Debian souhaitant corriger quelques bugs aurait malencontreusement supprimé une grosse source
d&#8217;entropie lors de la génération des clefs. Il ne restait plus que le PID comme source d&#8217;entropie. Comme celui-ci ne
pouvait dépasser 32 768 (qui le PID maximal par défaut atteignable), l&#8217;espace des clefs a été restreint à 264 148
clefs distinctes.<br 
class="newline" />
<!--l. 310--><p class="indent" >   Le 14 mai 2008, Steinar H. Gunderson démontre qu&#8217;en connaissant le secret <span 
class="lmmi-10x-x-109">k </span>d&#8217;une signature, on peut
retrouver la clef privée d&#8217;un certificat immédiatement <span class="cite">[<a 
href="rapport_Auditli5.html#Xgunderson2008">26</a>]</span>. Ce secret <span 
class="lmmi-10x-x-109">k </span>étant généré avec un PRNG prévisible, on
peut stocker deux signatures utilisant le même <span 
class="lmmi-10x-x-109">k</span>, où le prédire directement.<br 
class="newline" />
<!--l. 312--><p class="indent" >   Une signature DSA consiste en deux nombres <span 
class="lmmi-10x-x-109">r </span>et <span 
class="lmmi-10x-x-109">s </span>tels que<span class="frenchb-nbsp">&nbsp;</span>:
<!--l. 314--><p class="indent" >
   <center class="math-display" >
<img 
src="rapport_Audit4x.png" alt="     k
r = (g [p])[q]
" class="math-display" ></center>
   <center class="math-display" >
<img 
src="rapport_Audit5x.png" alt="      -1
s = (k   *(H (m )+ x *r))[q]
" class="math-display" ></center>
<!--l. 317--><p class="indent" >   La clé publique = <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">p,q,g</span><span 
class="rm-lmr-10x-x-109">)</span>, le message en clair = <span 
class="lmmi-10x-x-109">m</span>, et <span 
class="lmmi-10x-x-109">H</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">m</span><span 
class="rm-lmr-10x-x-109">) </span>est le <span 
class="ec-lmri-10x-x-109">fingerprint </span>de <span 
class="lmmi-10x-x-109">m </span>qui est également
connu.
      <ul class="itemize1">
      <li class="itemize">Attaque n<span 
class="ec-lmr-7x-x-101">o</span> 1<span class="frenchb-nbsp">&nbsp;</span>: En connaissant <span 
class="lmmi-10x-x-109">k</span>
      <center class="math-display" >
      <img 
src="rapport_Audit6x.png" alt="s*k [q] = (H (m )+ x *r)[q]
      " class="math-display" ></center>
                                                                                                  

                                                                                                  
      <center class="math-display" >
      <img 
src="rapport_Audit7x.png" alt="&#x21D0;&#x21D2;  (s* k - H (m ))[q] = x* r[q]
      " class="math-display" ></center>
      <center class="math-display" >
      <img 
src="rapport_Audit8x.png" alt="&#x21D0; &#x21D2; ((s* k - H (m ))* r-1)[q] = x
      " class="math-display" ></center>
      <center class="math-display" >
      <img 
src="rapport_Audit9x.png" alt="                     -1
&#x21D0;&#x21D2;  (s* k - H(m ))* r  =  x
      " class="math-display" ></center>
      </li>
      <li class="itemize">Attaque n<span 
class="ec-lmr-7x-x-101">o</span> 2<span class="frenchb-nbsp">&nbsp;</span>: Deux messages possèdent le même <span 
class="lmmi-10x-x-109">k</span>
      <center class="math-display" >
      <img 
src="rapport_Audit10x.png" alt="s1 = (k- 1(H (m1 )+ x *r))[q]
      " class="math-display" ></center>
      <center class="math-display" >
                                                                                                  

                                                                                                  
      <img 
src="rapport_Audit11x.png" alt="s2 = (k- 1(H (m2 )+ x *r))[q]
      " class="math-display" ></center>
      <center class="math-display" >
      <img 
src="rapport_Audit12x.png" alt="&#x21D0; &#x21D2; s  - s =  (k- 1(H (m  )- H (m  ))[q]
     1    2            1        2
      " class="math-display" ></center>
      <center class="math-display" >
      <img 
src="rapport_Audit13x.png" alt="                               -1    -1
&#x21D0;&#x21D2;  (s1 - s2)* (H (m1 )- H (m2 )) = k   [q]
      " class="math-display" ></center>
      <center class="math-display" >
      <img 
src="rapport_Audit14x.png" alt="&#x21D0; &#x21D2; On  conna ît k = &#x21D2; Attaque 1
      " class="math-display" ></center><br 
class="newline" /></li></ul>
<!--l. 334--><p class="indent" >   Pour savoir si une clef SSL, SSH, DNSSEC ou OpenVPN est affectée, plusieurs détecteurs de données <span class="cite">[<a 
href="rapport_Auditli5.html#Xdowkd.pl">12</a>]</span> <span class="cite">[<a 
href="rapport_Auditli5.html#Xopenssl-blacklist">13</a>]</span>
de clés faibles sont fournies par l&#8217;équipe Security de Debian, en même temps que l&#8217;avertissement de sécurité
<span class="cite">[<a 
href="rapport_Auditli5.html#Xdebian2008bug">11</a>]</span>.<br 
class="newline" />
<a 
 id="x6-32001r35"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-36" id="x6-330003">Tests</a></h5>
<!--l. 338--><p class="noindent" >Nous avons décidé de tester le nombre de certificats vulnérables causés par le bug OpenSSL de Debian (qui reste le plus
populaire), et connaissant la <span 
class="ec-lmri-10x-x-109">blacklist </span>des clefs privées. Les résultats nous montrent que sur 500 000 certificats récupérés,
                                                                                                  

                                                                                                  
au moins <span class="footnote-mark"><a 
href="rapport_Audit7.html#fn1x2"><sup class="textsuperscript">1</sup></a></span><a 
 id="x6-33001f1"></a> 
769 sont vulnérables.<br 
class="newline" />
<!--l. 340--><p class="indent" >   Vous pouvez trouver nos scripts parcourant un fichier contenant un certificat sur chaque ligne, ou un dossier
contenant des certificats sous forme de fichiers PEM et nos résultats, dans le dossier consacré à l&#8217;audit des clefs
cryptographiques.<br 
class="newline" />
<!--l. 342--><p class="indent" >   Le format de nos résultats est<span class="frenchb-nbsp">&nbsp;</span>: <br 
class="newline" />
<!--l. 344--><p class="indent" >   <span 
class="ec-lmbx-10x-x-109">COMPROMISED</span><span class="frenchb-nbsp">&nbsp;</span><span 
class="ec-lmbx-10x-x-109">: </span><span 
class="ec-lmri-10x-x-109">&#x003C;hach</span><span 
class="ec-lmri-10x-x-109">é_du_certificat&#x003E; &#x003C;nom _fichier_corrompu (sous forme d&#8217;adresse</span>
<span 
class="ec-lmri-10x-x-109">IP)&#x003E;</span><br 
class="newline" />
<!--l. 346--><p class="indent" >   Évidemment, nous ne mettons pas ces résultats sur le net puisqu&#8217;ils indiquent très clairement les
adresses IP contenant le certificat friable, et sa clef privée (que l&#8217;on peut facilement retrouver parmi la
courte blacklist). Pour information, parmi les entreprises vulnérables nous trouvons les géants IBM et
CISCO.
<a 
 id="x6-33002r36"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-37" id="x6-340004">Implémentation</a></h5>
<!--l. 350--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-38" id="x6-350004"><span 
class="ec-lmbx-10x-x-109">Configuration utilis</span><span 
class="ec-lmbx-10x-x-109">ée.</span><br 
class="newline" /></a></span>
   Première version OpenSSL vulnérable<span class="frenchb-nbsp">&nbsp;</span>: 0.9.8c-1.<br 
class="newline" />Première distribution stable où la vulnérabilité a été corrigé OpenSSL 0.9.8c-4etch3 pour Debian/Etch.<br 
class="newline" />Première distribution de test où la vulnérabilité a été corrigé OpenSSL 0.9.8g-9 pour Debian/Lenny.<br 
class="newline" />Première distribution instable où la vulnérabilité a été corrigé OpenSSL 0.9.8g-9 pour Debian/Sid.<br 
class="newline" />
<!--l. 358--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-39" id="x6-360004"><span 
class="ec-lmbx-10x-x-109">Fonction.</span><br 
class="newline" /></a></span>
   La fonction liée à cette norme est accessible sous le paquetage <span 
class="ec-lmtt-10x-x-109">openssl/crypto/rand/md_rand.c </span>(cf. <span 
class="ec-lmri-10x-x-109">Listing</span>
<a 
href="#x6-36001r1">1.1<!--tex4ht:ref: mdrand --></a>).
   <!--l. 362-->
<a 
 id="x6-36001r1"></a>
<a 
 id="x6-36002"></a>
   <div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x6-36003r1"></a><span 
class="ec-lmr-6">1</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">#</span><span 
class="ec-lmtk-10x-x-90">ifndef</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">PURIFY</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-36004r2"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">/*</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-36005r3"></a><span 
class="ec-lmr-6">3</span></span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">*</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">Don</span><span 
class="ec-lmtti-10x-x-90">&#8217;</span><span 
class="ec-lmtti-10x-x-90">t</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">add</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">uninitialised</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">data</span><span 
class="ec-lmtti-10x-x-90">.</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-36006r4"></a></span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">MD_Update</span><span 
class="ec-lmtti-10x-x-90">(&amp;</span><span 
class="ec-lmtti-10x-x-90">m</span><span 
class="ec-lmtti-10x-x-90">,</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">buf</span><span 
class="ec-lmtti-10x-x-90">,</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">j</span><span 
class="ec-lmtti-10x-x-90">)</span><span 
class="ec-lmtti-10x-x-90">;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">/*</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">purify</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">complains</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">*/</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-36007r5"></a><span 
class="ec-lmr-6">5</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">*/</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-36008r6"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">#</span><span 
class="ec-lmtk-10x-x-90">endif</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-36009r7"></a><span 
class="ec-lmr-6">7</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span>
   
   <br />
       <div class="caption" 
><span class="id">Listing&#x00A0;1.1:
       </span><span  
class="content">md_rand.c</span></div><!--tex4ht:label?: x6-36001r1.1.5.1.4 -->
   </div>
                                                                                                  

                                                                                                  
<!--l. 371--><p class="indent" >   Analysons plus en détail cette faille. La conséquence est le blocage de la graine (seed) que l&#8217;on passe ensuite au
PRNG. Cette ligne a été commentée par erreur en voulant corriger un avertissement soulevé par le compilateur
Valgrind sur une valeur non initialisée.
<a 
 id="x6-36010r37"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.5   </span> <a 
href="rapport_Auditli1.html#QQ2-6-41" id="x6-370005">Conclusion</a></h5>
     Tout d&#8217;abord, il est fortement recommandé de mettre à jour sa version OpenSSL vers une version stable où le
bug a été corrigé. Puis de générer de nouvelles clefs de chiffrement, et de révoquer les certificats corrompus. Il reste
malheureusement beaucoup de certificats (+ de 700) touchés par cette faille, la plupart étant valide jusqu&#8217;en
2020-2030.
<a 
 id="x6-37001r33"></a>
<h4 class="subsectionHead"><span class="titlemark">1.3.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-42" id="x6-380002">Audit 1.2<span class="frenchb-nbsp">&nbsp;</span>: Le cas LinuxMintDebianEdition sous Android</a></h4>
<a 
 id="x6-38001r41"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.2.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-43" id="x6-390001">Normes visées</a></h5>
<!--l. 380--><p class="noindent" >Les normes sont les mêmes que l&#8217;Audit 1.1.
<a 
 id="x6-39001r43"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.2.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-44" id="x6-400002">Description de la faille</a></h5>
<!--l. 384--><p class="noindent" >Récemment, en août 2013 précisément, un patch de sécurité pour les systèmes Android utilisant la version
LinuxMintDebianEdition/d&#8217; OpenSSL, dévoile une réparation du générateur de nombres pseudo-aléatoires
(PRNG) qui ne donnait pas suffisamment d&#8217;entropie <span class="cite">[<a 
href="rapport_Auditli5.html#Xalex2013android">34</a>]</span> <span class="cite">[<a 
href="rapport_Auditli5.html#Xbochum2013randomly">40</a>]</span>. <br 
class="newline" />
<!--l. 386--><p class="indent" >   Le patch indique que le PRNG de cette version d&#8217;OpenSSL utilise dorénavant une combinaison de données
plus ou moins prévisibles associées à l&#8217;entropie générées par /dev/urandom. Mais sachant que le
PRNG d&#8217;OpenSSL utilise lui-même /dev/urandom, on a du mal à comprendre pourquoi en rajouter
davantage.<br 
class="newline" />
<!--l. 388--><p class="indent" >   Eric Wong et Martin Boßlet apportent la solution sur leur site <span class="cite">[<a 
href="rapport_Auditli5.html#Xboblet2013android">7</a>]</span>. Ils montrent que l&#8217;erreur provient d&#8217;un bug "à
la Debian", une simple ligne diffère de la version officielle d&#8217;OpenSSL (utilisant SecureRandom) à celle de
OpenSSL<span class="frenchb-nbsp">&nbsp;</span>:<span class="frenchb-nbsp">&nbsp;</span>:Random se situant dans la fonction ssleay_rand_bytes. Toutefois, la conséquence n&#8217;est pas aussi lourde
que celle de Debian, tout d&#8217;abord parce que le système Android est rarement utilisé pour du chiffrement de données
sensible, et une attaque par prédiction bien que plus rapide qu&#8217;une attaque par brute-force reste infaisable. Mais
l&#8217;erreur est quand même là. <br 
class="newline" />
<a 
 id="x6-40001r44"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.2.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-45" id="x6-410003">Implémentation</a></h5>
<!--l. 393--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-46" id="x6-420003"><span 
class="ec-lmbx-10x-x-109">Configuration utilis</span><span 
class="ec-lmbx-10x-x-109">ée.</span><br 
class="newline" /></a></span>
   Système Android utilisant la version 1.0.1e d&#8217;OpenSSL au niveau de la classe SecureRandom,
avec la bibliothèque Java Bridge (fichier JAR) accèdant au PRNG d&#8217;OpenSSL, la bibliothèque
core/java/com/android/internal/os/ZygoteInit.java pour la parallélisation des processus (fork).<br 
class="newline" />
                                                                                                  

                                                                                                  
<!--l. 397--><p class="indent" >   OS utilisés Linux Mint Debian Edition (LMDE) et Fedora. Le bug concerne l&#8217;OS LMDE avec la version
OpenSSL 1.0.1e.
<!--l. 399--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-47" id="x6-430003"><span 
class="ec-lmbx-10x-x-109">Fonction.</span><br 
class="newline" /></a></span>
   La fonction d&#8217;OpenSSL mise en cause se situe également au niveau de <span 
class="ec-lmtt-10x-x-109">openssl/crypto/rand/md_rand.c</span>,
dans la fonction <span 
class="ec-lmtt-10x-x-109">ssleay_rand_bytes(unsigned char *buf, int num, int pseudo) </span>(cf. <span 
class="ec-lmri-10x-x-109">Listing</span>
<a 
href="#x6-43001r2">1.2<!--tex4ht:ref: ssleayrandbytes --></a>).
   <!--l. 403-->
<a 
 id="x6-43001r2"></a>
<a 
 id="x6-43002"></a>
   <div class="lstlisting" id="listing-2"><span class="label"><a 
 id="x6-43003r1"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">#</span><span 
class="ec-lmtk-10x-x-90">ifndef</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">PURIFY</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">/*</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">purify</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">complains</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">*/</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43004r2"></a><span 
class="ec-lmr-6">2</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">#</span><span 
class="ec-lmtk-10x-x-90">if</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">0</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43005r3"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">/*</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">The</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">following</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">line</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">uses</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">the</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">supplied</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">buffer</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">as</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">a</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">small</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43006r4"></a><span 
class="ec-lmr-6">4</span></span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">*</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">source</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">of</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">entropy</span><span 
class="ec-lmtti-10x-x-90">:</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">since</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">this</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">buffer</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">is</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">often</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">uninitialised</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43007r5"></a></span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">*</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">it</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">may</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">cause</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">programs</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">such</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">as</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">purify</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">or</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">valgrind</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">to</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43008r6"></a><span 
class="ec-lmr-6">6</span></span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">*</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">complain</span><span 
class="ec-lmtti-10x-x-90">.</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">So</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">for</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">those</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">builds</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">it</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">is</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">not</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">used</span><span 
class="ec-lmtti-10x-x-90">:</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">the</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">removal</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43009r7"></a></span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">*</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">of</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">such</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">a</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">small</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">source</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">of</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">entropy</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">has</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">negligible</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">impact</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">on</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43010r8"></a><span 
class="ec-lmr-6">8</span></span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">*</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">security</span><span 
class="ec-lmtti-10x-x-90">.</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43011r9"></a></span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">&#x00A0;</span><span 
class="ec-lmtti-10x-x-90">*/</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43012r10"></a><span 
class="ec-lmr-6">10</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">MD_Update</span><span 
class="ec-lmtt-9">(&amp;</span><span 
class="ec-lmtt-9">m</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">buf</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">j</span><span 
class="ec-lmtt-9">)</span><span 
class="ec-lmtt-9">;</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43013r11"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">#</span><span 
class="ec-lmtk-10x-x-90">endif</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43014r12"></a><span 
class="ec-lmr-6">12</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">#</span><span 
class="ec-lmtk-10x-x-90">endif</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-43015r13"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span>
   
   <br />
       <div class="caption" 
><span class="id">Listing&#x00A0;1.2:
       </span><span  
class="content">ssleay_rand_bytes.c</span></div><!--tex4ht:label?: x6-43001r1.1.5.1.4 -->
   </div>
<!--l. 419--><p class="indent" >   On retrouve le même bug que Debian. Le fameux patch supprimant l&#8217;entropie d&#8217;OpenSSL... 7 ans auparavant,
et corrigé en 2008. Alors que l&#8217;équipe de développement d&#8217;OpenSSL déclare que l&#8217;impact est faible voire inexistant
sur la sécurité, les systèmes Android, dérogent à la règle. La raison est que la mémoire n&#8217;est pas initialisée sur la
version LMDE/OpenSSL 1.0.1e, comparé à Fedora/OpenSSL 1.0.1e. La seule source d&#8217;entropie n&#8217;est que la valeur
du PID du processus courant, très limité.
<a 
 id="x6-43016r45"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.2.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-49" id="x6-440004">Conclusion</a></h5>
     Il est alors recommandé à court terme d&#8217;ajouter plus d&#8217;entropie à notre PRNG sous Android, soit
manuellement comme le script Ruby d&#8217;Eric Wong <span class="cite">[<a 
href="rapport_Auditli5.html#Xboblet2013android">7</a>]</span>, ou avec les outils cités plus haut dans ce document. Sinon, le
patch d&#8217;OpenSSL <span class="cite">[<a 
href="rapport_Auditli5.html#Xalex2013android">34</a>]</span> répare également l&#8217;erreur en rajoutant plus d&#8217;aléatoire, bien qu&#8217;une recommandation officielle
serait la bienvenue, ainsi qu&#8217;une meilleure documentation.<br 
class="newline" />
<a 
 id="x6-44001r42"></a>
<h4 class="subsectionHead"><span class="titlemark">1.3.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-50" id="x6-450003">Audit 1.3<span class="frenchb-nbsp">&nbsp;</span>: NetBSD 6.0 et OpenSSH</a></h4>
<a 
 id="x6-45001r49"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.3.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-51" id="x6-460001">Norme visée</a></h5>
<!--l. 429--><p class="noindent" >Le noyau du système NetBSD s&#8217;appuie sur le RNG CTR du NIST, que l&#8217;on peut trouver dans le NIST-SP-800-90A
<span class="cite">[<a 
href="rapport_Auditli5.html#Xnist800-90A">32</a>]</span> pour définir sa <span 
class="ec-lmri-10x-x-109">pool </span>d&#8217;entropie.
<a 
 id="x6-46001r51"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.3.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-52" id="x6-470002">Description de la faille</a></h5>
<!--l. 433--><p class="noindent" >Autre faille du même genre sur les systèmes NetBSD 6.0 concernant OpenSSH/OpenSSL et datant de mars 2013 <span class="cite">[<a 
href="rapport_Auditli5.html#XalerteBSD2013">8</a>]</span>
<span class="cite">[<a 
href="rapport_Auditli5.html#XfailleNetBSDPatrick">52</a>]</span>. L&#8217;erreur provient d&#8217;une insuffisance d&#8217;entropie dans le PRNG, qui ne tient que sur 32 ou 64 bits (la taille d&#8217;un
                                                                                                  

                                                                                                  
<span 
class="ec-lmtt-10x-x-109">sizeof(int)</span>). Un attaquant peut brute-forcer une clef générée par ce PRNG. Il est probable que les dégâts soient
bien moins étendus que lors de l&#8217;affaire OpenSSL Debian car les systèmes NetBSD 6.0 sont moins
fréquents.<br 
class="newline" />
<a 
 id="x6-47001r52"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.3.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-53" id="x6-480003">Implémentation</a></h5>
<!--l. 437--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-54" id="x6-490003"><span 
class="ec-lmbx-10x-x-109">Configuration utilis</span><span 
class="ec-lmbx-10x-x-109">ée.</span><br 
class="newline" /></a></span>
   La vulnérabilité concerne les versions NetBSD 6.0 et NetBSD 6.0.1. Elle est réparée sur la version NetBSD 6.0.2
et NetBSD 1.0 <span class="cite">[<a 
href="rapport_Auditli5.html#XdiffNetBSD">47</a>]</span>. Une parenthèse mal placée dans le code du fichier <span 
class="ec-lmtt-10x-x-109">/src/sys/kern/subr_cprng.c </span>du système
rend prévisible l&#8217;entropie fournie pour la génération des clefs.<br 
class="newline" />
<!--l. 441--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-55" id="x6-500003"><span 
class="ec-lmbx-10x-x-109">Fonctions.</span><br 
class="newline" /></a></span>
   La fonction vulnérable (cf. <span 
class="ec-lmri-10x-x-109">Listing </span><a 
href="#x6-50001r3">1.3<!--tex4ht:ref: subrcprng1 --></a>) est accessible via le chemin <span 
class="ec-lmtt-10x-x-109">/src/sys/kern/subr_cprng.c</span>.
   <!--l. 445-->
<a 
 id="x6-50001r3"></a>
<a 
 id="x6-50002"></a>
   <div class="lstlisting" id="listing-3"><span class="label"><a 
 id="x6-50003r1"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">if</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">(</span><span 
class="ec-lmtt-9">c</span><span 
class="ec-lmtt-9">-&#x003E;</span><span 
class="ec-lmtt-9">flags</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&amp;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">CPRNG_INIT_ANY</span><span 
class="ec-lmtt-9">)</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">{</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50004r2"></a><span 
class="ec-lmr-6">2</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">#</span><span 
class="ec-lmtk-10x-x-90">ifdef</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">DEBUG</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50005r3"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">printf</span><span 
class="ec-lmtt-9">(</span><span 
class="ec-lmtt-9">"</span><span 
class="ec-lmtt-9">cprng</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">%</span><span 
class="ec-lmtt-9">s</span><span 
class="ec-lmtt-9">:</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">WARNING</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">insufficient</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">"</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50006r4"></a><span 
class="ec-lmr-6">4</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">"</span><span 
class="ec-lmtt-9">entropy</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">at</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">creation</span><span 
class="ec-lmtt-9">.\</span><span 
class="ec-lmtt-9">n</span><span 
class="ec-lmtt-9">"</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">name</span><span 
class="ec-lmtt-9">)</span><span 
class="ec-lmtt-9">;</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50007r5"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">#</span><span 
class="ec-lmtk-10x-x-90">endif</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50008r6"></a><span 
class="ec-lmr-6">6</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">rnd_extract_data</span><span 
class="ec-lmtt-9">(</span><span 
class="ec-lmtt-9">key</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">+</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">r</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">sizeof</span><span 
class="ec-lmtt-9">(</span><span 
class="ec-lmtt-9">key</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">-</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">r</span><span 
class="ec-lmtt-9">)</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">RND_EXTRACT_ANY</span><span 
class="ec-lmtt-9">)</span><span 
class="ec-lmtt-9">;</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50009r7"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">}</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">else</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">{</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50010r8"></a><span 
class="ec-lmr-6">8</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">hard</span><span 
class="ec-lmtt-9">++;</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50011r9"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">}</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50012r10"></a><span 
class="ec-lmr-6">10</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span>
   
   <br />
       <div class="caption" 
><span class="id">Listing&#x00A0;1.3:
       </span><span  
class="content">subr_cprng.c(1)</span></div><!--tex4ht:label?: x6-50001r1.1.5.1.4 -->
   </div>
<!--l. 458--><p class="indent" >   Pour la partie concernant la ligne 183<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="ec-lmtt-10x-x-109">rnd_extract_data (key + r, sizeof(key - r), RND_EXTRACT_ANY)</span><span class="frenchb-thinspace">&nbsp;</span><span 
class="ec-lmtt-10x-x-109">;</span><br 
class="newline" />Le deuxième paramètre devrait être <span 
class="ec-lmtt-10x-x-109">sizeof(key) - r</span>. Dans la version 1.15, cet appel a été corrigé,
et on utilise une nouvelle fonction nommée <span 
class="ec-lmtt-10x-x-109">cprng_entropy_try </span>(cf. <span 
class="ec-lmri-10x-x-109">Listing </span><a 
href="#x6-50013r4">1.4<!--tex4ht:ref: subrcprng2 --></a>) <span class="cite">[<a 
href="rapport_Auditli5.html#XdiffNetBSD">47</a>]</span> à la place de
<span 
class="ec-lmtt-10x-x-109">rnd_extract_data</span>.
   <!--l. 461-->
<a 
 id="x6-50013r4"></a>
<a 
 id="x6-50014"></a>
   <div class="lstlisting" id="listing-4"><span class="label"><a 
 id="x6-50015r1"></a><span 
class="ec-lmr-6">1</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">static</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">size_t</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50016r2"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">cprng_entropy_try</span><span 
class="ec-lmtt-9">(</span><span 
class="ec-lmtt-9">uint8_t</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">*</span><span 
class="ec-lmtt-9">key</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">size_t</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">keylen</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">int</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">hard</span><span 
class="ec-lmtt-9">)</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50017r3"></a><span 
class="ec-lmr-6">3</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">{</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50018r4"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">int</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">r</span><span 
class="ec-lmtt-9">;</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50019r5"></a><span 
class="ec-lmr-6">5</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">r</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">=</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">rnd_extract_data</span><span 
class="ec-lmtt-9">(</span><span 
class="ec-lmtt-9">key</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">keylen</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">RND_EXTRACT_GOOD</span><span 
class="ec-lmtt-9">)</span><span 
class="ec-lmtt-9">;</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50020r6"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">if</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">(</span><span 
class="ec-lmtt-9">r</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">!=</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">keylen</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&amp;&amp;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">!</span><span 
class="ec-lmtt-9">hard</span><span 
class="ec-lmtt-9">)</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">{</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50021r7"></a><span 
class="ec-lmr-6">7</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">rnd_extract_data</span><span 
class="ec-lmtt-9">(</span><span 
class="ec-lmtt-9">key</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">+</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">r</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">keylen</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">-</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">r</span><span 
class="ec-lmtt-9">,</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">RND_EXTRACT_ANY</span><span 
class="ec-lmtt-9">)</span><span 
class="ec-lmtt-9">;</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50022r8"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">}</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50023r9"></a><span 
class="ec-lmr-6">9</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtk-10x-x-90">return</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">r</span><span 
class="ec-lmtt-9">;</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50024r10"></a></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">}</span><span 
class="ec-lmtt-9">&#x00A0;</span><br /><span class="label"><a 
 id="x6-50025r11"></a><span 
class="ec-lmr-6">11</span></span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span><span 
class="ec-lmtt-9">&#x00A0;</span>
   
   <br />
       <div class="caption" 
><span class="id">Listing&#x00A0;1.4:
       </span><span  
class="content">subr_cprng.c(2)</span></div><!--tex4ht:label?: x6-50013r1.1.5.1.4 -->
   </div>
<!--l. 474--><p class="indent" >   Cette fonction permet de réduire le nombre d&#8217;appels de la précédente fonction <span 
class="ec-lmtt-10x-x-109">rnd_extract_data</span>. Elle prend
en argument le niveau d&#8217;entropie à atteindre "hard" ou "soft" afin de donner respectivement de "bons" bits ou
"suffisamment" de bits.
<a 
 id="x6-50026r53"></a>
                                                                                                  

                                                                                                  
<h5 class="subsubsectionHead"><span class="titlemark">1.3.3.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-58" id="x6-510004">Conclusion</a></h5>
     Il est recommandé de passer à une version NetBSD supérieure à 5.1, et de générer de nouvelles données de
chiffrement comme les clés SSH ayant étés générées avec ce noyau. Il faut également faire attention au patch de
sécurité de janvier 2013 qui en tentant de régler le problème a généré une autre erreur produisant le même effet.
L&#8217;erreur ne provient pas directement du code d&#8217;OpenSSL. Mais ici, OpenSSL se contente de récupérer l&#8217;entropie
fournie sans aucune vérification (fonction <span 
class="ec-lmtt-10x-x-109">RAND_bytes()</span>).<br 
class="newline" />
   Il est également recommandé d&#8217;utiliser <span 
class="ec-lmtt-10x-x-109">/dev/random </span>plutôt que <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>pour avoir une bonne entropie.
On souligne quand même le fait que OpenSSL ne contrôle pas son entropie, si l&#8217;entropie du système est
quasi-nulle les clefs sont tout de même générées. Un avertissement auprès de l&#8217;utilisateur serait un
minimum.
<a 
 id="x6-51001r32"></a>
<h3 class="sectionHead"><span class="titlemark">1.4   </span> <a 
href="rapport_Audit.html#QQ2-6-59" id="x6-520004">Recommandations sur la conception</a></h3>
<!--l. 483--><p class="noindent" >Le NIST propose des recommandations à plusieurs niveaux concernant la conception de la source d&#8217;entropie. Nous
n&#8217;en reporterons ici que les recommandations génériques. Les éléments ci-dessous sont basés sur le rapport du
NIST SP800-90B.
<a 
 id="x6-52001r50"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-60" id="x6-530001">Modélisation et validation</a></h4>
<!--l. 486--><p class="noindent" >La source d&#8217;entropie doit suivre les exigences suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-53002x1">le développeur doit documenter complètement la modélisation de la source d&#8217;entropie, incluant toutes
      les interactions entre les composants. De ce fait, la documentation doit pouvoir justifier en quoi la
      source d&#8217;entropie est de confiance<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53004x2">il doit définir de façon précise les limites conceptuelles de sécurité de la source d&#8217;entropie, qui doivent
      elles-mêmes être équivalentes à un module cryptographique délimitant un périmètre de sécurité (cf.
      <span 
class="ec-lmri-10x-x-109">Cryptographic module boundary </span>du FIPS 140)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53006x3">le développeur doit définir le champ des conditions optimales de fonctionnement du générateur
      d&#8217;entropie<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53008x4">la source source d&#8217;entropie doit être possiblement validée suivant les recommandations du FIPS 140,
      ainsi que les tests s&#8217;y référant<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53010x5">le comportement du bruit de la source doit être documenté, validant en quoi le taux d&#8217;entropie ne
      fluctue pas lors d&#8217;une utilisation normale<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53012x6">dès lors qu&#8217;un test de validation n&#8217;est pas réussi, la source d&#8217;entropie doit immédiatement cesser
      d&#8217;envoyer des données de sortie, et doit notifier à l&#8217;application l&#8217;erreur rencontrée.<br 
class="newline" />
      <!--l. 495--><p class="noindent" >Enfin, une recommandation optionnelle<span class="frenchb-nbsp">&nbsp;</span>:
                                                                                                  

                                                                                                  
      </li>
      <li 
  class="enumerate" id="x6-53014x7">la source d&#8217;entropie doit contenir différents types de bruit pour améliorer le comportement global de
      la source, et prévenir des tentatives de contrôle externe. Chaque bruit doit vérifier les spécifications
      du 3.1.</li></ol>
<a 
 id="x6-53015r60"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-61" id="x6-540002">Source d&#8217;entropie absolue</a></h4>
<!--l. 500--><p class="noindent" >Certains générateurs de bits aléatoires demandent une source d&#8217;entropie absolue, à savoir qu&#8217;elle approxime une
sortie qui est uniformément distribuée et indépendante des autres sorties.
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-54002x1">la chaine de bits générée doit fournir au moins <span 
class="rm-lmr-10x-x-109">(1 </span><span 
class="lmsy-10x-x-109">- </span><span 
class="lmmi-10x-x-109">&#x03F5;</span><span 
class="rm-lmr-10x-x-109">)</span><span 
class="lmmi-10x-x-109">n </span>bits d&#8217;entropie, où<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize1">
         <li class="itemize"><span 
class="lmmi-10x-x-109">n </span>est la taille de chaque sortie<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span 
class="lmmi-10x-x-109">&#x03F5; </span>tel que<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">0 </span><span 
class="msam-10x-x-109">&#x2264; </span><span 
class="lmmi-10x-x-109">&#x03F5; </span><span 
class="msam-10x-x-109">&#x2264; </span><span 
class="rm-lmr-10x-x-109">2</span><sup><span 
class="lmsy8-">-</span><span 
class="rm-lmr-8">64</span></sup>.<br 
class="newline" /></li></ul>
      </li></ol>
<a 
 id="x6-54003r61"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-62" id="x6-550003">Bruit de la source</a></h4>
<!--l. 510--><p class="noindent" >Le bruit fourni par la source doit suivre les recommandations suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-55002x1">le  bruit  doit  avoir  un  comportement  probabiliste  et  ne  doit  en  aucun  cas  être  définissable  par
      quelconque algorithme ou règle<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55004x2">le développeur doit pouvoir documenter l&#8217;opération sur le fonctionnement du bruit de la source, en
      montrant en quoi le choix de ce bruit fournit une sortie d&#8217;entropie acceptable. Ceci comprend le
      référencement d&#8217;articles de recherche et autre littérature pertinente<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55006x3">le bruit de la source doit pouvoir être testable, de telle sorte que l&#8217;on puisse s&#8217;assurer qu&#8217;il effectue
      l&#8217;opération attendue. Il doit donc être possible de récupérer des données sur la source de bruit sur
      lesquelles on puisse lancer la batterie de tests. La récupération des données sur la source de bruit ne
      doit en aucun cas altérer le comportement du bruit, ou de la sortie<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55008x4">toute défaillance du bruit doit être rapidement détectable. Les méthodes de détection doivent être
      documentées<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55010x5">la documentation de la source du bruit doit également décrire sous quelles conditions le bruit est
      connu pour mal fonctionner. Ceci consiste ainsi à répertorier les environnements dans lesquels la
      source peut fonctionner correctement<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55012x6">la source de bruit doit être protégée au maximum contre toute attaque/tentative de conditionnement
      ou simple connaissance de fonctionnement de la part d&#8217;un adversaire.<br 
class="newline" /></li></ol>
                                                                                                  

                                                                                                  
<a 
 id="x6-55013r62"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-63" id="x6-560004">Composant de conditionnement</a></h4>
<!--l. 521--><p class="noindent" >Le composant de conditionnement doit suivre les recommandations suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-56002x1">le développeur doit documenter si la source d&#8217;entropie nécessite ou non un conditionnement<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-56004x2">la méthode de conditionnement doit être décrite et argumentée. Elle doit en effet expliciter en quoi
      elle permet de diminuer l&#8217;alignement d&#8217;une source de bruit, ou en quoi la sortie créée correspond à
      l&#8217;entropie attendue<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-56006x3">la méthode de conditionnement doit pouvoir être validée par des tests<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-56008x4">le développeur doit pouvoir estimer l&#8217;alignement en sortie de conditionnement<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-56010x5">le  développeur  doit  prévoir  une  documentation  expliquant  le  comportement  de  la  méthode  de
      conditionnement en cas de variation de comportement de la part de la source de bruit.<br 
class="newline" /></li></ol>
<a 
 id="x6-56011r63"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.5   </span> <a 
href="rapport_Auditli1.html#QQ2-6-64" id="x6-570005">Batterie de tests</a></h4>
<!--l. 531--><p class="noindent" >Globalement, les tests doivent suivre les recommandations suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-57002x1">les  tests  doivent  être  effectués  au  démarrage  puis  de  façon  continuelle  pour  s&#8217;assurer  que  les
      composants du générateur d&#8217;entropie fonctionnent correctement<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-57004x2">tous les tests doivent être documentés, en particulier sur les conditions sous lesquels ils doivent être
      exécutés, les résultats attendus pour chacun de ceux-ci, et une explication rationnelle indiquant
      en quoi chaque test est approprié pour la détection de dysfonctionnement de la part de la source
      d&#8217;entropie.<br 
class="newline" /></li></ol>
<a 
 id="x6-57005r58"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.4.5.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-65" id="x6-580001">Tests sur le bruit</a></h5>
<!--l. 538--><p class="noindent" >Les tests sur le bruit sont pour la plupart du temps dépendants de la technologie utilisée. Dans la majorité des cas,
il faut tester via des procédures traditionnelles de tests (type test monobit, test du <span 
class="lmmi-10x-x-109">&#x03C7;</span><sub><span 
class="rm-lmr-8">2</span></sub>, et tests d&#8217;exécution) si
celui-ci est bien non biaisé et produit des données indépendantes.
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-58002x1">au  minimum,  des  tests  continus  doivent  être  implémentés,  et  ceci  de  façon  indépendante.  Le
      développeur doit de plus documenter toutes les sources de défaillance<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-58004x2">les tests sont implémentés sur les données binaires récupérées via le bruit source<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-58006x3">la source de bruit doit être testée dans son ensemble (suivant la variation du bruit)<span class="frenchb-thinspace">&nbsp;</span>;
                                                                                                  

                                                                                                  
      </li>
      <li 
  class="enumerate" id="x6-58008x4">le bruit généré durant la démarrage ayant passé avec succès les tests de démarrage peut être utilisé
      pour produire de l&#8217;entropie<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-58010x5">lorsqu&#8217;un test échoue, le générateur doit en être notifié.<br 
class="newline" />
      <!--l. 546--><p class="noindent" >Optionnel<span class="frenchb-nbsp">&nbsp;</span>:
      </li>
      <li 
  class="enumerate" id="x6-58012x6">une étude peut être requise sur les bords du bruit généré, dans les cas ou le comportement du
      générateur est altéré.</li></ol>
<a 
 id="x6-58013r65"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.4.5.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-66" id="x6-590002">Tests sur le conditionnement</a></h5>
<!--l. 552--><p class="noindent" >Le rôle du conditionnement est de réduire l&#8217;alignement présent chez certaines sources d&#8217;entropie afin de s&#8217;assurer
que l&#8217;entropie est construite à un taux acceptable. Les recommandations sont les suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-59002x1">les composants de conditionnements doivent être testés dès le démarrage, afin d&#8217;être certains que le
      générateur fonctionne comme prévu<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-59004x2">le développeur doit documenter les tests implémentés et inclure les conditions d&#8217;échecs pour chacun
      d&#8217;entre eux.</li></ol>
<a 
 id="x6-59005r59"></a>
<h3 class="sectionHead"><span class="titlemark">1.5   </span> <a 
href="rapport_Audit.html#QQ2-6-67" id="x6-600005">Tests effectifs sur l&#8217;entropie fournie par les sources d&#8217;entropie</a></h3>
<a 
 id="x6-60001r64"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-68" id="x6-610001">Déterminer si les données sont IID</a></h4>
<!--l. 564--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-69" id="x6-620001"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">éfinition.</span><br 
class="newline" /></a></span>
   On dit que des variables sont <span 
class="ec-lmbx-10x-x-109">IID </span>(indépendantes et identiquement distribuées) si elles suivent toutes la même
loi de probabilité et si elles sont mutuellement indépendantes. <br 
class="newline" />
<!--l. 567--><p class="indent" >   Les tests suivants ont été conçus pour montrer si les données en sortie du bruit et/ou en sortie du
conditionnement sont bien IID, ceci en effectuant des tests sur la distribution des données. Le but est de vérifier
l&#8217;hypothèse <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub>. Pour la vérifier, nous allons considérer ici deux types de tests<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">des tests de répartition aléatoire sur l&#8217;ensemble<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">des tests statistiques.<br 
class="newline" /></li></ul>
<!--l. 573--><p class="indent" >   Si un des tests est passé, alors on passe au suivant. La défaillance d&#8217;un seul des tests impliquera le caractère non
IID des données.
<a 
 id="x6-62001r66"></a>
                                                                                                  

                                                                                                  
<h5 class="subsubsectionHead"><span class="titlemark">1.5.1.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-70" id="x6-630001">Tests sur l&#8217;indépendance et la stabilité</a></h5>
     Nous travaillons sur le test statistique bilatéral suivant<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">l&#8217;hypothèse <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub><span class="frenchb-nbsp">&nbsp;</span>: "Les données sont IID"<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#8217;hypothèse <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">1</span></sub><span class="frenchb-nbsp">&nbsp;</span>: "Les données ne sont pas IID". <br 
class="newline" />
      </li></ul>
<!--l. 585--><p class="noindent" >Suivant un jeu de données <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">donnees</span><span 
class="lmsy-10x-x-109">| </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmmi-10x-x-109">n</span><span 
class="rm-lmr-10x-x-109">)</span>, on divise celui-ci en dix sous-ensembles de même taille
(<img 
src="rapport_Audit15x.png" alt="N10"  class="frac" align="middle">). On effectue enfin nos tests sur chacune de ces données. La stratégie de test est effectuée comme
suit<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-63002x1">on calcule tout d&#8217;abord différents scores statistiques parmi les suivants<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize1">
         <li class="itemize">score de compression, un score par sous-ensemble de données<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">score <span 
class="ec-lmri-10x-x-109">Over/Under Runs</span>, deux scores par sous-ensemble<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">score excursion, un score par sous-ensemble<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">score <span 
class="ec-lmri-10x-x-109">Runs </span>directionnel, trois scores par sous-ensemble<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">score de covariance, un score par sous-ensemble<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">score de collision, trois scores par sous-ensemble.<br 
class="newline" /></li></ul>
      </li>
      <li 
  class="enumerate" id="x6-63004x2">pour chaque calcul de score<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-63006x1">on stocke pour chaque type de score les résultats dans un vecteur de <span 
class="lmmi-10x-x-109">J </span>scores<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-63008x2">on répète les étapes suivantes 1000 fois<span class="frenchb-nbsp">&nbsp;</span>:
             <ol  class="enumerate3" >
             <li 
  class="enumerate" id="x6-63010x1">on permute les sous-ensembles précédents en utilisant un générateur pseudo-aléatoire, suivant
             l&#8217;algorithme de permutation <span 
class="ec-lmri-10x-x-109">Fisher&#8211;Yates shuffle</span><span class="frenchb-thinspace">&nbsp;</span>;
             </li>
             <li 
  class="enumerate" id="x6-63012x2">on calcule les nouveaux scores suivant cette nouvelle organisation de sous-ensembles<span class="frenchb-thinspace">&nbsp;</span>;
             </li>
             <li 
  class="enumerate" id="x6-63014x3">on récupère ce vecteur de <span 
class="lmmi-10x-x-109">J </span>scores.<br 
class="newline" /></li></ol>
         </li>
         <li 
  class="enumerate" id="x6-63016x3">on classifie les scores de 2a) en le comparant avec tous les scores liés permutés. Par exemple, si le score
         des données originelles est plus grand que tous ceux des permutations, alors ce premier a le score de 1000,
         et les répertoires permutés on un score inférieur à 1000. Il est possible que les données
                                                                                                  

                                                                                                  
         permutées aient le même score. Lorsque le score originel est le même que certains de scores des
         données permutées, on considère le score en récupérant celui le plus proche de la médiane.
         <br 
class="newline" />
         <!--l. 608--><p class="noindent" >Plus généralement, étant donné<span class="frenchb-nbsp">&nbsp;</span>:
             <ul class="itemize1">
             <li class="itemize">un score <span 
class="lmmi-10x-x-109">S</span><span class="frenchb-thinspace">&nbsp;</span>;
             </li>
             <li class="itemize">une liste de scores des données permutées <span 
class="lmmi-10x-x-109">L</span>.<br 
class="newline" /></li></ul>
         <!--l. 613--><p class="noindent" >On détermine le <span 
class="ec-lmbx-10x-x-109">rang de </span><span 
class="lmmi-10x-x-109">S </span>tel que<span class="frenchb-nbsp">&nbsp;</span>:
         <!--l. 615--><p class="noindent" >
         <center class="math-display" >
         <img 
src="rapport_Audit16x.png" alt="           (
           |||  max (j) tel que L [j] &#x2264; S,  si         L [500] &#x003E; S  (1)
           |{  500             si         L[500] = S (2)
Rang (S) = |  min(j)  tel que L [j] &#x2265; S,  si         L [500] &#x003C; S  (3)
           |||(  " class="math-display" ></center>
         <br 
class="newline" />
             <ol  class="enumerate3" >
             <li 
  class="enumerate" id="x6-63018x1">exemple cas (1)<span class="frenchb-nbsp">&nbsp;</span>:
                <ul class="itemize1">
                <li class="itemize">soit <span 
class="lmmi-10x-x-109">S </span><span 
class="rm-lmr-10x-x-109">= 20 </span>et <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[500] = 22</span>. On est dans le cas (1). On va chercher le <span 
class="lmmi-10x-x-109">max</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">) </span>tel que
                <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">] </span><span 
class="msam-10x-x-109">&#x2264; </span><span 
class="lmmi-10x-x-109">S</span><span class="frenchb-thinspace">&nbsp;</span>;
                </li>
                <li class="itemize">on a <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[299] = 19</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[300] = 20</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[301] = 20</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[302] = 22</span><span class="frenchb-thinspace">&nbsp;</span>;
                </li>
                <li class="itemize">on retourne au score <span 
class="rm-lmr-10x-x-109">301</span>, ainsi <span 
class="lmmi-10x-x-109">Rang</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">S</span><span 
class="rm-lmr-10x-x-109">) = 301</span>.<br 
class="newline" /></li></ul>
             </li>
             <li 
  class="enumerate" id="x6-63020x2">exemple cas (3)<span class="frenchb-nbsp">&nbsp;</span>:
                <ol  class="enumerate4" >
                <li 
  class="enumerate" id="x6-63022x1">soit <span 
class="lmmi-10x-x-109">S </span><span 
class="rm-lmr-10x-x-109">= 20 </span>et <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[500] = 18</span>. On est dans le cas (3). On va chercher le <span 
class="lmmi-10x-x-109">max</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">) </span>tel que
                <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">] </span><span 
class="msam-10x-x-109">&#x2265; </span><span 
class="lmmi-10x-x-109">S</span><span class="frenchb-thinspace">&nbsp;</span>;
                </li>
                <li 
  class="enumerate" id="x6-63024x2">on a <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[599] = 19</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[600] = 20</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[601] = 20</span><span class="frenchb-thinspace">&nbsp;</span>;
                                                                                                  

                                                                                                  
                </li>
                <li 
  class="enumerate" id="x6-63026x3">on retourne au score <span 
class="rm-lmr-10x-x-109">600</span>, ainsi <span 
class="lmmi-10x-x-109">Rang</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">S</span><span 
class="rm-lmr-10x-x-109">) = 600</span>.<br 
class="newline" /></li></ol>
             </li></ol>
         </li></ol>
      </li>
      <li 
  class="enumerate" id="x6-63028x3">Le rang alors obtenu est considéré comme une <span 
class="ec-lmri-10x-x-109">p-value </span>pour un test bilatéral. Pour rappel, une <span 
class="ec-lmri-10x-x-109">p-value </span>est la
      probabilité d&#8217;obtenir la même valeur de test si l&#8217;hypothèse nulle est vraie. Ainsi, on compte pour chacun des
      six tests un ensemble de <span 
class="rm-lmr-10x-x-109">10 </span><span 
class="lmsy-10x-x-109">* </span><span 
class="lmmi-10x-x-109">J </span><span 
class="ec-lmri-10x-x-109">p-values</span>.<br 
class="newline" />
      </li>
      <li 
  class="enumerate" id="x6-63030x4">on gère enfin les <span 
class="ec-lmri-10x-x-109">p-values </span>de la façon suivante<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-63032x1">Ttous les rangs compris entre 50 et 950 sont relevés. Ces événements ont une probabilité d&#8217;arriver
         de 10% au total<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-63034x2">si le nombre de rangs relevés est supérieur ou égal à 8, on considère le test comme échoué.<br 
class="newline" />
             <ol  class="enumerate3" >
             <li 
  class="enumerate" id="x6-63036x1">si le test est effectué sur la source du bruit, alors celle-ci n&#8217;est pas considérée comme IID<span class="frenchb-thinspace">&nbsp;</span>;
             </li>
             <li 
  class="enumerate" id="x6-63038x2">si le test est effectué sur le conditionnement, alors la source d&#8217;entropie n&#8217;est pas validée.<br 
class="newline" /></li></ol>
         </li></ol>
      </li></ol>
<!--l. 657--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                                  

                                                                                                  
<a 
 id="x6-63039r2"></a>
                                                                                                  

                                                                                                  
<div class="center" 
>
<!--l. 658--><p class="noindent" >
<!--l. 692--><p class="noindent" >                                                                       <!--l. 675--><p class="noindent" ><span 
class="ec-lmbx-10x-x-109">Test </span><span 
class="lmmi-10x-x-109">t</span>Données (taille <span 
class="lmmi-10x-x-109">n</span>)<img 
src="rapport_Audit17x.png" alt="n-
10"  class="frac" align="middle"><span 
class="lmmi-10x-x-109">...</span><img 
src="rapport_Audit18x.png" alt="n-
10"  class="frac" align="middle"><span 
class="lmmi-10x-x-109">permutation</span><span 
class="lmmi-10x-x-109">score</span><sub><span 
class="lmmi-8">t</span> </sub><sup><span 
class="lmmi-8">ini</span> </sup><span 
class="lmmi-10x-x-109">score</span><sub><span 
class="lmmi-8">t</span> </sub> <span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">]</span><span 
class="lmmi-10x-x-109">j &#x003C; </span><span 
class="rm-lmr-10x-x-109">1000</span><span 
class="lmmi-10x-x-109">rangs</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">]</span><span 
class="lmmi-10x-x-109">Out &#x003E; </span><span 
class="rm-lmr-10x-x-109">8</span>Test échouéTest réussi<span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">+ +</span>vraifauxfauxvrai
</div>
<br /> <div class="caption" 
><span class="id"><span 
class="ec-lmcsc-10x-x-109">Figure</span>&#x00A0;1.2: </span><span  
class="content">Structure de validation de données <span 
class="lmmi-10x-x-109">d </span>par un test <span 
class="lmmi-10x-x-109">t</span>. <span 
class="lmmi-10x-x-109">Out </span>vaut "<span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Rangs </span><span 
class="lmsy-10x-x-109">&#x2264; </span><span 
class="rm-lmr-10x-x-109">50 </span>&amp;&amp; <span 
class="lmmi-10x-x-109">Rangs </span><span 
class="lmsy-10x-x-109">&#x2265; </span><span 
class="rm-lmr-10x-x-109">950</span><span 
class="lmsy-10x-x-109">|</span>"
</span></div><!--tex4ht:label?: x6-63039r2 -->
                                                                                                  

                                                                                                  
<!--l. 695--><p class="indent" >   </div><hr class="endfigure">
   <h4>1.5.1.1.1   <a 
href="#x6-640001.5.1.1.1" id="x6-640001.5.1.1.1">Score de compression</a></h4> Les algorithmes de compression sont habituellement bien adaptés pour
supprimer les données redondantes des chaînes de caractères. Suivant un algorithme de compression choisi, le score
de compression est la longueur de la donnée compressée obtenue.
<!--l. 714--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-73" id="x6-650001.5.1.1.1"><span 
class="ec-lmbx-10x-x-109">Calcul du score.</span><br 
class="newline" /></a></span>
   Le score est calculé de la façon suivante<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-65002x1">les sous-ensembles de données sont encodés en chaînes de caractères séparées par une virgule<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-65004x2">la chaîne de caractères est compressée suivant l&#8217;algorithme de compression de bzip2 <span class="footnote-mark"><a 
href="rapport_Audit8.html#fn2x2"><sup class="textsuperscript">2</sup></a></span><a 
 id="x6-65005f2"></a> <span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-65007x3">le score retourné correspond à la longueur de la chaîne de caractères compressée.<br 
class="newline" /></li></ol>
<!--l. 722--><p class="indent" >   <hr class="figure"><div class="figure" 
>
                                                                                                  

                                                                                                  
<a 
 id="x6-65008r3"></a>
                                                                                                  

                                                                                                  
<div class="center" 
>
<!--l. 723--><p class="noindent" >
<!--l. 738--><p class="noindent" >                                                                         <!--l. 732--><p class="noindent" ><span 
class="ec-lmbx-10x-x-109">Score de compression</span>Source d&#8217;entropieConvertisseurBZ2Score144 21 139 0 0 15"144,21,139,0,0,15"21
</div>
<br /> <div class="caption" 
><span class="id"><span 
class="ec-lmcsc-10x-x-109">Figure</span>&#x00A0;1.3: </span><span  
class="content">Calcul du score de compression</span></div><!--tex4ht:label?: x6-65008r3 -->
                                                                                                  

                                                                                                  
<!--l. 741--><p class="indent" >   </div><hr class="endfigure">
   <h4>1.5.1.1.2   <a 
href="#x6-660001.5.1.1.2" id="x6-660001.5.1.1.2">Scores <span 
class="ec-lmri-10x-x-109">Over/Under Runs </span>(2)</a></h4>
<!--l. 744--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-76" id="x6-670001.5.1.1.2"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">éfinition.</span><br 
class="newline" /></a></span>
   On définit le <span 
class="ec-lmbxi-10x-x-109">run test </span>comme la série des valeurs montantes ou la série des valeurs décroissantes. Le
terme de <span 
class="ec-lmtt-10x-x-109">run </span>peut être expliqué comme la successions d&#8217;éléments de la même classe. Le nombre
d&#8217;augmentations ou de réductions définit la longueur du test. Dans un jeu de données aléatoires, la
probabilité que la <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">+ 1)</span>ème valeur soit plus grande ou plus petite que la <span 
class="lmmi-10x-x-109">i</span>ème valeur doit suivre la loi
binomiale.<br 
class="newline" />
<!--l. 747--><p class="indent" >   Le <span 
class="ec-lmri-10x-x-109">run test </span>est défini tel que<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize"><span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub><span class="frenchb-nbsp">&nbsp;</span>: la séquence a été produite de manière aléatoire<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">1</span></sub><span class="frenchb-nbsp">&nbsp;</span>: la séquence n&#8217;a pas été produite de manière aléatoire<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">Test statistique<span class="frenchb-nbsp">&nbsp;</span>:
      <center class="math-display" >
      <img 
src="rapport_Audit19x.png" alt="        --
    R---R-
Z =   sR  " class="math-display" ></center>
      où<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize"><span 
class="lmmi-10x-x-109">R</span><span class="frenchb-nbsp">&nbsp;</span>: le nombre de <span 
class="ec-lmri-10x-x-109">runs </span>observés<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span class="overline"><span 
class="lmmi-10x-x-109">R</span></span>, la moyenne (le nombre de runs attendus) telle que<span class="frenchb-nbsp">&nbsp;</span>:
         <center class="math-display" >
         <img 
src="rapport_Audit20x.png" alt="--   2N+N----
R  =    N    + 1
         " class="math-display" ></center><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">R</span></sub> la variance (déviation standard) calculée telle que<span class="frenchb-nbsp">&nbsp;</span>:
                                                                                                  

                                                                                                  
         <center class="math-display" >
         <img 
src="rapport_Audit21x.png" alt="                             --     --
 2   2N+N--- (2N+N-----N-)   (R----1)(R---2)-
sR =      N 2(N - 1)      =      N - 1
         " class="math-display" ></center><span class="frenchb-thinspace">&nbsp;</span>;</li></ul>
      </li>
      <li class="itemize">niveau significatif<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmmi-10x-x-109">&#x03B1;</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">zone critique<span class="frenchb-nbsp">&nbsp;</span>: Le <span 
class="ec-lmri-10x-x-109">run test </span>rejette l&#8217;hypothèse nulle <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub> si <span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Z</span><span 
class="lmsy-10x-x-109">| </span><span 
class="lmmi-10x-x-109">&#x003E; Z</span><sub><span 
class="rm-lmr-8">1</span><span 
class="lmsy8-">-</span><span 
class="lmmi-8">&#x03B1;&#x2215;</span><span 
class="rm-lmr-8">2</span></sub><span class="frenchb-thinspace">&nbsp;</span>;
      </li></ul>
<!--l. 767--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-77" id="x6-680001.5.1.1.2"><span 
class="ec-lmbx-10x-x-109">Exemple de Run test.</span><br 
class="newline" /></a></span>
   Soit la suite binaire <span 
class="lmmi-10x-x-109">X </span><span 
class="rm-lmr-10x-x-109">= (</span><span 
class="lmmi-10x-x-109">x</span><sub><span 
class="rm-lmr-8">1</span></sub><span 
class="lmmi-10x-x-109">,x</span><sub><span 
class="rm-lmr-8">2</span></sub><span 
class="lmmi-10x-x-109">,...,x</span><sub><span 
class="lmmi-8">n</span></sub><span 
class="rm-lmr-10x-x-109">) </span>sortie d&#8217;un générateur aléatoire. Pour tous les <span 
class="lmmi-10x-x-109">i </span>allant de <span 
class="rm-lmr-10x-x-109">1 </span>à <span 
class="lmmi-10x-x-109">n</span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">1</span>. On
stocke dans un vecteur de taille <span 
class="lmmi-10x-x-109">n </span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">1 </span>le signe de <span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+1</span></sub> <span 
class="lmsy-10x-x-109">- </span><span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub>. Le nombre de <span 
class="ec-lmri-10x-x-109">runs </span>correspond au nombre de
changements de signe.
<!--l. 770--><p class="indent" >   Si <span 
class="lmmi-10x-x-109">X </span><span 
class="rm-lmr-10x-x-109">= 111001111000110</span>, alors son vecteur associé sera <span 
class="rm-lmr-10x-x-109">(+ + </span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">+ + + + + </span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">+ + + +</span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">)</span>, soit 6 <span 
class="ec-lmri-10x-x-109">runs</span>. Dans le cas
des suites binaires, il s&#8217;agit simplement de compter le nombre de changements d&#8217;éléments (ou classes), l&#8217;ensemble de
données étant <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmsy-10x-x-109">}</span>. Si l&#8217;élément <span 
class="lmmi-10x-x-109">i </span>est équivalent au précédent, alors on passe au suivant, sinon on incrémente de
un le nombre de <span 
class="ec-lmri-10x-x-109">runs</span>.<br 
class="newline" />
<!--l. 772--><p class="indent" >   Ici on a donc<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize"><span 
class="lmmi-10x-x-109">R </span><span 
class="rm-lmr-10x-x-109">= 6</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span class="overline"><span 
class="lmmi-10x-x-109">R</span></span> <span 
class="rm-lmr-10x-x-109">=</span> <img 
src="rapport_Audit22x.png" alt="2*135*3-"  class="frac" align="middle"> <span 
class="rm-lmr-10x-x-109">+ 1 = 2</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">2</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">R</span></sub><sup><span 
class="rm-lmr-8">2</span></sup> <span 
class="rm-lmr-10x-x-109">=</span> <img 
src="rapport_Audit23x.png" alt="1.2*0.2
 14"  class="frac" align="middle"> <span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">017142857</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">d&#8217;où <span 
class="lmmi-10x-x-109">Z </span><span 
class="rm-lmr-10x-x-109">=</span> <img 
src="rapport_Audit24x.png" alt="0,163-0923.20734"  class="frac" align="middle"> <span 
class="rm-lmr-10x-x-109">= 29</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">0229794</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">on choisit un niveau <span 
class="lmmi-10x-x-109">&#x03B1; </span><span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">05</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">on cherche <span 
class="lmmi-10x-x-109">Z</span><sub><span 
class="rm-lmr-8">1</span><span 
class="lmsy8-">-</span><span 
class="lmmi-8">&#x03B1;&#x2215;</span><span 
class="rm-lmr-8">2</span></sub>. <img 
src="rapport_Audit25x.png" alt="1-2&#x03B1;-"  class="frac" align="middle"> <span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">475 </span>soit suivant la courbe normale une valeur de <span 
class="lmmi-10x-x-109">Z</span><sub><span 
class="rm-lmr-8">1</span><span 
class="lmsy8-">-</span><span 
class="lmmi-8">&#x03B1;&#x2215;</span><span 
class="rm-lmr-8">2</span></sub> <span 
class="rm-lmr-10x-x-109">= 1</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">96</span>. Ceci
      correspond à la valeur critique. La zone de rejet de <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub> est telle que <span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Z</span><span 
class="lmsy-10x-x-109">| </span><span 
class="lmmi-10x-x-109">&#x003E; </span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">96</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">étant donné que <span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Z</span><span 
class="lmsy-10x-x-109">| </span><span 
class="lmmi-10x-x-109">&#x003E; </span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">96</span>, on en conclut que les données ne sont pas réparties aléatoirement au
      risque de 5%.<br 
class="newline" />
      </li></ul>
                                                                                                  

                                                                                                  
<!--l. 785--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-78" id="x6-690001.5.1.1.2"><span 
class="ec-lmbx-10x-x-109">Calcul des scores </span><span 
class="ec-lmbxi-10x-x-109">Over/Under Runs</span><span 
class="ec-lmbx-10x-x-109">.</span><br 
class="newline" /></a></span>
   Pour chaque sous-ensemble, on calcule la médiane des données. On identifie ensuite les données en trois
sous-ensembles<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">soit elles sont égales à la médiane<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">soit elles sont inférieures à la médiane<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">soit elles sont supérieures à la médiane.<br 
class="newline" /></li></ul>
<!--l. 792--><p class="noindent" >Les sous ensembles inférieurs et supérieurs à la médiane sont susceptibles d&#8217;avoir un <span 
class="ec-lmri-10x-x-109">run score </span>relativement faible, si
les données sont suffisamment bien IID.<br 
class="newline" />
<!--l. 795--><p class="indent" >   Les deux scores de <span 
class="ec-lmri-10x-x-109">over/under runs </span>sont calculés comme suit<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-69002x1">on récupère la médiane de notre sous ensemble de données. Pour des données binaires, la médiane
      sera de 0,5
      </li>
      <li 
  class="enumerate" id="x6-69004x2">pour chaque sous ensemble original et chaque sous ensemble permuté, un sous ensemble temporaire est
      construit comme suit. Pour chaque élément<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-69006x1">si l&#8217;élément est plus grand que la médiane, on ajoute <span 
class="ec-lmtt-10x-x-109">+1 </span>au vecteur temporaire<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-69008x2">si l&#8217;élément est plus petit que la médiane, on ajoute <span 
class="ec-lmtt-10x-x-109">-1 </span>au vecteur temporaire<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-69010x3">si l&#8217;élément est égal à la médiane, on passe à l&#8217;élément suivant.<br 
class="newline" /></li></ol>
      </li>
      <li 
  class="enumerate" id="x6-69012x3">la plus grande taille du <span 
class="ec-lmri-10x-x-109">run </span>sur les <span 
class="ec-lmtt-10x-x-109">+1 </span>ou les <span 
class="ec-lmtt-10x-x-109">-1 </span>est considérée comme le premier score<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-69014x4">la taille du <span 
class="ec-lmri-10x-x-109">run </span>sur les <span 
class="ec-lmtt-10x-x-109">+1 </span>et les <span 
class="ec-lmtt-10x-x-109">-1 </span>est considérée comme le second score.<br 
class="newline" /></li></ol>
<!--l. 808--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-79" id="x6-700001.5.1.1.2"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   Considérant l&#8217;ensemble de taille 7 ayant les données suivantes<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">5</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">15</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">12</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">13</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">9</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">4</span><span 
class="lmsy-10x-x-109">}</span>.
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-70002x1">on récupère la médiane<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">9</span><span class="frenchb-thinspace">&nbsp;</span>;
                                                                                                  

                                                                                                  
      </li>
      <li 
  class="enumerate" id="x6-70004x2">création du vecteur temporaire<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">5 </span><span 
class="lmmi-10x-x-109">&#x003C; </span><span 
class="rm-lmr-10x-x-109">9 </span><span 
class="lmsy-10x-x-109">&#x21D2;-</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">...</span>. Vecteur final<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{-</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmsy-10x-x-109">}</span>. On note que
      pour ce vecteur la valeur 9 a été omise<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-70006x3">le <span 
class="ec-lmri-10x-x-109">run </span>le plus long pour le <span 
class="ec-lmtt-10x-x-109">+1 </span>et le <span 
class="ec-lmtt-10x-x-109">-1 </span>est de taille 2, (score 1)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-70008x4">le <span 
class="ec-lmri-10x-x-109">run </span>global est de taille 5, (score 2).<br 
class="newline" /></li></ol>
   <h4>1.5.1.1.3   <a 
href="#x6-710001.5.1.1.3" id="x6-710001.5.1.1.3">Score excursion</a></h4> Le score d&#8217;excursion mesure la déviation en chaque point d&#8217;une somme d&#8217;éléments
suivant leur moyenne.
<!--l. 820--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-81" id="x6-720001.5.1.1.3"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">éfinition.</span><br 
class="newline" /></a></span>
   Étant donné les éléments <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="rm-lmr-8">0</span></sub><span 
class="lmmi-10x-x-109">,s</span><sub><span 
class="rm-lmr-8">1</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">)</span>, et leur moyenne <span 
class="lmmi-10x-x-109">&#x03BC;</span><sub><span 
class="lmmi-8">i</span></sub>, <span 
class="ec-lmbx-10x-x-109">l&#8217;excursion </span><span 
class="lmmi-10x-x-109">Esc</span><sub><span 
class="lmmi-8">i</span></sub> est définie telle
que<span class="frenchb-nbsp">&nbsp;</span>:
   <center class="math-display" >
<img 
src="rapport_Audit26x.png" alt="Esci = s0 + s1 + ...+ si - i*&#x03BC;  " class="math-display" ></center> Le
score retourné est l&#8217;excursion maximale en valeur absolue du sous ensemble de données. <br 
class="newline" />
<!--l. 825--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-82" id="x6-730001.5.1.1.3"><span 
class="ec-lmbx-10x-x-109">Calcul du score.</span><br 
class="newline" /></a></span>
   Le score est ainsi calculé comme suit. <span 
class="lmmi-10x-x-109">&#x03BC; </span>est défini comme la moyenne des valeurs d&#8217;un ensemble
donné.
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-73002x1">pour <span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 1 </span>à <span 
class="lmsy-10x-x-109">&#x230A;</span><img 
src="rapport_Audit27x.png" alt="N
10"  class="frac" align="middle"><span 
class="lmsy-10x-x-109">&#x230B; </span>(taille des données du sous ensemble), on calcule <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="lmmi-8">j</span></sub> <span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Esc</span><sub><span 
class="lmmi-8">j</span></sub><span 
class="lmsy-10x-x-109">| </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">|</span><span 
class="lmex-10">&#x2211;</span>
  <sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">=0</span></sub><sup><span 
class="lmmi-8">j</span></sup><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmsy-10x-x-109">|</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-73004x2">Score <span 
class="rm-lmr-10x-x-109">=</span> <span 
class="rm-lmr-10x-x-109">Max</span> <sub><span 
class="lmmi-8">j</span><span 
class="rm-lmr-8">=0</span><span 
class="lmmi-8">,j&#x003C;</span><span 
class="rm-lmr-8">=</span><span 
class="lmsy8-">&#x230A;</span><img 
src="rapport_Audit28x.png" alt="N10"  class="frac" align="middle"><span 
class="lmsy8-">&#x230B;</span></sub><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">d</span><sub><span 
class="lmmi-8">j</span></sub><span 
class="rm-lmr-10x-x-109">)</span>.<br 
class="newline" /></li></ol>
<!--l. 832--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-83" id="x6-740001.5.1.1.3"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   Étant donné le sous-ensemble suivant<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">15</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">4</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">10</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">9</span><span 
class="lmsy-10x-x-109">}</span>.
                                                                                                  

                                                                                                  
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-74002x1">calcule de <span 
class="lmmi-10x-x-109">&#x03BC;</span>, ici <span 
class="lmmi-10x-x-109">&#x03BC; </span><span 
class="rm-lmr-10x-x-109">= 8</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-74004x2">calcul des <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="lmmi-8">j</span></sub><span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" /><span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">1</span></sub> <span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">|</span><span 
class="rm-lmr-10x-x-109">2 </span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">8</span><span 
class="lmsy-10x-x-109">| </span><span 
class="rm-lmr-10x-x-109">= 6</span>, <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">2</span></sub> <span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">|</span><span 
class="rm-lmr-10x-x-109">2 + 15 </span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">2 </span><span 
class="lmsy-10x-x-109">* </span><span 
class="rm-lmr-10x-x-109">8</span><span 
class="lmsy-10x-x-109">|</span>, <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">3</span></sub> <span 
class="rm-lmr-10x-x-109">= 3</span>, <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">4</span></sub> <span 
class="rm-lmr-10x-x-109">= 1</span>, <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">5</span></sub> <span 
class="rm-lmr-10x-x-109">= 0</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-74006x3">Le score est donc de <span 
class="rm-lmr-10x-x-109">6</span>.<br 
class="newline" /></li></ol>
   <h4>1.5.1.1.4   <a 
href="#x6-750001.5.1.1.4" id="x6-750001.5.1.1.4">Scores Runs directionnels (3)</a></h4> Le principe du run test reste le même que celui évoqué
précédemment à l&#8217;exception suivante près<span class="frenchb-nbsp">&nbsp;</span>: lorsqu&#8217;il y a égalité entre deux éléments consécutifs, on le
référence comme étant &#8217;0&#8217; dans le vecteur temporaire plutôt que de passer directement à l&#8217;élément
suivant.
<!--l. 844--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-85" id="x6-760001.5.1.1.4"><span 
class="ec-lmbx-10x-x-109">Calcul des scores pour des donn</span><span 
class="ec-lmbx-10x-x-109">ées quelconques.</span><br 
class="newline" /></a></span>
   Le score est calculé de la façon suivante<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-76002x1">le nombre total de <span 
class="ec-lmri-10x-x-109">runs </span>(sans considérer le 0 comme un changement de "signe") (score 1)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-76004x2">la longueur du plus long <span 
class="ec-lmri-10x-x-109">run </span>(les &#8217;0&#8217; sont également ignorés) (score 2)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-76006x3">le maximum entre le nombre de données <span 
class="ec-lmtt-10x-x-109">+1 </span>et le nombre de données <span 
class="ec-lmtt-10x-x-109">-1 </span>(score 3).<br 
class="newline" />
      </li></ol>
<!--l. 854--><p class="indent" >   <span 
class="ec-lmbx-10x-x-109">Exemple</span><span class="frenchb-nbsp">&nbsp;</span><span 
class="ec-lmbx-10x-x-109">: </span><br 
class="newline" />Étant donné l&#8217;ensemble suivant<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">5</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">7</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">7</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">9</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">3</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">4</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">4</span><span 
class="lmsy-10x-x-109">}</span>.
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-76008x1">on calcule son vecteur temporaire lié <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmsy-10x-x-109">}</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-76010x2">nous comptons 3 séries de run<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">(0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1)</span>, <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">1) </span>et <span 
class="rm-lmr-10x-x-109">(+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0) </span>(score 1)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-76012x3">le run le plus long est de <span 
class="rm-lmr-10x-x-109">4</span><span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">(+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1) </span>(score 2)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-76014x4">on compte 4 <span 
class="ec-lmtt-10x-x-109">+1 </span>et 4 <span 
class="ec-lmtt-10x-x-109">-1</span>, le maximum des deux est donc de 4 (score 3).<br 
class="newline" /></li></ol>
<!--l. 864--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-86" id="x6-770001.5.1.1.4"><span 
class="ec-lmbx-10x-x-109">Donn</span><span 
class="ec-lmbx-10x-x-109">ées binaires.</span><br 
class="newline" /></a></span>
   Dans le cadre des données binaires en sortie de source d&#8217;entropie, il convient de faire un pré-traitement sur les
données<span class="frenchb-nbsp">&nbsp;</span>:
                                                                                                  

                                                                                                  
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-77002x1">on convertit les bits en bytes<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-77004x2">on calcule le poids de hamming pour ces éléments<span class="frenchb-nbsp">&nbsp;</span>: <br 
class="newline" />Pour  <span 
class="lmmi-10x-x-109">i   </span><span 
class="rm-lmr-10x-x-109">=   0  </span>à  <img 
src="rapport_Audit29x.png" alt="&#x230A;N10&#x230B;-
 8"  class="frac" align="middle">  <span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">1</span>,  on  stocke  dans  <span 
class="lmmi-10x-x-109">W</span><sub><span 
class="lmmi-8">i</span></sub>   son  poids  de  Hamming,  tel  que  <span 
class="lmmi-10x-x-109">W</span><sub><span 
class="lmmi-8">i</span></sub>   <span 
class="rm-lmr-10x-x-109">=</span>
      <span 
class="lmmi-10x-x-109">hamming</span>_<span 
class="lmmi-10x-x-109">weight</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+7</span></sub><span 
class="rm-lmr-10x-x-109">)</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-77006x3">on réitère l&#8217;opération des données quelconques à partir de ce vecteur <span 
class="lmmi-10x-x-109">W</span><sub><span 
class="lmmi-8">i</span></sub>.<br 
class="newline" /></li></ol>
<!--l. 873--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-87" id="x6-780001.5.1.1.4"><span 
class="ec-lmbx-10x-x-109">Poids de Hamming.</span><br 
class="newline" /></a></span>
   Le <span 
class="ec-lmbx-10x-x-109">poids de hamming </span>d&#8217;un sous ensemble <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+</span><span 
class="lmmi-8">n</span></sub><span 
class="rm-lmr-10x-x-109">) </span>, donné par <span 
class="lmmi-10x-x-109">hamming</span>_<span 
class="lmmi-10x-x-109">weight</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+</span><span 
class="lmmi-8">n</span></sub><span 
class="rm-lmr-10x-x-109">) </span>est défini
comme le nombre de &#8217;1&#8217; de la suite <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+</span><span 
class="lmmi-8">n</span></sub><span 
class="rm-lmr-10x-x-109">)</span>.
   <h4>1.5.1.1.5   <a 
href="#x6-790001.5.1.1.5" id="x6-790001.5.1.1.5">Score de covariance</a></h4> Le score de covariance permet de détecter la relation entre les valeurs numériques
successives. En effet, toute relation linéaire entre des paires successives va affecter directement ce score. On pourra
alors constater une différence entre la covariance calculée sur le sous-ensemble de données originales et la covariance
calculée sur le sous-ensemble de données permutées. La covariance est calculée entre chaque paire consécutive du
sous-ensemble <span 
class="ec-lmtt-10x-x-109">S </span>tel que <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub> est apparié avec <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+1</span></sub>.<br 
class="newline" />
<!--l. 881--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-89" id="x6-800001.5.1.1.5"><span 
class="ec-lmbx-10x-x-109">Calcul du score.</span><br 
class="newline" /></a></span>
   Le score est calculé comme suit<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-80002x1">la variable <span 
class="lmmi-10x-x-109">count </span>est initialisée à &#8217;0&#8217;<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-80004x2"><span 
class="lmmi-10x-x-109">&#x03BC;</span>, moyenne des données de <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="rm-lmr-8">0</span></sub> à <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmsy8-">&#x230A;</span><img 
src="rapport_Audit30x.png" alt="N10-"  class="frac" align="middle"><span 
class="lmsy8-">&#x230B;-</span><span 
class="rm-lmr-8">1</span></sub> est calculée<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-80006x3">pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 1 </span>à <span 
class="lmsy-10x-x-109">&#x230A;</span><img 
src="rapport_Audit31x.png" alt="N-
10"  class="frac" align="middle"><span 
class="lmsy-10x-x-109">&#x230B; </span>on incrémente <span 
class="lmmi-10x-x-109">count </span>tel que<span class="frenchb-nbsp">&nbsp;</span>:
      <center class="math-display" >
      <img 
src="rapport_Audit32x.png" alt="count = count + (si - &#x03BC;)(si-1 - &#x03BC;)
      " class="math-display" ></center><span class="frenchb-thinspace">&nbsp;</span>;
                                                                                                  

                                                                                                  
      </li>
      <li 
  class="enumerate" id="x6-80008x4">on obtient enfin le score<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmmi-10x-x-109">Score </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">&#x230A;</span><img 
src="rapport_Audit33x.png" alt="-coNunt-
&#x230A;10&#x230B;- 1"  class="frac" align="middle"><span 
class="lmsy-10x-x-109">&#x230B;</span>.<br 
class="newline" /></li></ol>
<!--l. 891--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-90" id="x6-810001.5.1.1.5"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   Étant donné le sous-ensemble<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">15</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">6</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">10;12</span><span 
class="lmsy-10x-x-109">} </span>de 5 éléments<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-81002x1"><span 
class="lmmi-10x-x-109">&#x03BC; </span><span 
class="rm-lmr-10x-x-109">= 9</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-81004x2">
         <ul class="itemize1">
         <li class="itemize">Pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 1</span>, <span 
class="lmmi-10x-x-109">count </span><span 
class="rm-lmr-10x-x-109">= 0 + (2 </span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">9)(15 </span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">9) = </span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">42</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">Pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 2</span>, <span 
class="lmmi-10x-x-109">count </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">42 + (6 </span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">9)(2 </span><span 
class="lmsy-10x-x-109">- </span><span 
class="rm-lmr-10x-x-109">9) = </span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">21</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">Pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 3</span>, <span 
class="lmmi-10x-x-109">count </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">24</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">Pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 4</span>, <span 
class="lmmi-10x-x-109">count </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">21</span>.<br 
class="newline" /></li></ul>
      </li>
      <li 
  class="enumerate" id="x6-81006x3"><span 
class="lmmi-10x-x-109">Score </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">&#x230A;</span><img 
src="rapport_Audit34x.png" alt="-21
 4"  class="frac" align="middle"><span 
class="lmsy-10x-x-109">&#x230B; </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">5</span>.<br 
class="newline" /></li></ol>
   <h4>1.5.1.1.6   <a 
href="#x6-820001.5.1.1.6" id="x6-820001.5.1.1.6">Score de collision (3)</a></h4> Une façon naturelle de tester l&#8217;entropie d&#8217;un générateur est de mesurer le
nombre d&#8217;essais nécessaires pour obtenir une valeur identique à la première, en d&#8217;autres termes, le nombre d&#8217;essais
nécessaires pour obtenir une collision. Ainsi, notre score de collision va mesurer le nombre d&#8217;essais successifs jusqu&#8217;à
ce qu&#8217;un élément identique soit trouvé.<br 
class="newline" />
<!--l. 908--><p class="indent" >   Dans le cas des données binaires, un sous-ensemble de données binaires est converti en séquence de 8 bits avant
d&#8217;être testé. <br 
class="newline" />
<!--l. 910--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-92" id="x6-830001.5.1.1.6"><span 
class="ec-lmbx-10x-x-109">Calcul des scores.</span><br 
class="newline" /></a></span>
   Les trois scores de collisions sont calculés comme suit<span class="frenchb-nbsp">&nbsp;</span>:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-83002x1"><span 
class="lmmi-10x-x-109">Counts </span>est  une  liste  d&#8217;échantillons  nécessaires  pour  trouver  une  collision.  La  liste  est  vide  à
      l&#8217;initialisation<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-83004x2"><span 
class="lmmi-10x-x-109">pos </span><span 
class="rm-lmr-10x-x-109">= 0</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-83006x3">tant que <span 
class="lmmi-10x-x-109">pos &#x003C; </span><span 
class="lmsy-10x-x-109">&#x230A;</span><img 
src="rapport_Audit35x.png" alt="N-
10"  class="frac" align="middle"><span 
class="lmsy-10x-x-109">&#x230B;</span><span class="frenchb-nbsp">&nbsp;</span>:
                                                                                                  

                                                                                                  
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-83008x1">trouver le plus petit <span 
class="lmmi-10x-x-109">j </span>tel que <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">pos</span></sub><span 
class="lmmi-10x-x-109">...s</span><sub><span 
class="lmmi-8">pos</span><span 
class="rm-lmr-8">+</span><span 
class="lmmi-8">j</span></sub><span class="frenchb-nbsp">&nbsp;</span>:
             <ol  class="enumerate3" >
             <li 
  class="enumerate" id="x6-83010x1">si aucun <span 
class="lmmi-10x-x-109">j </span>de ce type n&#8217;existe, on sort de la boucle tant que<span class="frenchb-thinspace">&nbsp;</span>;</li></ol>
         </li>
         <li 
  class="enumerate" id="x6-83012x2">ajouter <span 
class="lmmi-10x-x-109">j </span>à la liste <span 
class="lmmi-10x-x-109">Counts</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-83014x3"><span 
class="lmmi-10x-x-109">pos </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmmi-10x-x-109">pos </span><span 
class="rm-lmr-10x-x-109">+ </span><span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">+ 1</span><span class="frenchb-thinspace">&nbsp;</span>;</li></ol>
      </li>
      <li 
  class="enumerate" id="x6-83016x4">on retourne les scores suivants<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-83018x1">la valeur minimale de la liste <span 
class="lmmi-10x-x-109">Counts </span>(score 1)<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-83020x2">la moyenne de la liste <span 
class="lmmi-10x-x-109">Counts </span>(score 2)<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-83022x3">la valeur maximale de la liste <span 
class="lmmi-10x-x-109">Counts </span>(score 3).<br 
class="newline" /></li></ol>
      </li></ol>
<!--l. 932--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-93" id="x6-840001.5.1.1.6"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   Considérant les données<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmsy-10x-x-109">} </span>de taille <span 
class="rm-lmr-10x-x-109">10</span>.
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-84002x1">on exécute le contenu de la boucle tant que<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-84004x1">considérant <span 
class="rm-lmr-10x-x-109">2 </span>comme la <span 
class="rm-lmr-10x-x-109">0</span>e valeur, la première collision apparaît à <span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 2</span>, pour la valeur <span 
class="ec-lmtt-10x-x-109">1</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-84006x2">on passe à une analyse sur le reste de l&#8217;ensemble initial non analysé<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmsy-10x-x-109">}</span>. La première
         collision de ce sous-ensemble apparaît en <span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 3</span>, pour la valeur <span 
class="ec-lmtt-10x-x-109">0</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-84008x3">on travaille à présent sur l&#8217;ensemble <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmsy-10x-x-109">}</span>. La première collision apparaît en <span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 1</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-84010x4">enfin, on ne trouve aucune collision sur l&#8217;ensemble <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmsy-10x-x-109">}</span>.<br 
class="newline" /></li></ol>
      </li>
      <li 
  class="enumerate" id="x6-84012x2">on retourne les scores<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-84014x1"><span 
class="lmmi-10x-x-109">min</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">Counts</span><span 
class="rm-lmr-10x-x-109">) = 1 </span>(score 1)<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-84016x2"><span 
class="lmmi-10x-x-109">&#x03BC;</span><sub><span 
class="lmmi-8">Counts</span></sub> <span 
class="rm-lmr-10x-x-109">= 2 </span>(score 2)<span class="frenchb-thinspace">&nbsp;</span>;
                                                                                                  

                                                                                                  
         </li>
         <li 
  class="enumerate" id="x6-84018x3"><span 
class="lmmi-10x-x-109">Max</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">Counts</span><span 
class="rm-lmr-10x-x-109">) = 3 </span>(score 3).<br 
class="newline" /></li></ol>
      </li></ol>
<a 
 id="x6-84019r70"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.5.1.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-94" id="x6-850002">Test statistique spécifique<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmmi-10x-x-109">&#x03C7;</span><span 
class="rm-lmr-8">2</span></a></h5>
     Dès lors que la source d&#8217;entropie est considérée comme IID, alors la distribution de ces valeurs peut être
considérée comme une distribution indépendante, une distribution multinomiale.
<!--l. 954--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-95" id="x6-860002"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">éfinition.</span><br 
class="newline" /></a></span>
   La <span 
class="ec-lmbx-10x-x-109">loi multinomiale </span>est une généralisation de la loi binomiale. On considère <span 
class="lmmi-10x-x-109">m </span>résultats possibles (2 pour la
loi binomiale). Soit <span 
class="lmmi-10x-x-109">N</span><sub><span 
class="lmmi-8">i</span></sub> pour <span 
class="lmmi-10x-x-109">i </span><span 
class="lmsy-10x-x-109">&#x2208;{</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,...,m</span><span 
class="lmsy-10x-x-109">} </span>la variable aléatoire multinomiale ayant une probabilité <span 
class="lmmi-10x-x-109">p</span><sub><span 
class="lmmi-8">i</span></sub>, telle
que<span class="frenchb-nbsp">&nbsp;</span>:
<div class="center" 
>
<!--l. 956--><p class="noindent" >
<!--l. 957--><p class="noindent" ><span 
class="lmex-10">&#x2211;</span>
  <sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">=1</span></sub><sup><span 
class="lmmi-8">m</span></sup><span 
class="lmmi-10x-x-109">N</span><sub><span 
class="lmmi-8">i</span></sub> <span 
class="rm-lmr-10x-x-109">= 1 </span>et <span 
class="lmex-10">&#x2211;</span>
  <sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">=1</span></sub><sup><span 
class="lmmi-8">m</span></sup><span 
class="lmmi-10x-x-109">p</span><sub><span 
class="lmmi-8">i</span></sub> <span 
class="rm-lmr-10x-x-109">= 1</span></div>
<!--l. 959--><p class="noindent" >La densité de probabilité de cette loi s&#8217;écrit<span class="frenchb-nbsp">&nbsp;</span>:
   <center class="math-display" >
<img 
src="rapport_Audit36x.png" alt="                            n!
&#x2119;(N1 = n1,...,Nm  = nm ) =--------pn11 ...pnmm
                         n1!...nm!  " class="math-display" ></center> Pour
respectivement les espérances et variances suivantes<span class="frenchb-nbsp">&nbsp;</span>:
<div class="center" 
>
<!--l. 962--><p class="noindent" >
<!--l. 963--><p class="noindent" ><span 
class="msbm-10x-x-109">E</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">N</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">] = </span><span 
class="lmmi-10x-x-109">np</span><sub><span 
class="lmmi-8">i</span></sub> et <span 
class="msbm-10x-x-109">V</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">N</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">] = </span><span 
class="lmmi-10x-x-109">np</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">(1 </span><span 
class="lmsy-10x-x-109">- </span><span 
class="lmmi-10x-x-109">p</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">)</span></div>
<!--l. 966--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-96" id="x6-870002"><span 
class="ec-lmbx-10x-x-109">Approximation.</span><br 
class="newline" /></a></span>
   Si les variables sont indépendantes, <span 
class="lmex-10">&#x2211;</span>
  <sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">=1</span></sub><sup><span 
class="lmmi-8">m</span></sup><img 
src="rapport_Audit37x.png" alt="(Ni-npi)2
npi(1--pi)"  class="frac" align="middle"> suit une loi du <span 
class="lmmi-10x-x-109">&#x03C7;</span><span 
class="rm-lmr-8">2</span>à <span 
class="lmmi-10x-x-109">m </span>degrés de liberté. Ainsi, le test du
<span 
class="lmmi-10x-x-109">&#x03C7;</span><span 
class="rm-lmr-8">2</span>peut ici être utilisé pour tester si des données suivent une distribution multinomiale.<br 
class="newline" />
                                                                                                  

                                                                                                  
<!--l. 970--><p class="indent" >   Plus généralement, le test peut être utilisé pour vérifier si des données suivent une distribution particulière,
pourvu que celles-ci ne soient pas de trop grande taille. Deux types de tests sont proposés sur la source
d&#8217;entropie<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">le test d&#8217;indépendance entre des données successives obtenues (tests différents pour des données
      binaires et non binaires)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le test d&#8217;ajustement sur les 10 sous-ensembles de données, qui permet de vérifier si le modèle adopté
      pour les données est satisfaisant, i.e. dans quelle mesure les résidus sont dus au hasard (tests différents
      pour des données binaires et non binaires).
      <!--l. 975--><p class="noindent" >Nous  ne  détaillerons  pas  dans  ce  rapport  ces  tests  respectifs.  Ils  sont  toutefois  décrits  dans  le
      document du NIST SP800-90b.<br 
class="newline" />
      </li></ul>
<a 
 id="x6-87001r68"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-97" id="x6-880002">Déterminer l&#8217;entropie minimale des sources IID</a></h4>
     On souhaite à présent estimer l&#8217;entropie fournie par une source IID (données indépendantes et identiquement
distribuées). Ce test est basé sur le nombre d&#8217;observations d&#8217;un échantillon le plus courant de la source de bruit
(<span 
class="lmmi-10x-x-109">pmax</span>). Le but est de calculer la borne minimale d&#8217;entropie de la source.<br 
class="newline" />
<!--l. 985--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-98" id="x6-890002"><span 
class="ec-lmbx-10x-x-109">Calcul de l&#8217;entropie minimale.</span><br 
class="newline" /></a></span>
   Étant donné N échantillons <span 
class="lmsy-10x-x-109">{</span><span 
class="lmmi-10x-x-109">x</span><sub><span 
class="rm-lmr-8">1</span></sub><span 
class="lmmi-10x-x-109">,...x</span><sub><span 
class="lmmi-8">n</span></sub><span 
class="lmsy-10x-x-109">}</span>
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-89002x1">trouver la valeur la plus souvent rencontrée dans le jeu de données<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89004x2">compter le nombre d&#8217;occurrences de cette valeur, stocké dans <span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">MAX</span></sub><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89006x3">calculer <span 
class="lmmi-10x-x-109">pmax </span><span 
class="rm-lmr-10x-x-109">=</span> <img 
src="rapport_Audit38x.png" alt="CMAX-
  N"  class="frac" align="middle"><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89008x4">calculer <span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">BOUND</span></sub> <span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">MAX</span></sub> <span 
class="rm-lmr-10x-x-109">+ 2</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">3</span><img 
src="rapport_Audit39x.png" alt="&#x2218;N--*-pmax-(1--pmax-)-"  class="sqrt" ><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89010x5">calculer <span 
class="lmmi-10x-x-109">H </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">log</span> <sub><span 
class="rm-lmr-8">2</span></sub><span 
class="rm-lmr-10x-x-109">(</span><img 
src="rapport_Audit40x.png" alt="CBOUNND-"  class="frac" align="middle"><span 
class="rm-lmr-10x-x-109">)</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89012x6">calculer le nombre d&#8217;éléments dans l&#8217;échantillon, que l&#8217;on stocke dans W<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89014x7"><span 
class="lmmi-10x-x-109">min</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">W,H</span><span 
class="rm-lmr-10x-x-109">) </span>est l&#8217;entropie minimale.<br 
class="newline" /></li></ol>
                                                                                                  

                                                                                                  
<!--l. 998--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-99" id="x6-900002"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   Considérant le jeu de données <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmsy-10x-x-109">} </span>de 20 données<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">la valeur la plus courant du jeu de données est <span 
class="ec-lmtt-10x-x-109">1 </span>(On compte 6 <span 
class="ec-lmtt-10x-x-109">0</span>, 8 <span 
class="ec-lmtt-10x-x-109">1 </span>et 6 <span 
class="ec-lmtt-10x-x-109">2</span>)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">MAX</span></sub> <span 
class="rm-lmr-10x-x-109">= 8</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">pmax </span><span 
class="rm-lmr-10x-x-109">=</span> <img 
src="rapport_Audit41x.png" alt="8
20"  class="frac" align="middle"> <span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">4</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">BOUND</span></sub> <span 
class="rm-lmr-10x-x-109">= 8 + 2</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">3</span><img 
src="rapport_Audit42x.png" alt="&#x221A;20-*-0.4-*0.6-"  class="sqrt" > <span 
class="rm-lmr-10x-x-109">= 13</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">04</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">H </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">-</span><span 
class="rm-lmr-10x-x-109">log</span> <sub><span 
class="rm-lmr-8">2</span></sub><span 
class="rm-lmr-10x-x-109">(</span><img 
src="rapport_Audit43x.png" alt="13.04
-20-"  class="frac" align="middle"><span 
class="rm-lmr-10x-x-109">) = 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">186</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">W </span><span 
class="rm-lmr-10x-x-109">= 3</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">entropie minimale calculée<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmmi-10x-x-109">min</span><span 
class="rm-lmr-10x-x-109">(3</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">186) = 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">186</span>.<br 
class="newline" /></li></ul>
                                                                                                  

                                                                                                  
                                                                                                  

                                                                                                  
                                                                                                  

                                                                                                  
   <!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="rapport_Auditch4.html" >next</a>] [<a 
href="rapport_Auditli4.html" >prev</a>] [<a 
href="rapport_Auditli4.html#tailrapport_Auditli4.html" >prev-tail</a>] [<a 
href="rapport_Auditch1.html" >front</a>] [<a 
href="rapport_Audit.html#rapport_Auditch1.html" >up</a>] </p></div>
<!--l. 1--><p class="indent" >   <a 
 id="tailrapport_Auditch1.html"></a>       
</body></html> 
