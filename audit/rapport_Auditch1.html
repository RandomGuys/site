   <h2 class="chapterHead"><span class="titlemark">Chapitre¬†1</span><br /><a 
href="rapport_Audit.html#QQ2-6-8" id="x6-60001">Entropie</a></h2>
<a 
 id="x6-6001r1"></a>
<h3 class="sectionHead"><span class="titlemark">1.1   </span> <a 
href="rapport_Audit.html#QQ2-6-9" id="x6-70001">D√©Ô¨Ånitions et contexte</a></h3>
<a 
 id="x6-7001r1"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-10" id="x6-80001">Introduction</a></h4>
<!--l. 5--><p class="noindent" >Cette partie explicite les notions d&#x2019;entropie n√©cessaires pour la d√©Ô¨Ånition d&#x2019;al√©atoire de certains programmes. Il
d√©crit aussi en particulier les sources de g√©n√©ration de bits al√©atoires et leurs tests li√©s. <br 
class="newline" />
</p><!--l. 9--><p class="indent" >   Trois axes principaux sont n√©cessaires √† la mise en place d&#x2019;un g√©n√©rateur cryptographique al√©atoire de bits<span class="frenchb-nbsp">&nbsp;</span>:
</p>
      <ul class="itemize1">
      <li class="itemize">une source de bits al√©atoires (source d&#x2019;entropie)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">un algorithme pour accumuler ces bits re√ßus et les faire suivre vers l&#x2019;application en n√©cessitant<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">une m√©thode appropri√©e pour combiner ces deux premiers composants.<br 
class="newline" /></li></ul>
<a 
 id="x6-8001r10"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-11" id="x6-90002">Estimation de l&#x2019;entropie g√©n√©r√©e par la source</a></h4>
<!--l. 18--><p class="noindent" >Il est tout d&#x2019;abord important de v√©riÔ¨Åer que la source d&#x2019;entropie choisie produit suÔ¨Ésamment d&#x2019;entropie, √† un taux
√©galant voire d√©passant une borne Ô¨Åx√©e. Pour ce faire, il faut d√©Ô¨Ånir avec pr√©cision la quantit√© d&#x2019;entropie g√©n√©r√©e
par la source. Il est de plus important de consid√©rer les diÔ¨Ä√©rents comportements des composants de la source, aÔ¨Ån
d&#x2019;√©liminer les interactions qu&#x2019;il peut y avoir entre les composants. En eÔ¨Äet, ceci peut provoquer une redondance
dans la g√©n√©ration d&#x2019;entropie si cela n&#x2019;est pas consid√©r√©. √âtant donn√© une source biais√©e, l&#x2019;entropie g√©n√©r√©e sera
conditionn√©e et donc plus facilement pr√©visible/estimable.
</p><!--l. 20--><p class="indent" >   La source d&#x2019;entropie doit donc √™tre minutieusement choisie, sans qu&#x2019;aucune interaction et conditionnement ne
soit possible.
<a 
 id="x6-9001r11"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">1.1.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-12" id="x6-100003">Concept d&#x2019;entropie</a></h4>
<!--l. 23--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-13" id="x6-110003"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">√©Ô¨Ånition.</span><br 
class="newline" /></a></span>
   Soit <span 
class="lmmi-10x-x-109">X </span>est une V.A. discr√®te. On d√©Ô¨Ånit l&#x2019;<span 
class="ec-lmbx-10x-x-109">entropie </span>de <span 
class="lmmi-10x-x-109">X </span>comme suit<span class="frenchb-nbsp">&nbsp;</span>:
</p>
   <center class="math-display" >
<img 
src="audit/rapport_Audit0x.png" alt="          ‚àë
H (X ) = ‚àí    P(X =  x)‚àó log2(P (X  = x))
           x  " class="math-display"  /></center> Le
logarithme est dans notre cas de base 2. L&#x2019;entropie se mesure en <span 
class="ec-lmri-10x-x-109">shannons </span>ou en <span 
class="ec-lmri-10x-x-109">bits</span>.<br 
class="newline" />
<!--l. 28--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-14" id="x6-120003"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">√©Ô¨Ånition.</span><br 
class="newline" /></a></span>
   On d√©Ô¨Ånit le <span 
class="ec-lmbx-10x-x-109">d</span><span 
class="ec-lmbx-10x-x-109">√©sordre </span>(ou incertitude) √©tant li√©e √† cette exp√©rience al√©atoire. Si l&#x2019;on consid√®re l&#x2019;ensemble Ô¨Åni
des issues possibles d&#x2019;une exp√©rience <span 
class="lmsy-10x-x-109">{</span><span 
class="lmmi-10x-x-109">v</span><sub><span 
class="rm-lmr-8">1</span></sub><span 
class="lmmi-10x-x-109">,...,v</span><sub><span 
class="lmmi-8">n</span></sub><span 
class="lmsy-10x-x-109">}</span>, l&#x2019;entropie de l&#x2019;exp√©rience vaudra<span class="frenchb-nbsp">&nbsp;</span>:
</p>
   <center class="math-display" >
<img 
src="audit/rapport_Audit1x.png" alt="         ‚àë
H (ùúñ) = ‚àí    P ({vi}) ‚àólog2(P({vi}))
          i
" class="math-display"  /></center>
<!--l. 32--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-15" id="x6-130003"><span 
class="ec-lmbx-10x-x-109">Propri</span><span 
class="ec-lmbx-10x-x-109">√©t</span><span 
class="ec-lmbx-10x-x-109">√©.</span><br 
class="newline" /></a></span>
   On constate que l&#x2019;entropie est maximale lorsque X est √©qui-r√©partie. En eÔ¨Äet, si l&#x2019;on consid√®re n √©l√©ments de X
√©tant √©qui-r√©partie, on retrouve notre entropie de <span 
class="lmmi-10x-x-109">H</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">X</span><span 
class="rm-lmr-10x-x-109">) =</span> <span 
class="rm-lmr-10x-x-109">log</span> <sub><span 
class="rm-lmr-8">2</span></sub><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">n</span><span 
class="rm-lmr-10x-x-109">)</span>. <br 
class="newline" />
</p><!--l. 36--><p class="indent" >   Ainsi, on comprend qu&#x2019;une variable al√©atoire apporte en moyenne un maximum d&#x2019;entropie lorsqu&#x2019;elle peut
prendre chaque valeur avec une √©quiprobabilit√©. D&#x2019;un point de vue moins th√©orique, on consid√®re que plus
l&#x2019;entropie sera grande, plus il sera diÔ¨Écile de pr√©voir la valeur que l&#x2019;on observe.
</p>
<!--l. 38--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-16" id="x6-140003"><span 
class="ec-lmbx-10x-x-109">Min-entropy.</span><br 
class="newline" /></a></span>
   La recommandation du NIST propose le calcul de <span 
class="ec-lmri-10x-x-109">Min-entropy </span>pour mesurer au pire des cas l&#x2019;entropie d&#x2019;une
observation. <br 
class="newline" />
</p><!--l. 41--><p class="indent" >   Soit <span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub> un bruit de la source d&#x2019;entropie. Soit <span 
class="lmmi-10x-x-109">p</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">) </span>la probabilit√© d&#x2019;obtenir <span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub>. On d√©Ô¨Ånit l&#x2019;entropie au pire des
cas telle que<span class="frenchb-nbsp">&nbsp;</span>:
                                                                                                  

                                                                                                  
</p>
   <center class="math-display" >
<img 
src="audit/rapport_Audit2x.png" alt="Min -entropy = ‚àí log2(max (p(xi))  " class="math-display"  /></center> La
probabilit√© d&#x2019;observer <span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub> sera donc au minimum <img 
src="audit/rapport_Audit3x.png" alt="-Min-1entropy
2"  class="frac" align="middle" />.
<a 
 id="x6-14001r12"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-17" id="x6-150004">Source d&#x2019;entropie</a></h4>
<!--l. 46--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-18" id="x6-160004"><span 
class="ec-lmbx-10x-x-109">Approche th</span><span 
class="ec-lmbx-10x-x-109">√©orique.</span><br 
class="newline" /></a></span>
   La source d&#x2019;entropie est compos√©e de trois √©l√©ments principaux<span class="frenchb-nbsp">&nbsp;</span>: </p>
      <ul class="itemize1">
      <li class="itemize">le <span 
class="ec-lmbx-10x-x-109">bruit source</span>, qui est la vo√ªte de la s√©curit√© du syst√®me. Ce bruit doit √™tre non d√©terministe,
      il renvoie de fa√ßon al√©atoire des bits gr√¢ce √† des processus non d√©terministes. Le bruit ne vient
      pas n√©cessairement directement d&#x2019;√©l√©ments binaires. Si ce bruit est externe, il est alors converti en
      donn√©es binaires. La taille des donn√©es binaires g√©n√©r√©es est Ô¨Åx√©e, de telle sorte que la sortie du
      bruit source soit d√©termin√©e dans un espace Ô¨Åxe<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le <span 
class="ec-lmbx-10x-x-109">composant de conditionnement</span>, qui permet d&#x2019;augmenter ou diminuer le taux d&#x2019;entropie re√ßu.
      L&#x2019;algorithme de conditionnement doit √™tre un algorithme cryptographique approuv√©<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">une <span 
class="ec-lmbx-10x-x-109">batterie de tests</span>, partie √©galement int√©grante du syst√®me. Des tests sont r√©alis√©s pour d√©terminer
      l&#x2019;√©tat de sant√© du g√©n√©rateur al√©atoire, permettant de s&#x2019;assurer que la source d&#x2019;entropie fonctionne comme
      attendu. On consid√®re trois cat√©gories de tests<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize">les tests au d√©marrage sur tous les composants de la source<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">les tests lanc√©s de fa√ßon continue sur le bruit g√©n√©r√© par la source<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">les tests sur demande (qui peuvent prendre du temps).<br 
class="newline" /></li></ul>
      <!--l. 57--><p class="noindent" >L&#x2019;objectif principal de ces tests est d&#x2019;√™tre capable d&#x2019;identiÔ¨Åer rapidement des √©checs de g√©n√©ration
      d&#x2019;entropie, ceci avec une forte probabilit√©. Il est donc important de d√©terminer une bonne strat√©gie de
      d√©termination d&#x2019;√©chec pour chacun de ces tests.<br 
class="newline" /></p></li></ul>
   <hr class="figure" /><div class="figure" 
>
                                                                                                  

                                                                                                  
<a 
 id="x6-16001r1"></a><a 
 id="x6-36001r8"></a><a 
 id="x6-43001r14"></a><a 
 id="x6-50001r11"></a><a 
 id="x6-50013r12"></a>
                                                                                                  

                                                                                                  
<div class="center" 
>
<!--l. 61--><p class="noindent" >
</p><!--l. 87--><p class="noindent" >                                                                           </p><!--l. 73--><p class="noindent" > </p> <!--l. 77--><p class="noindent" ><span 
class="ec-lmbx-10x-x-109">Source d&#x2019;entropie</span><span 
class="ec-lmbx-10x-x-109">Bruit</span>Donn√©esDigitalisation</p><!--l. 67--><p class="noindent" >Conditionnement
    (optionnel)Batterie de testsSortieApplicationout1out2out1out2true/falseoutput/error
</p></div>
<br /> <div class="caption" 
><span class="id"><span 
class="ec-lmcsc-10x-x-109">Figure</span>¬†1.1: </span><span  
class="content">Composants d&#x2019;une source d&#x2019;entropie. <span 
class="ec-lmtt-10x-x-109">out1 </span>est une cha√Æne binaire de taille quelconque et <span 
class="ec-lmtt-10x-x-109">out2</span>
est une cha√Æne binaire conditionn√©e de taille Ô¨Åxe. </span></div><!--tex4ht:label?: x6-16001r1 -->
                                                                                                  

                                                                                                  
   </div><hr class="endfigure" />
<!--l. 92--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-20" id="x6-170004"><span 
class="ec-lmbx-10x-x-109">Mod</span><span 
class="ec-lmbx-10x-x-109">√®le conceptuel.</span><br 
class="newline" /></a></span>
   Suivant ces sections pr√©c√©dentes, on peut d√©terminer trois interfaces conceptuelles<span class="frenchb-nbsp">&nbsp;</span>: </p>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ec-lmtt-10x-x-109">getEntropy </span>qui retourne
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">entropy_bitstring</span>, une cha√Æne de bits de l&#x2019;entropie demand√©e<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">assessed_entropy</span>, entier indiquant le nombre de bits d&#x2019;entropie de <span 
class="ec-lmtt-10x-x-109">entropy_bitstring</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">status</span>, bool√©en renvoyant <span 
class="ec-lmtt-10x-x-109">true </span>si la requ√™te est satisfaite, <span 
class="ec-lmtt-10x-x-109">false </span>sinon.<br 
class="newline" /></li></ul>
      </li>
      <li class="itemize"><span 
class="ec-lmtt-10x-x-109">getNoise </span>qui prend en entr√©e<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">number_of_sample_requested</span>, entier indiquant le nombre d&#x2019;√©l√©ments demand√©s en retour √† la
         source de bruit.<br 
class="newline" /></li></ul>
      <!--l. 105--><p class="noindent" >et en sortie<span class="frenchb-nbsp">&nbsp;</span>: </p>
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">noise_source_data</span>,      la      s√©quence      d&#x2019;√©l√©ments      demand√©e,      ayant      la      taille
         <span 
class="ec-lmtt-10x-x-109">number_of_sample_requested</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">status</span>, bool√©en renvoyant <span 
class="ec-lmtt-10x-x-109">true </span>si la requ√™te est satisfaite, <span 
class="ec-lmtt-10x-x-109">false </span>sinon.<br 
class="newline" /></li></ul>
      </li>
      <li class="itemize"><span 
class="ec-lmtt-10x-x-109">HealthTest</span>, √©l√©ment test de la batterie de tests, qui prend en entr√©e<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">type_of_test_requested</span>, chaine de bits d√©terminant le type de tests que l&#x2019;on souhaite eÔ¨Äectuer
         (peut diÔ¨Ä√©rer suivant le type de source).<br 
class="newline" /></li></ul>
      <!--l. 114--><p class="noindent" >et en sortie<span class="frenchb-nbsp">&nbsp;</span>: </p>
         <ul class="itemize2">
         <li class="itemize"><span 
class="ec-lmtt-10x-x-109">pass-fail_flag</span>, bool√©en qui renvoie <span 
class="ec-lmtt-10x-x-109">true </span>si la source d&#x2019;entropie a r√©ussi le test, <span 
class="ec-lmtt-10x-x-109">faux </span>sinon.<br 
class="newline" /></li></ul>
      </li></ul>
<a 
 id="x6-17001r17"></a>
<h4 class="subsectionHead"><span class="titlemark">1.1.5   </span> <a 
href="rapport_Auditli1.html#QQ2-6-21" id="x6-180005">Standards</a></h4>
<a 
 id="x6-18001r1"></a>
                                                                                                  

                                                                                                  
<h5 class="subsubsectionHead"><span class="titlemark">1.1.5.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-22" id="x6-190001">RFC 4086</a></h5>
<!--l. 124--><p class="noindent" >Nos machines utilisent ce qu&#x2019;on appelle des PRNG (Pseudo Random Number Generator), qui sont des algorithmes
qui g√©n√®rent une s√©quence de nombres s&#x2019;apparentant √† de l&#x2019;al√©atoire. En r√©alit√© rien n&#x2019;est al√©atoire car tout est
d√©termin√© par des valeurs initiales (√©tat du PRNG) et des contextes d&#x2019;utilisation.<br 
class="newline" />
</p><!--l. 126--><p class="indent" >   Un bon PRNG se doit d&#x2019;avoir une tr√®s forte entropie (proche de un), aÔ¨Ån d&#x2019;√©viter de d√©livrer de l&#x2019;information.
Comme l&#x2019;entropie est fournie majoritairement (si ce n&#x2019;est totalement) par l&#x2019;OS, il est donc n√©cessaire de d√©tailler les
PRNG les plus utilis√©s (surtout par les syst√®mes Linux et BSD - qui sont ceux qui g√©n√®rent le plus de certiÔ¨Åcats
SSL).<br 
class="newline" />
</p><!--l. 129--><p class="indent" >   Nous nous basons sur la RFC 4086 <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span><span class="frenchb-nbsp">&nbsp;</span>: <span 
class="ec-lmri-10x-x-109">Randomness requirements for security </span>pour le choix des PRNG selon les
diÔ¨Ä√©rentssyst√®mes, voir la section &#x0022;Normes&#x0022; pour plus d&#x2019;informations.
<a 
 id="x6-19001r1"></a>
</p>
<a 
href="#x6-200001" id="x6-200001">Sous Linux</a>
<!--l. 133--><p class="indent" >   Il existe plusieurs niveaux de r√©cup√©ration d&#x2019;al√©atoire sous linux<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" /></p>
      <ul class="itemize1">
      <li class="itemize">Point primaire (<span 
class="ec-lmri-10x-x-109">Primary pool</span>)<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" />512o (128 mots de 4o) + ajout d&#x2019;entropie<br 
class="newline" />
      </li>
      <li class="itemize">Point secondaire (<span 
class="ec-lmri-10x-x-109">Secondary pool</span>)<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" />128o pour g√©n√©rer le Ô¨Åchier <span 
class="ec-lmtt-10x-x-109">/dev/random</span>. <br 
class="newline" />Un autre point secondaire existe<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="ec-lmtt-10x-x-109">/dev/urandom</span><br 
class="newline" /></li></ul>
<!--l. 142--><p class="indent" >   L&#x2019;entropie est r√©cup√©r√©e par exemple lorsqu&#x2019;un √©v√©nement appara√Æt (telle qu&#x2019;une interruption du disque
dur), la date et l&#x2019;heure de l&#x2019;√©v√©nement sont r√©cup√©r√©s et XOR√©s dans le <span 
class="ec-lmri-10x-x-109">pool</span>, puis sont &#x0022;m√©lang√©s&#x0022;
avec une primitive polynomiale poss√©dant un degr√© de 128. Le <span 
class="ec-lmri-10x-x-109">pool </span>devient ensuite une boucle o√π de
nouvelles donn√©es sont XOR√©es (&#x0022;m√©lang√©es&#x0022; encore par la primitive polynomiale) tout le long du
<span 
class="ec-lmri-10x-x-109">pool</span>.<br 
class="newline" />
</p><!--l. 144--><p class="indent" >   √Ä chaque appel qui rajoute de l&#x2019;entropie dans le <span 
class="ec-lmri-10x-x-109">pool</span>, celui-ci calcule une estimation de la probabilit√© d&#x2019;une
r√©elle entropie des donn√©es. Le <span 
class="ec-lmri-10x-x-109">pool </span>contient alors l&#x2019;accumulation des estimations de l&#x2019;entropie totale contenue dans
le <span 
class="ec-lmri-10x-x-109">pool</span>.<br 
class="newline" />
</p><!--l. 146--><p class="indent" >   Les sources d&#x2019;entropie sont les suivantes<span class="frenchb-nbsp">&nbsp;</span>: </p>
      <ul class="itemize1">
      <li class="itemize">interruption clavier - heure et code d&#x2019;interruption<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">interruption des compl√©tions du disque - heure de lecture ou √©criture<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">mouvement de la souris - heure et position.<br 
class="newline" /></li></ul>
                                                                                                  

                                                                                                  
<!--l. 153--><p class="indent" >   Quand des octets al√©atoires sont demand√©s, la <span 
class="ec-lmri-10x-x-109">pool </span>est hach√©e avec SHA-1 (20 octets). Si plus de 20 octets sont
demand√©s, le hach√© est m√©lang√© dans la <span 
class="ec-lmri-10x-x-109">pool </span>pour la rehacher ensuite, etc. √Ä chaque fois que l&#x2019;on prend des octets
dans la <span 
class="ec-lmri-10x-x-109">pool</span>, l&#x2019;entropie estim√©e est d√©cr√©ment√©e. Pour assurer un niveau minimum d&#x2019;entropie au d√©marrage, la <span 
class="ec-lmri-10x-x-109">pool</span>
est √©crite dans un Ô¨Åchier √† l&#x2019;extinction de la machine.<br 
class="newline" />
</p><!--l. 155--><p class="indent" >   <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>fonctionne selon le m√™me principe sauf qu&#x2019;il n&#x2019;attend pas qu&#x2019;il y ait assez d&#x2019;entropie pour donner
de l&#x2019;al√©atoire. Il convient donc pour une g√©n√©ration de clefs de session. Pour g√©n√©rer des clefs cryptographiques
demandant une grande entropie, il est recommand√© d&#x2019;utiliser <span 
class="ec-lmtt-10x-x-109">/dev/random </span>pour assurer un niveau minimum
d&#x2019;entropie.<br 
class="newline" />
</p><!--l. 157--><p class="indent" >   <span 
class="ec-lmtt-10x-x-109">/dev/random </span>utilise une <span 
class="ec-lmri-10x-x-109">pool </span>d&#x2019;entropie de 4096 bits (512 octets) g√©n√®re de l&#x2019;al√©atoire et s&#x2019;arr√™te lorsqu&#x2019;il n&#x2019;y a
plus assez d&#x2019;entropie<span class="frenchb-thinspace">&nbsp;</span>; il attend que la <span 
class="ec-lmri-10x-x-109">pool </span>se remplisse √† nouveau.<br 
class="newline" />
</p><!--l. 159--><p class="indent" >   En conclusion, <span 
class="ec-lmtt-10x-x-109">/dev/random </span>doit √™tre utilis√© pour une haute qualit√© d&#x2019;entropie (i.e. haute s√©curit√© de
chiÔ¨Ärement, one-time pad), tandis que <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>doit √™tre utilis√© pour des applications non sensibles √† des
attaques cryptographiques (i.e. jeu en temps r√©el), car elle g√©n√®re plus d&#x2019;entropie que <span 
class="ec-lmtt-10x-x-109">/dev/random </span>sur un temps
donn√©, mais s&#x2019;arr√™tera m√™me s&#x2019;il n&#x2019;a pas r√©colt√© suÔ¨Ésamment d&#x2019;entropie.<br 
class="newline" />
</p><!--l. 161--><p class="indent" >   Par exemple, sur un serveur sans souris ni clavier, d√©Ô¨Ånir l&#x2019;entropie avec <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>est tr√®s
risqu√©. On recommande donc l&#x2019;utilisation de <span 
class="ec-lmtt-10x-x-109">/dev/random </span>lors de l&#x2019;audit OpenSSL sur les versions
Linux.<br 
class="newline" />
</p><!--l. 163--><p class="indent" >   Pour conna√Ætre l&#x2019;entropie disponible, il suÔ¨Ét d&#x2019;entrer la commande suivante<span class="frenchb-nbsp">&nbsp;</span>: </p>
<div class="center" 
>
<!--l. 164--><p class="noindent" >
</p><!--l. 165--><p class="noindent" ><span 
class="ec-lmtt-10x-x-109">cat /proc/sys/kernel/random/entropy_avail</span>.<br />
</p>
</div>
<!--l. 168--><p class="indent" >   D√©sormais, la taille de la <span 
class="ec-lmri-10x-x-109">pool </span>est hardcod√©e dans le noyau Linux (<span 
class="ec-lmtt-10x-x-109">/drivers/char/random.c</span><span class="frenchb-nbsp">&nbsp;</span><span 
class="ec-lmtt-10x-x-109">:275</span>)<br 
class="newline" />
</p><!--l. 170--><p class="indent" >   Linux oÔ¨Äre √©galement la possibilit√© de r√©cup√©rer de l&#x2019;al√©atoire depuis un RNG mat√©riel avec la fonction
<span 
class="ec-lmtt-10x-x-109">get_random_bytes_arch</span><br 
class="newline" />
</p><!--l. 172--><p class="indent" >   Un patch est √©galement disponible aÔ¨Ån de g√©n√©rer de l&#x2019;al√©atoire avec un d√©bit de 100kB/s <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. L&#x2019;entropie est
r√©cup√©r√©e par le <span 
class="ec-lmri-10x-x-109">CPU timing jitter</span>.<br 
class="newline" />
<a 
 id="x6-20001r23"></a>
</p>
<a 
href="#x6-210002" id="x6-210002">Sous Windows</a>
<!--l. 176--><p class="indent" >   Du cot√© de Microsoft, il est recommand√© aux utilisateurs d&#x2019;utiliser <span 
class="ec-lmtt-10x-x-109">CryptGenRandom</span>, <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> qui est un appel
syst√®me de g√©n√©ration d&#x2019;un nombre pseudo-al√©atoire. La g√©n√©ration est r√©alis√©e par une biblioth√®que
cryptographique (<span 
class="ec-lmri-10x-x-109">Cryptographic service provider library</span>). Celle-ci g√®re un pointeur vers un <span 
class="ec-lmri-10x-x-109">buÔ¨Äer </span>en lui fournissant
de l&#x2019;entropie aÔ¨Ån de g√©n√©rer un nombre pseudo-al√©atoire en retour avec en plus, le nombre d&#x2019;octets d&#x2019;al√©atoires
                                                                                                  

                                                                                                  
d√©sir√©s.
                                                                                                  

                                                                                                  
</p>
   <pre>
BOOL¬†WINAPI¬†CryptGenRandom(
¬†_In_¬†¬†¬†¬†HCRYPTPROV¬†hProv,
 _In_¬†¬†¬†¬†DWORD¬†dwLen,
¬†_Inout_¬†BYTE¬†*pbBuffer
);
</pre>
<!--l. 184--><p class="nopar" >
</p><!--l. 186--><p class="indent" >   Le service <span 
class="ec-lmri-10x-x-109">provider </span>sauvegarde une variable d&#x2019;√©tat d&#x2019;un sel pour chaque utilisateur. Lorsque <span 
class="ec-lmtt-10x-x-109">CryptGenRandom</span>
est appel√©, celui-ci est combin√© avec un nombre al√©atoire g√©n√©r√© par la biblioth√®que en plus de diÔ¨Ä√©rentes donn√©es
syst√®mes mais aussi de l&#x2019;utilisateur telles que<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" /></p>
      <ul class="itemize1">
      <li class="itemize">l&#x2019;ID du processus<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#x2019;ID du thread<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#x2019;horloge syst√®me<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#x2019;heure syst√®me<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#x2019;√©tat de la m√©moire<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#x2019;espace disque disponible du <span 
class="ec-lmri-10x-x-109">cluster</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le hach√© du bloc d&#x2019;environnement m√©moire de l&#x2019;utilisateur.<br 
class="newline" /></li></ul>
<!--l. 197--><p class="indent" >   Le tout est envoy√© √† la fonction de hachage SHA-1 et le nombre en sortie est utilis√© comme sel de clef RC4.
Cette clef est enÔ¨Ån utilis√©e pour produire des donn√©es pseudo-al√©atoires et mettre √† jour la variable d&#x2019;√©tat du sel de
l&#x2019;utilisateur.
<a 
 id="x6-21001r24"></a>
</p>
<a 
href="#x6-220003" id="x6-220003">Sous OpenBSD et FreeBSD</a>
<!--l. 201--><p class="indent" >   Il faut faire attention aux faux amis, car le <span 
class="ec-lmtt-10x-x-109">/dev/random </span>du FreeBSD n&#x2019;est pas le m√™me que celui de Linux.
En fait, il est semblable au <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>de Linux, et est donc tout autant proscrit lors de notre
audit.<br 
class="newline" />
</p><!--l. 203--><p class="indent" >   Dans OpenBSD, on trouve des sources d&#x2019;al√©atoire suppl√©mentaires par rapport √† Linux. On trouve notamment
<span 
class="ec-lmtt-10x-x-109">/dev/arandom </span>qui g√©n√®re de l&#x2019;al√©atoire selon une version <span 
class="ec-lmri-10x-x-109">leak</span><span 
class="ec-lmri-10x-x-109">√©e </span>de <span 
class="ec-lmtt-10x-x-109">RC4</span><span class="frenchb-nbsp">&nbsp;</span>: <span 
class="ec-lmtt-10x-x-109">ARC4 </span>(Alleged RC4). Pour
rappel, <span 
class="ec-lmtt-10x-x-109">RC4 </span>√©tait un projet commercial de <span 
class="ec-lmtt-10x-x-109">RSA Security </span>et un hacker anonyme a publi√© un code qui
faisait globalement la m√™me chose, code l√©gitime identiÔ¨Å√© par <span 
class="ec-lmtt-10x-x-109">ARC4</span>. De nos jours, il est fortement
conseill√© de ne plus utiliser <span 
class="ec-lmtt-10x-x-109">RC4 </span>car le Ô¨Çux de donn√©es al√©atoires n&#x2019;est en fait pas vraiment al√©atoire et il
                                                                                                  

                                                                                                  
existe des attaques qui pr√©disent la sortie de l&#x2019;algorithme (Attaque de Fluhrer, Mantin et Shamir)
.<br 
class="newline" />
</p><!--l. 206--><p class="indent" >   Sur plusieurs de nos sources (plus anciennes), il est recommand√© d&#x2019;utiliser <span 
class="ec-lmtt-10x-x-109">/dev/arandom </span>pour sa rapidit√© (71
Mb/s) et sa bonne source d&#x2019;entropie. Ce n&#x2019;est plus vraiment le cas aujourd&#x2019;hui.<br 
class="newline" />
<a 
 id="x6-22001r25"></a>
</p>
<a 
href="#x6-230004" id="x6-230004">Autres syst√®mes</a>
<!--l. 211--><p class="indent" >   Nous avons √©galement d&#x2019;autres RNG comme <span 
class="ec-lmtt-10x-x-109">/dev/srandom</span>, <span 
class="ec-lmtt-10x-x-109">/dev/prandom </span>ou encore <span 
class="ec-lmtt-10x-x-109">/dev/wrandom </span><span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>.
<span 
class="ec-lmtt-10x-x-109">/dev/srandom </span>est simple et lent, il n&#x2019;est pas recommand√© de l&#x2019;utiliser.<br 
class="newline" />
</p><!--l. 213--><p class="indent" >   Certains syst√®mes ne disposant pas de <span 
class="ec-lmtt-10x-x-109">/dev/*random</span>, peuvent utiliser l&#x2019;EGD (Entropy Gathering Daemon) <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>.
Il faut alors utiliser les fonctions OpenSSL <span 
class="ec-lmtt-10x-x-109">RAND_egd</span>, <span 
class="ec-lmtt-10x-x-109">RAND_egd_bytes </span>et <span 
class="ec-lmtt-10x-x-109">RAND_query_egd_bytes</span>. L&#x2019;EGD est
√©galement utilis√© par GPG, et peut √™tre utilis√© comme <span 
class="ec-lmri-10x-x-109">seed</span>.
<a 
 id="x6-23001r22"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.1.5.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-27" id="x6-240002">FIPS 140</a></h5>
<!--l. 217--><p class="noindent" >Le FIPS 140 (<span 
class="ec-lmri-10x-x-109">Ferderal Information Processing Standards</span>) est un standard du gouvernement am√©ricain sp√©ciÔ¨Åque
aux modules cryptographiques d√©ploy√©s par des √©l√©ments du gouvernement. Il inclut notamment des
standards de tests qui permettent de d√©crire la qualit√© et/ou valider des g√©n√©rateurs d&#x2019;entropie ou
g√©n√©rateurs pseudo-al√©atoires. La version la plus r√©cente est le FIPS 140-2, qui d√©crit plusieurs niveaux de
tests.<br 
class="newline" />
</p><!--l. 220--><p class="indent" >   Les test du FIPS 140-1 permettent de s&#x2019;assurer que les sources d&#x2019;entropies produisent suÔ¨Ésamment de &#x0022;bonnes&#x0022;
donn√©es, pourvu que les sources d&#x2019;entropies n&#x2019;utilisent pas quelques op√©rations cryptographiques internes. Si une
source d&#x2019;entropie en utilise, alors elle r√©ussira les tests avec quasi-certitude, m√™me si la source d&#x2019;entropie est faible.
De ce fait, ces jeux de tests ne sont pas bons pour tester des g√©n√©rateurs de nombres pseudo-al√©atoires
cryptographiques, car ceux-ci passeront facilement les tests m√™me si les g√©n√©rateurs d&#x2019;entropie sont faibles. Par
exemple, si l&#x2019;on hache une suite d&#x2019;entiers (par pas de 1), les tests seront tous valid√©s bien qu&#x2019;ils n&#x2019;auront pas
√©t√© tir√©s al√©atoirement, ceci en vertu de la fonction de hachage. Pourtant, la donn√©e est hautement
pr√©dictible.<br 
class="newline" />
</p><!--l. 223--><p class="indent" >   Les tests du FIPS 140-2 ne sont √©galement pas tr√®s eÔ¨Écaces, et permettent seulement de d√©tecter si un mat√©riel
commence √† produire un motif r√©p√©t√©. Ils consistent √† comparer diÔ¨Ä√©rentes sorties cons√©cutives d&#x2019;un g√©n√©rateur.
Ainsi, si le &#x0022;g√©n√©rateur al√©atoire&#x0022; consiste √† produire une simple incr√©mentation de nombres, les tests passeront
sans probl√®me.<br 
class="newline" />
</p><!--l. 226--><p class="indent" >   Il est donc conseill√© d&#x2019;utiliser les tests du FIPS 140-1 et 140-2 pour v√©riÔ¨Åer uniquement si la source d&#x2019;entropie
produit de bonnes donn√©es, au d√©marrage et p√©riodiquement lorsque c&#x2019;est possible. <br 
class="newline" />
</p><!--l. 230--><p class="indent" >   Le FIPS 140-1 d√©Ô¨Ånit 4 tests statistiques √† lancer sur 20000 bits cons√©cutifs, tests au d√©marrage ou √† la
demande<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
                                                                                                  

                                                                                                  
      <li 
  class="enumerate" id="x6-24002x1">le <span 
class="ec-lmbx-10x-x-109">test Monobit</span>, o√π le nombre de bits √† &#x2019;1&#x2019; sont compt√©s. Le test est consid√©r√© comme r√©ussi si le
      nombre de bits √† &#x2019;1&#x2019; est raisonnablement proche de 10 000<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-24004x2">le  <span 
class="ec-lmbx-10x-x-109">test  Poker</span>,  pour  lequel  les  donn√©es  sont  s√©par√©es  en  une  suite  cons√©cutive  de  4bits  pour
      d√©terminer combien de fois les 16 conÔ¨Ågurations de 4 bits apparaissent. Les carr√©s du r√©sultats sont
      somm√©s et permettent de d√©Ô¨Ånir si le test passe ou non<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-24006x3">le <span 
class="ec-lmbx-10x-x-109">test runs</span>, que nous d√©velopperons dans les recommandations du NIST<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-24008x4">le test <span 
class="ec-lmbx-10x-x-109">long runs</span>, qui eÔ¨Äectue le test de runs sur 34 bits ou davantage.<br 
class="newline" /></li></ol>
<!--l. 239--><p class="indent" >   Le FIPS 140-2 d√©Ô¨Ånit enÔ¨Ån des tests continuels de sortie (<span 
class="ec-lmri-10x-x-109">continuous output tests</span>). Les donn√©es de sortie sont
d√©coup√©s en blocs de 16 octets (ou davantage). Le premier bloc est stock√© et compar√© au second. S&#x2019;ils sont
identiques, alors le test est √©chou√©. On passe √† la paire suivante, le 2e bloc est compar√© avec le 3e,
etc.
<a 
 id="x6-24009r9"></a>
</p>
<h3 class="sectionHead"><span class="titlemark">1.2   </span> <a 
href="rapport_Audit.html#QQ2-6-28" id="x6-250002">Une backdoor dans nos syt√®mes cryptographiques<span class="frenchb-thinspace">&nbsp;</span>?</a></h3>
<a 
 id="x6-25001r21"></a>
<h4 class="subsectionHead"><span class="titlemark">1.2.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-29" id="x6-260001">L&#x2019;aÔ¨Äaire Snowden et les documents top secrets de la NSA</a></h4>
<!--l. 245--><p class="noindent" >Coup d&#x2019;√©clat en 2012, Edward Snowden, ancien-membre de la NSA et de la CIA, d√©voile l&#x2019;existence des <span 
class="ec-lmri-10x-x-109">backdoors</span>
ainsi qu&#x2019;un lot d&#x2019;informations cons√©quent sur la forte inÔ¨Çuence de la NSA sur le NIST et la RSA Security <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. Il
pr√©leva ainsi plus de 1 700 000 documents √† la NSA (d&#x2019;apr√®s un oÔ¨Écier de la NSA - 15 d√©cembre 2013), dont 31
000 ultra-conÔ¨Ådentiels <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. Il d√©livra quelques documents √† plusieurs journaux populaires tels que <span 
class="ec-lmri-10x-x-109">&#x0022;The Guardian&#x0022;</span>
et <span 
class="ec-lmri-10x-x-109">&#x0022;The New York Times&#x0022;</span>.<br 
class="newline" />
</p><!--l. 248--><p class="indent" >   Parmi les documents top secrets rendus publiques, un en particulier nous int√©resse <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. Il concerne le contr√¥le de
la NSA sur les syst√®mes de chiÔ¨Ärement actuels, nom de code <span 
class="ec-lmtt-10x-x-109">BULLRUN</span>, dont voici quelques points
importants<span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" /></p>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ec-lmri-10x-x-109">&#x0022;Insert  vulnerabilities  into  commercial  encryption  systems,  IT  systems,  networks,  endpoint</span>
      <span 
class="ec-lmri-10x-x-109">communications devices used by targets&#x0022;</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="ec-lmri-10x-x-109">&#x0022;InÔ¨Çuence policies, standards and speciÔ¨Åcation for commercial public key technologies&#x0022;</span>.<br 
class="newline" /></li></ul>
<!--l. 254--><p class="indent" >   Bruce Schneier, un des plus grands cryptologues actuel, et fervent d√©tracteur de la NSA, publie plusieurs articles
concernant ce contr√¥le d&#x2019;informations sur la question &#x0022;La NSA a t-elle r√©ellement plac√© une <span 
class="ec-lmri-10x-x-109">backdoor </span>au sein d&#x2019;un
nouveau syst√®me de chiÔ¨Ärement<span class="frenchb-thinspace">&nbsp;</span>?&#x0022; <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> <br 
class="newline" />
</p><!--l. 256--><p class="indent" >   Il √©voque √©galement le projet <span 
class="ec-lmtt-10x-x-109">BULLRUN</span>, montrant comment la NSA peut placer ses <span 
class="ec-lmri-10x-x-109">backdoors</span>,
comment elle peut les choisir, et propose plusieurs strat√©gies de d√©fense <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> pour les vaincre, notamment<span class="frenchb-nbsp">&nbsp;</span>:
</p>
                                                                                                  

                                                                                                  
      <ul class="itemize1">
      <li class="itemize">les vendeurs doivent rendre au minimum le code de chiÔ¨Ärement publique (sp√©ciÔ¨Åcations concernant
      les protocoles inclus). Le reste peut √™tre conserv√© secret<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">la communaut√© des cryptologues doit pouvoir oÔ¨Ärir une version compatible et ind√©pendante du
      syst√®me de chiÔ¨Ärement, en <span 
class="ec-lmri-10x-x-109">open-source </span>ou en vente aupr√®s des entreprises priv√©es (pour Ô¨Ånancer les
      universit√©s par exemple)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">il ne doit y avoir aucun secret. Tout doit √™tre enti√®rement transparent aupr√®s des clients<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#x2019;ensemble des PRNG doivent √™tre rendus conformes avant publication et acceptation<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">aucune fuite d&#x2019;information n&#x2019;est permise, surtout au niveau des protocoles de chiÔ¨Ärement. Ceci aÔ¨Ån
      d&#x2019;√©viter la pr√©diction de clefs priv√©es.<br 
class="newline" /></li></ul>
<!--l. 265--><p class="indent" >   En Septembre 2013, Matthew Green publie un article <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> sur ce vaste probl√®me entre la NSA et la s√©curit√©
cryptographique, qui a √©t√© salu√© par plusieurs cryptologues dont B. Schneier.<br 
class="newline" />
</p><!--l. 267--><p class="indent" >   Il pr√©cise cependant que ceci ne reste que des sp√©culations, mais qu&#x2019;elles sont n√©cessaires aÔ¨Ån de redoubler
d&#x2019;eÔ¨Äorts dans la s√©curit√© de nos communications.<br 
class="newline" />
<a 
 id="x6-26001r29"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">1.2.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-30" id="x6-270002">Le NIST et l&#x2019;algorithme Dual EC DRBG</a></h4>
<!--l. 272--><p class="noindent" >Un rapport de Snowden, indique que la NSA a vers√© plus de 10 000 000$ √† la compagnie RSA Security <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> pour
qu&#x2019;elle utilise ce dernier, et discutable, algorithme comme g√©n√©rateur. On comprend donc mieux les
suspicions autour d&#x2019;un accord entre le NIST et la NSA pour la publication d&#x2019;une recommandation de cet
algorithme.<br 
class="newline" />
</p><!--l. 274--><p class="indent" >   Les recommandations du NIST en mati√®re de PRNG (qu&#x2019;ils appellent plut√¥t DRNG - Determinist Random
Number Generation), d√©bute en 2006, la publication du dernier document sur les DRNG date de Janvier 2012 avec
la <span 
class="ec-lmtt-10x-x-109">SP800-90A </span><span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>.<br 
class="newline" />
</p><!--l. 276--><p class="indent" >   Ce document pr√©sente quatre algorithmes de PRNG qui sont<span class="frenchb-nbsp">&nbsp;</span>: </p>
      <ul class="itemize1">
      <li class="itemize">le Hash_DRBG bas√© sur des fonctions de hachage<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le HMAC_DRBG bas√© √©galement sur des fonctions de hachage<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le CTR_DRBG bas√© sur du chiÔ¨Ärement par bloc<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le <span 
class="ec-lmri-10x-x-109">Dual Elliptic Curve Deterministic RBG </span>(ou <span 
class="ec-lmri-10x-x-109">Dual EC DRBG</span>) bas√© sur une th√©orie math√©matique.<br 
class="newline" /></li></ul>
<!--l. 284--><p class="indent" >   Les trois premiers sont conventionnels, accept√©s par toute la communaut√© des cryptologues, et s&#x2019;av√®rent
eÔ¨Écaces car ils g√©n√®rent &#x0022;suÔ¨Ésamment&#x0022; d&#x2019;entropie. Le dernier est tr√®s diÔ¨Ä√©rent des trois autres, dans le sens o√π il
                                                                                                  

                                                                                                  
utilise une fonction de chiÔ¨Ärement √† sens unique. Certains cryptologues ont d√©montr√© que cet algorithme poss√®de
des failles (d&#x2019;autres indiquent clairement que c&#x2019;est une backdoor du NIST...). En eÔ¨Äet, on peut accepter
l&#x2019;utilisation d&#x2019;une fonction √† sens unique, √† condition que le secret utilis√© ne soit pas conserv√© ailleurs (en
d&#x2019;autres termes qu&#x2019;il soit d√©truit). Que faire si le NIST garde le secret des algorithmes permettant
d&#x2019;aÔ¨Äaiblir consid√©rablement le <span 
class="ec-lmri-10x-x-109">Dual EC DRGB</span>, et rendre l&#x2019;al√©atoire pr√©visible pour qui s&#x2019;en donne les
moyens<span class="frenchb-thinspace">&nbsp;</span>?<br 
class="newline" />
</p><!--l. 286--><p class="indent" >   En recoupant plusieurs sources, le doute augmente consid√©rablement. En 2006, Berry Schoenmakers et Andrey
Sidorenko √©tablissent une cryptanalyse du <span 
class="ec-lmri-10x-x-109">DUAL EC DRGB </span><span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. En 2007, Dan Shumow et Niels Ferguson
furent les premiers √† d√©noncer le NIST d&#x2019;avoir plac√© une <span 
class="ec-lmri-10x-x-109">backdoor </span>d√©lib√©r√©ment dans cet algorithme
<span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>.<br 
class="newline" />
</p><!--l. 288--><p class="indent" >   Avant septembre 2013, tout cela n&#x2019;√©tait que suspicion, mais depuis le NIST √† publi√© un bulletin de nouvelles
recommandations pour les DRNG <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>, et indique (surtout gr√¢ce √† un forcing de la communaut√© cryptologue) que le
<span 
class="ec-lmri-10x-x-109">Dual EC DRBG </span>ne doit plus √™tre utilis√© pour les raisons suivantes<span class="frenchb-nbsp">&nbsp;</span>: </p>
      <ul class="itemize1">
      <li class="itemize">la provenance des points par d√©faut de la courbe elliptique utilis√©e n&#x2019;est pas clairement d√©taill√©e<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">la g√©n√©ration de ces courbes n&#x2019;est pas digne de conÔ¨Åance.<br 
class="newline" /></li></ul>
<!--l. 293--><p class="noindent" ><span 
class="ec-lmri-10x-x-109">&#x0022;</span><span 
class="ec-lmbxi-10x-x-109">Recommending against the use of SP 800-90A Dual Elliptic Curve Deterministic Random Bit</span>
<span 
class="ec-lmbxi-10x-x-109">Generation</span><span class="frenchb-nbsp">&nbsp;</span><span 
class="ec-lmbxi-10x-x-109">: </span><span 
class="ec-lmri-10x-x-109">NIST strongly recommends that, pending the resolution of the security concerns and there - issuance</span>
<span 
class="ec-lmri-10x-x-109">of SP 800-90A, the Dual_EC_DRBG, as speciÔ¨Åed in the January 2012 version of SP 800-90A, no longer be</span>
<span 
class="ec-lmri-10x-x-109">used&#x0022;</span>.<br 
class="newline" />
<a 
 id="x6-27001r30"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">1.2.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-31" id="x6-280003">... Et OpenSSL<span class="frenchb-thinspace">&nbsp;</span>?</a></h4>

<!--l. 297--><p class="noindent" >√Ä pr√©sent, il faut rechercher l&#x2019;utilisation de cet algorithme dans les classes d&#x2019;OpenSSL, la nouvelle recommandation
du NIST faisant foi. Le directeur technique d&#x2019;OpenSSL Steve Marques a rapport√© le 19 d√©cembre
2013 qu&#x2019; &#x0022;un bug inusuel [avait] √©t√© d√©tect√© sur une situation inusuelle&#x0022;. Paul Ducklin apporte une
bonne synth√®se sur le site NakedSecurity <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>, le titre est clair<span class="frenchb-nbsp">&nbsp;</span>: &#x0022;Le bug d&#x2019;OpenSSL nous sauve de
l&#x2019;espionnage&#x0022;.<br 
class="newline" />
</p><!--l. 300--><p class="indent" >   L&#x2019;implantation du DUAL_EC_DRGB dans OpenSSL contient une faille, celle-ci causant un arr√™t brutal ou un
blocage de programme. Le bug a toujours √©t√© l√†, et il vient seulement d&#x2019;√™tre d√©tect√©. Heureusement, personne n&#x2019;a
pu utiliser cet algorithme, celui-ci est rest√© dans les phases de tests, les passant tout de m√™me avec
succ√®s.<br 
class="newline" />
<a 
 id="x6-28001r28"></a>
</p>
<h3 class="sectionHead"><span class="titlemark">1.3   </span> <a 
href="rapport_Audit.html#QQ2-6-32" id="x6-290003">Audits</a></h3>
<a 
 id="x6-29001r31"></a>
                                                                                                  

                                                                                                  
<h4 class="subsectionHead"><span class="titlemark">1.3.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-33" id="x6-300001">Audit 1.1<span class="frenchb-nbsp">&nbsp;</span>: Le cas Debian 4.0 et OpenSSL 0.9.8</a></h4>
<a 
 id="x6-30001r27"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-34" id="x6-310001">Normes vis√©es</a></h5>
<!--l. 305--><p class="noindent" >Les normes vis√©es furent la RFC 4086 <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> et le FIPS 140-2 <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. La premi√®re d√©Ô¨Ånit le bon fonctionnement
d&#x2019;un RNG, tandis que la deuxi√®me apporte plut√¥t des algorithmes r√©put√©s s√ªrs pour la g√©n√©ration
d&#x2019;al√©atoire.
<a 
 id="x6-31001r34"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-35" id="x6-320002">Description de la faille</a></h5>
<!--l. 308--><p class="noindent" >Le 13 mai 2008, Luciano Bello a d√©couvert une faille critique du paquet d&#x2019;OpenSSL sur les syst√®mes Debian <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. Un
mainteneur Debian souhaitant corriger quelques bugs aurait malencontreusement supprim√© une grosse source
d&#x2019;entropie lors de la g√©n√©ration des clefs. Il ne restait plus que le PID comme source d&#x2019;entropie. Comme celui-ci ne
pouvait d√©passer 32 768 (qui le PID maximal par d√©faut atteignable), l&#x2019;espace des clefs a √©t√© restreint √† 264 148
clefs distinctes.<br 
class="newline" />
</p><!--l. 310--><p class="indent" >   Le 14 mai 2008, Steinar H. Gunderson d√©montre qu&#x2019;en connaissant le secret <span 
class="lmmi-10x-x-109">k </span>d&#x2019;une signature, on peut
retrouver la clef priv√©e d&#x2019;un certiÔ¨Åcat imm√©diatement <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. Ce secret <span 
class="lmmi-10x-x-109">k </span>√©tant g√©n√©r√© avec un PRNG pr√©visible, on
peut stocker deux signatures utilisant le m√™me <span 
class="lmmi-10x-x-109">k</span>, o√π le pr√©dire directement.<br 
class="newline" />
</p><!--l. 312--><p class="indent" >   Une signature DSA consiste en deux nombres <span 
class="lmmi-10x-x-109">r </span>et <span 
class="lmmi-10x-x-109">s </span>tels que<span class="frenchb-nbsp">&nbsp;</span>:
</p><!--l. 314--><p class="indent" >
</p>
   <center class="math-display" >
<img 
src="audit/rapport_Audit4x.png" alt="r = (gk[p])[q]
" class="math-display"  /></center>
   <center class="math-display" >
<img 
src="audit/rapport_Audit5x.png" alt="s = (k‚àí1 ‚àó(H (m )+ x ‚àór))[q]
" class="math-display"  /></center>
<!--l. 317--><p class="indent" >   La cl√© publique = <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">p,q,g</span><span 
class="rm-lmr-10x-x-109">)</span>, le message en clair = <span 
class="lmmi-10x-x-109">m</span>, et <span 
class="lmmi-10x-x-109">H</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">m</span><span 
class="rm-lmr-10x-x-109">) </span>est le <span 
class="ec-lmri-10x-x-109">Ô¨Ångerprint </span>de <span 
class="lmmi-10x-x-109">m </span>qui est √©galement
connu.
                                                                                                  

                                                                                                  
</p>
      <ul class="itemize1">
      <li class="itemize">Attaque n<span 
class="ec-lmr-7x-x-101">o</span> 1<span class="frenchb-nbsp">&nbsp;</span>: En connaissant <span 
class="lmmi-10x-x-109">k</span>
      <center class="math-display" >
      <img 
src="audit/rapport_Audit6x.png" alt="s‚àók [q] = (H (m )+ x ‚àór)[q]
      " class="math-display"  /></center>
      <center class="math-display" >
      <img 
src="audit/rapport_Audit7x.png" alt="‚áê‚áí  (s‚àó k ‚àí H (m ))[q] = x‚àó r[q]
      " class="math-display"  /></center>
      <center class="math-display" >
      <img 
src="audit/rapport_Audit8x.png" alt="                      ‚àí1
‚áê ‚áí ((s‚àó k ‚àí H (m ))‚àó r )[q] = x
      " class="math-display"  /></center>
      <center class="math-display" >
      <img 
src="audit/rapport_Audit9x.png" alt="                     ‚àí1
‚áê‚áí  (s‚àó k ‚àí H(m ))‚àó r  =  x
      " class="math-display"  /></center>
      </li>
      <li class="itemize">Attaque n<span 
class="ec-lmr-7x-x-101">o</span> 2<span class="frenchb-nbsp">&nbsp;</span>: Deux messages poss√®dent le m√™me <span 
class="lmmi-10x-x-109">k</span>
                                                                                                  

                                                                                                  
      <center class="math-display" >
      <img 
src="audit/rapport_Audit10x.png" alt="s1 = (k‚àí 1(H (m1 )+ x ‚àór))[q]
      " class="math-display"  /></center>
      <center class="math-display" >
      <img 
src="audit/rapport_Audit11x.png" alt="s = (k‚àí 1(H (m  )+ x ‚àór))[q]
 2            2
      " class="math-display"  /></center>
      <center class="math-display" >
      <img 
src="audit/rapport_Audit12x.png" alt="               ‚àí 1
‚áê ‚áí s1 ‚àí s2 = (k   (H (m1 )‚àí H (m2 ))[q]
      " class="math-display"  /></center>
      <center class="math-display" >
      <img 
src="audit/rapport_Audit13x.png" alt="                               ‚àí1    ‚àí1
‚áê‚áí  (s1 ‚àí s2)‚àó (H (m1 )‚àí H (m2 )) = k   [q]
      " class="math-display"  /></center>
      <center class="math-display" >
      <img 
src="audit/rapport_Audit14x.png" alt="‚áê ‚áí On  conna √Æt k = ‚áí Attaque 1
      " class="math-display"  /></center><br 
class="newline" /></li></ul>
<!--l. 334--><p class="indent" >   Pour savoir si une clef SSL, SSH, DNSSEC ou OpenVPN est aÔ¨Äect√©e, plusieurs d√©tecteurs de donn√©es <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> de
cl√©s faibles sont fournies par l&#x2019;√©quipe Security de Debian, en m√™me temps que l&#x2019;avertissement de s√©curit√©
<span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>.<br 
class="newline" />
<a 
 id="x6-32001r35"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-36" id="x6-330003">Tests</a></h5>
<!--l. 338--><p class="noindent" >Nous avons d√©cid√© de tester le nombre de certiÔ¨Åcats vuln√©rables caus√©s par le bug OpenSSL de Debian (qui reste le plus
populaire), et connaissant la <span 
class="ec-lmri-10x-x-109">blacklist </span>des clefs priv√©es. Les r√©sultats nous montrent que sur 500 000 certiÔ¨Åcats r√©cup√©r√©s,
au moins <span class="footnote-mark"><a 
href="rapport_Audit7.html#fn1x2"><sup class="textsuperscript">1</sup></a></span><a 
 id="x6-33001f1"></a> 
769 sont vuln√©rables.<br 
class="newline" />
</p><!--l. 340--><p class="indent" >   Vous pouvez trouver nos scripts parcourant un Ô¨Åchier contenant un certiÔ¨Åcat sur chaque ligne, ou un dossier
contenant des certiÔ¨Åcats sous forme de Ô¨Åchiers PEM et nos r√©sultats, dans le dossier consacr√© √† l&#x2019;audit des clefs
cryptographiques.<br 
class="newline" />
</p><!--l. 342--><p class="indent" >   Le format de nos r√©sultats est<span class="frenchb-nbsp">&nbsp;</span>: <br 
class="newline" />
</p><!--l. 344--><p class="indent" >   <span 
class="ec-lmbx-10x-x-109">COMPROMISED</span><span class="frenchb-nbsp">&nbsp;</span><span 
class="ec-lmbx-10x-x-109">: </span><span 
class="ec-lmri-10x-x-109">&#x003C;hach</span><span 
class="ec-lmri-10x-x-109">√©_du_certiÔ¨Åcat&#x003E; &#x003C;nom _Ô¨Åchier_corrompu (sous forme d&#x2019;adresse</span>
<span 
class="ec-lmri-10x-x-109">IP)&#x003E;</span><br 
class="newline" />
</p><!--l. 346--><p class="indent" >   √âvidemment, nous ne mettons pas ces r√©sultats sur le net puisqu&#x2019;ils indiquent tr√®s clairement les
adresses IP contenant le certiÔ¨Åcat friable, et sa clef priv√©e (que l&#x2019;on peut facilement retrouver parmi la
courte blacklist). Pour information, parmi les entreprises vuln√©rables nous trouvons les g√©ants IBM et
CISCO.
<a 
 id="x6-33002r36"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-37" id="x6-340004">Impl√©mentation</a></h5>
<!--l. 350--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-38" id="x6-350004"><span 
class="ec-lmbx-10x-x-109">ConÔ¨Åguration utilis</span><span 
class="ec-lmbx-10x-x-109">√©e.</span><br 
class="newline" /></a></span>
   Premi√®re version OpenSSL vuln√©rable<span class="frenchb-nbsp">&nbsp;</span>: 0.9.8c-1.<br 
class="newline" />Premi√®re distribution stable o√π la vuln√©rabilit√© a √©t√© corrig√© OpenSSL 0.9.8c-4etch3 pour Debian/Etch.<br 
class="newline" />Premi√®re distribution de test o√π la vuln√©rabilit√© a √©t√© corrig√© OpenSSL 0.9.8g-9 pour Debian/Lenny.<br 
class="newline" />Premi√®re distribution instable o√π la vuln√©rabilit√© a √©t√© corrig√© OpenSSL 0.9.8g-9 pour Debian/Sid.<br 
class="newline" />
                                                                                                  

                                                                                                  
</p>
<!--l. 358--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-39" id="x6-360004"><span 
class="ec-lmbx-10x-x-109">Fonction.</span><br 
class="newline" /></a></span>
   La fonction li√©e √† cette norme est accessible sous le paquetage <span 
class="ec-lmtt-10x-x-109">openssl/crypto/rand/md_rand.c </span>(cf. <span 
class="ec-lmri-10x-x-109">Listing</span>
<a 
href="#x6-36001r1">1.1<!--tex4ht:ref: mdrand --></a>).
</p>
   <!--l. 362-->
<pre>
#ifndef PURIFY 
  /* 
   * Don‚Äôt add uninitialised data.
   */ 
  MD_Update(&m, buf, j); /* purify complains */ 
#endif 
</pre>
       <div class="caption" 
><span class="id">Listing¬†1.1:
       </span><span  
class="content">md_rand.c</span></div><!--tex4ht:label?: x6-36001r1 -->
<!--l. 371--><p class="indent" >   Analysons plus en d√©tail cette faille. La cons√©quence est le blocage de la graine (seed) que l&#x2019;on passe ensuite au
PRNG. Cette ligne a √©t√© comment√©e par erreur en voulant corriger un avertissement soulev√© par le compilateur
Valgrind sur une valeur non initialis√©e.
<a 
 id="x6-36010r37"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.1.5   </span> <a 
href="rapport_Auditli1.html#QQ2-6-41" id="x6-370005">Conclusion</a></h5>
     Tout d&#x2019;abord, il est fortement recommand√© de mettre √† jour sa version OpenSSL vers une version stable o√π le
bug a √©t√© corrig√©. Puis de g√©n√©rer de nouvelles clefs de chiÔ¨Ärement, et de r√©voquer les certiÔ¨Åcats corrompus. Il reste
malheureusement beaucoup de certiÔ¨Åcats (+ de 700) touch√©s par cette faille, la plupart √©tant valide jusqu&#x2019;en
2020-2030.
<a 
 id="x6-37001r33"></a>
<h4 class="subsectionHead"><span class="titlemark">1.3.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-42" id="x6-380002">Audit 1.2<span class="frenchb-nbsp">&nbsp;</span>: Le cas LinuxMintDebianEdition sous Android</a></h4>
<a 
 id="x6-38001r41"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.2.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-43" id="x6-390001">Normes vis√©es</a></h5>
<!--l. 380--><p class="noindent" >Les normes sont les m√™mes que l&#x2019;Audit 1.1.
<a 
 id="x6-39001r43"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.2.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-44" id="x6-400002">Description de la faille</a></h5>
<!--l. 384--><p class="noindent" >R√©cemment, en ao√ªt 2013 pr√©cis√©ment, un patch de s√©curit√© pour les syst√®mes Android utilisant la version
LinuxMintDebianEdition/d&#x2019; OpenSSL, d√©voile une r√©paration du g√©n√©rateur de nombres pseudo-al√©atoires
(PRNG) qui ne donnait pas suÔ¨Ésamment d&#x2019;entropie <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. <br 
class="newline" />
</p><!--l. 386--><p class="indent" >   Le patch indique que le PRNG de cette version d&#x2019;OpenSSL utilise dor√©navant une combinaison de donn√©es
plus ou moins pr√©visibles associ√©es √† l&#x2019;entropie g√©n√©r√©es par /dev/urandom. Mais sachant que le
PRNG d&#x2019;OpenSSL utilise lui-m√™me /dev/urandom, on a du mal √† comprendre pourquoi en rajouter
                                                                                                  

                                                                                                  
davantage.<br 
class="newline" />
</p><!--l. 388--><p class="indent" >   Eric Wong et Martin Bo√ület apportent la solution sur leur site <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. Ils montrent que l&#x2019;erreur provient d&#x2019;un bug &#x0022;√†
la Debian&#x0022;, une simple ligne diÔ¨Ä√®re de la version oÔ¨Écielle d&#x2019;OpenSSL (utilisant SecureRandom) √† celle de
OpenSSL<span class="frenchb-nbsp">&nbsp;</span>:<span class="frenchb-nbsp">&nbsp;</span>:Random se situant dans la fonction ssleay_rand_bytes. Toutefois, la cons√©quence n&#x2019;est pas aussi lourde
que celle de Debian, tout d&#x2019;abord parce que le syst√®me Android est rarement utilis√© pour du chiÔ¨Ärement de donn√©es
sensible, et une attaque par pr√©diction bien que plus rapide qu&#x2019;une attaque par brute-force reste infaisable. Mais
l&#x2019;erreur est quand m√™me l√†. <br 
class="newline" />
<a 
 id="x6-40001r44"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.2.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-45" id="x6-410003">Impl√©mentation</a></h5>
<!--l. 393--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-46" id="x6-420003"><span 
class="ec-lmbx-10x-x-109">ConÔ¨Åguration utilis</span><span 
class="ec-lmbx-10x-x-109">√©e.</span><br 
class="newline" /></a></span>
   Syst√®me Android utilisant la version 1.0.1e d&#x2019;OpenSSL au niveau de la classe SecureRandom,
avec la biblioth√®que Java Bridge (Ô¨Åchier JAR) acc√®dant au PRNG d&#x2019;OpenSSL, la biblioth√®que
core/java/com/android/internal/os/ZygoteInit.java pour la parall√©lisation des processus (fork).<br 
class="newline" />
</p><!--l. 397--><p class="indent" >   OS utilis√©s Linux Mint Debian Edition (LMDE) et Fedora. Le bug concerne l&#x2019;OS LMDE avec la version
OpenSSL 1.0.1e.
</p>
<!--l. 399--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-47" id="x6-430003"><span 
class="ec-lmbx-10x-x-109">Fonction.</span><br 
class="newline" /></a></span>
   La fonction d&#x2019;OpenSSL mise en cause se situe √©galement au niveau de <span 
class="ec-lmtt-10x-x-109">openssl/crypto/rand/md_rand.c</span>,
dans la fonction <span 
class="ec-lmtt-10x-x-109">ssleay_rand_bytes(unsigned char *buf, int num, int pseudo) </span>(cf. <span 
class="ec-lmri-10x-x-109">Listing</span>
<a 
href="#x6-43001r2">1.2<!--tex4ht:ref: ssleayrandbytes --></a>).
</p>
   <!--l. 403-->
<pre>
#ifndef PURIFY /* purify complains */ 
    #if 0 
    /* The following line uses the supplied buffer as a small 
     * source of entropy: since this buffer is often uninitialised 
     * it may cause programs such as purify or valgrind to 
     * complain. So for those builds it is not used: the removal 
     * of such a small source of entropy has negligible impact on 
     * security. 
     */ 
     MD_Update(&m,buf,j); 
     #endif 
#endif 
</pre>
       <div class="caption" 
><span class="id">Listing¬†1.2:
       </span><span  
class="content">ssleay_rand_bytes.c</span></div><!--tex4ht:label?: x6-43001r1 -->
<!--l. 419--><p class="indent" >   On retrouve le m√™me bug que Debian. Le fameux patch supprimant l&#x2019;entropie d&#x2019;OpenSSL... 7 ans auparavant,
et corrig√© en 2008. Alors que l&#x2019;√©quipe de d√©veloppement d&#x2019;OpenSSL d√©clare que l&#x2019;impact est faible voire inexistant
sur la s√©curit√©, les syst√®mes Android, d√©rogent √† la r√®gle. La raison est que la m√©moire n&#x2019;est pas initialis√©e sur la
version LMDE/OpenSSL 1.0.1e, compar√© √† Fedora/OpenSSL 1.0.1e. La seule source d&#x2019;entropie n&#x2019;est que la valeur
du PID du processus courant, tr√®s limit√©.
                                                                                                  

                                                                                                  
<a 
 id="x6-43016r45"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.2.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-49" id="x6-440004">Conclusion</a></h5>
     Il est alors recommand√© √† court terme d&#x2019;ajouter plus d&#x2019;entropie √† notre PRNG sous Android, soit
manuellement comme le script Ruby d&#x2019;Eric Wong <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>, ou avec les outils cit√©s plus haut dans ce document. Sinon, le
patch d&#x2019;OpenSSL <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> r√©pare √©galement l&#x2019;erreur en rajoutant plus d&#x2019;al√©atoire, bien qu&#x2019;une recommandation oÔ¨Écielle
serait la bienvenue, ainsi qu&#x2019;une meilleure documentation.<br 
class="newline" />
<a 
 id="x6-44001r42"></a>
<h4 class="subsectionHead"><span class="titlemark">1.3.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-50" id="x6-450003">Audit 1.3<span class="frenchb-nbsp">&nbsp;</span>: NetBSD 6.0 et OpenSSH</a></h4>
<a 
 id="x6-45001r49"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.3.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-51" id="x6-460001">Norme vis√©e</a></h5>
<!--l. 429--><p class="noindent" >Le noyau du syst√®me NetBSD s&#x2019;appuie sur le RNG CTR du NIST, que l&#x2019;on peut trouver dans le NIST-SP-800-90A
<span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> pour d√©Ô¨Ånir sa <span 
class="ec-lmri-10x-x-109">pool </span>d&#x2019;entropie.
<a 
 id="x6-46001r51"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.3.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-52" id="x6-470002">Description de la faille</a></h5>
<!--l. 433--><p class="noindent" >Autre faille du m√™me genre sur les syst√®mes NetBSD 6.0 concernant OpenSSH/OpenSSL et datant de mars 2013 <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>
<span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. L&#x2019;erreur provient d&#x2019;une insuÔ¨Ésance d&#x2019;entropie dans le PRNG, qui ne tient que sur 32 ou 64 bits (la taille d&#x2019;un
<span 
class="ec-lmtt-10x-x-109">sizeof(int)</span>). Un attaquant peut brute-forcer une clef g√©n√©r√©e par ce PRNG. Il est probable que les d√©g√¢ts soient
bien moins √©tendus que lors de l&#x2019;aÔ¨Äaire OpenSSL Debian car les syst√®mes NetBSD 6.0 sont moins
fr√©quents.<br 
class="newline" />
<a 
 id="x6-47001r52"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.3.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-53" id="x6-480003">Impl√©mentation</a></h5>
<!--l. 437--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-54" id="x6-490003"><span 
class="ec-lmbx-10x-x-109">ConÔ¨Åguration utilis</span><span 
class="ec-lmbx-10x-x-109">√©e.</span><br 
class="newline" /></a></span>
   La vuln√©rabilit√© concerne les versions NetBSD 6.0 et NetBSD 6.0.1. Elle est r√©par√©e sur la version NetBSD 6.0.2
et NetBSD 1.0 <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span>. Une parenth√®se mal plac√©e dans le code du Ô¨Åchier <span 
class="ec-lmtt-10x-x-109">/src/sys/kern/subr_cprng.c </span>du syst√®me
rend pr√©visible l&#x2019;entropie fournie pour la g√©n√©ration des clefs.<br 
class="newline" />
</p>
<!--l. 441--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-55" id="x6-500003"><span 
class="ec-lmbx-10x-x-109">Fonctions.</span><br 
class="newline" /></a></span>
   La fonction vuln√©rable (cf. <span 
class="ec-lmri-10x-x-109">Listing </span><a 
href="#x6-50001r3">1.3<!--tex4ht:ref: subrcprng1 --></a>) est accessible via le chemin <span 
class="ec-lmtt-10x-x-109">/src/sys/kern/subr_cprng.c</span>.
</p>
   <!--l. 445-->
                                                                                                  
<pre>
if (c->flags & CPRNG_INIT_ANY) { 
    #ifdef DEBUG 
    printf("cprng %s: WARNING insufficient " 
        "entropy at creation.\n", name); 
    #endif 
    rnd_extract_data(key + r, sizeof(key - r), RND_EXTRACT_ANY); 
} else { 
    hard++; 
} 
</pre>
                                                                                                  
       <div class="caption" 
><span class="id">Listing¬†1.3:
       </span><span  
class="content">subr_cprng.c(1)</span></div><!--tex4ht:label?: x6-50001r1 -->
<!--l. 458--><p class="indent" >   Pour la partie concernant la ligne 183<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="ec-lmtt-10x-x-109">rnd_extract_data (key + r, sizeof(key - r), RND_EXTRACT_ANY)</span><span class="frenchb-thinspace">&nbsp;</span><span 
class="ec-lmtt-10x-x-109">;</span><br 
class="newline" />Le deuxi√®me param√®tre devrait √™tre <span 
class="ec-lmtt-10x-x-109">sizeof(key) - r</span>. Dans la version 1.15, cet appel a √©t√© corrig√©,
et on utilise une nouvelle fonction nomm√©e <span 
class="ec-lmtt-10x-x-109">cprng_entropy_try </span>(cf. <span 
class="ec-lmri-10x-x-109">Listing </span><a 
href="#x6-50013r4">1.4<!--tex4ht:ref: subrcprng2 --></a>) <span class="cite">[<span 
class="ec-lmbx-10x-x-109">?</span>]</span> √† la place de
<span 
class="ec-lmtt-10x-x-109">rnd_extract_data</span>.
</p>
   <!--l. 461-->
<pre>
static size_t 
cprng_entropy_try(uint8_t *key, size_t keylen, int hard) 
{ 
    int r; 
    r = rnd_extract_data(key, keylen, RND_EXTRACT_GOOD); 
    if (r != keylen && !hard) { 
        rnd_extract_data(key + r, keylen - r, RND_EXTRACT_ANY); 
    } 
    return r; 
} 
</pre>
       <div class="caption" 
><span class="id">Listing¬†1.4:
       </span><span  
class="content">subr_cprng.c(2)</span></div><!--tex4ht:label?: x6-50013r1 -->
<!--l. 474--><p class="indent" >   Cette fonction permet de r√©duire le nombre d&#x2019;appels de la pr√©c√©dente fonction <span 
class="ec-lmtt-10x-x-109">rnd_extract_data</span>. Elle prend
en argument le niveau d&#x2019;entropie √† atteindre &#x0022;hard&#x0022; ou &#x0022;soft&#x0022; aÔ¨Ån de donner respectivement de &#x0022;bons&#x0022; bits ou
&#x0022;suÔ¨Ésamment&#x0022; de bits.
<a 
 id="x6-50026r53"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.3.3.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-58" id="x6-510004">Conclusion</a></h5>
     Il est recommand√© de passer √† une version NetBSD sup√©rieure √† 5.1, et de g√©n√©rer de nouvelles donn√©es de
chiÔ¨Ärement comme les cl√©s SSH ayant √©t√©s g√©n√©r√©es avec ce noyau. Il faut √©galement faire attention au patch de
s√©curit√© de janvier 2013 qui en tentant de r√©gler le probl√®me a g√©n√©r√© une autre erreur produisant le m√™me eÔ¨Äet.
L&#x2019;erreur ne provient pas directement du code d&#x2019;OpenSSL. Mais ici, OpenSSL se contente de r√©cup√©rer l&#x2019;entropie
fournie sans aucune v√©riÔ¨Åcation (fonction <span 
class="ec-lmtt-10x-x-109">RAND_bytes()</span>).<br 
class="newline" />
   Il est √©galement recommand√© d&#x2019;utiliser <span 
class="ec-lmtt-10x-x-109">/dev/random </span>plut√¥t que <span 
class="ec-lmtt-10x-x-109">/dev/urandom </span>pour avoir une bonne entropie.
On souligne quand m√™me le fait que OpenSSL ne contr√¥le pas son entropie, si l&#x2019;entropie du syst√®me est
quasi-nulle les clefs sont tout de m√™me g√©n√©r√©es. Un avertissement aupr√®s de l&#x2019;utilisateur serait un
minimum.
<a 
 id="x6-51001r32"></a>
<h3 class="sectionHead"><span class="titlemark">1.4   </span> <a 
href="rapport_Audit.html#QQ2-6-59" id="x6-520004">Recommandations sur la conception</a></h3>
<!--l. 483--><p class="noindent" >Le NIST propose des recommandations √† plusieurs niveaux concernant la conception de la source d&#x2019;entropie. Nous
                                                                                                  

                                                                                                  
n&#x2019;en reporterons ici que les recommandations g√©n√©riques. Les √©l√©ments ci-dessous sont bas√©s sur le rapport du
NIST SP800-90B.
<a 
 id="x6-52001r50"></a>
</p>
<h4 class="subsectionHead"><span class="titlemark">1.4.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-60" id="x6-530001">Mod√©lisation et validation</a></h4>
<!--l. 486--><p class="noindent" >La source d&#x2019;entropie doit suivre les exigences suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-53002x1">le d√©veloppeur doit documenter compl√®tement la mod√©lisation de la source d&#x2019;entropie, incluant toutes
      les interactions entre les composants. De ce fait, la documentation doit pouvoir justiÔ¨Åer en quoi la
      source d&#x2019;entropie est de conÔ¨Åance<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53004x2">il doit d√©Ô¨Ånir de fa√ßon pr√©cise les limites conceptuelles de s√©curit√© de la source d&#x2019;entropie, qui doivent
      elles-m√™mes √™tre √©quivalentes √† un module cryptographique d√©limitant un p√©rim√®tre de s√©curit√© (cf.
      <span 
class="ec-lmri-10x-x-109">Cryptographic module boundary </span>du FIPS 140)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53006x3">le d√©veloppeur doit d√©Ô¨Ånir le champ des conditions optimales de fonctionnement du g√©n√©rateur
      d&#x2019;entropie<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53008x4">la source source d&#x2019;entropie doit √™tre possiblement valid√©e suivant les recommandations du FIPS 140,
      ainsi que les tests s&#x2019;y r√©f√©rant<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53010x5">le comportement du bruit de la source doit √™tre document√©, validant en quoi le taux d&#x2019;entropie ne
      Ô¨Çuctue pas lors d&#x2019;une utilisation normale<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-53012x6">d√®s lors qu&#x2019;un test de validation n&#x2019;est pas r√©ussi, la source d&#x2019;entropie doit imm√©diatement cesser
      d&#x2019;envoyer des donn√©es de sortie, et doit notiÔ¨Åer √† l&#x2019;application l&#x2019;erreur rencontr√©e.<br 
class="newline" />
      <!--l. 495--><p class="noindent" >EnÔ¨Ån, une recommandation optionnelle<span class="frenchb-nbsp">&nbsp;</span>:
      </p></li>
      <li 
  class="enumerate" id="x6-53014x7">la source d&#x2019;entropie doit contenir diÔ¨Ä√©rents types de bruit pour am√©liorer le comportement global de
      la source, et pr√©venir des tentatives de contr√¥le externe. Chaque bruit doit v√©riÔ¨Åer les sp√©ciÔ¨Åcations
      du 3.1.</li></ol>
<a 
 id="x6-53015r60"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-61" id="x6-540002">Source d&#x2019;entropie absolue</a></h4>
<!--l. 500--><p class="noindent" >Certains g√©n√©rateurs de bits al√©atoires demandent une source d&#x2019;entropie absolue, √† savoir qu&#x2019;elle approxime une
sortie qui est uniform√©ment distribu√©e et ind√©pendante des autres sorties.
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-54002x1">la chaine de bits g√©n√©r√©e doit fournir au moins <span 
class="rm-lmr-10x-x-109">(1 </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="lmmi-10x-x-109">ùúñ</span><span 
class="rm-lmr-10x-x-109">)</span><span 
class="lmmi-10x-x-109">n </span>bits d&#x2019;entropie, o√π<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize1">
         <li class="itemize"><span 
class="lmmi-10x-x-109">n </span>est la taille de chaque sortie<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span 
class="lmmi-10x-x-109">ùúñ </span>tel que<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">0 </span><span 
class="msam-10x-x-109">‚â§ </span><span 
class="lmmi-10x-x-109">ùúñ </span><span 
class="msam-10x-x-109">‚â§ </span><span 
class="rm-lmr-10x-x-109">2</span><sup><span 
class="lmsy8-">‚àí</span><span 
class="rm-lmr-8">64</span></sup>.<br 
class="newline" /></li></ul>
                                                                                                  

                                                                                                  
      </li></ol>
<a 
 id="x6-54003r61"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.3   </span> <a 
href="rapport_Auditli1.html#QQ2-6-62" id="x6-550003">Bruit de la source</a></h4>
<!--l. 510--><p class="noindent" >Le bruit fourni par la source doit suivre les recommandations suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-55002x1">le  bruit  doit  avoir  un  comportement  probabiliste  et  ne  doit  en  aucun  cas  √™tre  d√©Ô¨Ånissable  par
      quelconque algorithme ou r√®gle<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55004x2">le d√©veloppeur doit pouvoir documenter l&#x2019;op√©ration sur le fonctionnement du bruit de la source, en
      montrant en quoi le choix de ce bruit fournit une sortie d&#x2019;entropie acceptable. Ceci comprend le
      r√©f√©rencement d&#x2019;articles de recherche et autre litt√©rature pertinente<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55006x3">le bruit de la source doit pouvoir √™tre testable, de telle sorte que l&#x2019;on puisse s&#x2019;assurer qu&#x2019;il eÔ¨Äectue
      l&#x2019;op√©ration attendue. Il doit donc √™tre possible de r√©cup√©rer des donn√©es sur la source de bruit sur
      lesquelles on puisse lancer la batterie de tests. La r√©cup√©ration des donn√©es sur la source de bruit ne
      doit en aucun cas alt√©rer le comportement du bruit, ou de la sortie<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55008x4">toute d√©faillance du bruit doit √™tre rapidement d√©tectable. Les m√©thodes de d√©tection doivent √™tre
      document√©es<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55010x5">la documentation de la source du bruit doit √©galement d√©crire sous quelles conditions le bruit est
      connu pour mal fonctionner. Ceci consiste ainsi √† r√©pertorier les environnements dans lesquels la
      source peut fonctionner correctement<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-55012x6">la source de bruit doit √™tre prot√©g√©e au maximum contre toute attaque/tentative de conditionnement
      ou simple connaissance de fonctionnement de la part d&#x2019;un adversaire.<br 
class="newline" /></li></ol>
<a 
 id="x6-55013r62"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.4   </span> <a 
href="rapport_Auditli1.html#QQ2-6-63" id="x6-560004">Composant de conditionnement</a></h4>
<!--l. 521--><p class="noindent" >Le composant de conditionnement doit suivre les recommandations suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-56002x1">le d√©veloppeur doit documenter si la source d&#x2019;entropie n√©cessite ou non un conditionnement<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-56004x2">la m√©thode de conditionnement doit √™tre d√©crite et argument√©e. Elle doit en eÔ¨Äet expliciter en quoi
      elle permet de diminuer l&#x2019;alignement d&#x2019;une source de bruit, ou en quoi la sortie cr√©√©e correspond √†
      l&#x2019;entropie attendue<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-56006x3">la m√©thode de conditionnement doit pouvoir √™tre valid√©e par des tests<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-56008x4">le d√©veloppeur doit pouvoir estimer l&#x2019;alignement en sortie de conditionnement<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-56010x5">le  d√©veloppeur  doit  pr√©voir  une  documentation  expliquant  le  comportement  de  la  m√©thode  de
                                                                                                  

                                                                                                  
      conditionnement en cas de variation de comportement de la part de la source de bruit.<br 
class="newline" /></li></ol>
<a 
 id="x6-56011r63"></a>
<h4 class="subsectionHead"><span class="titlemark">1.4.5   </span> <a 
href="rapport_Auditli1.html#QQ2-6-64" id="x6-570005">Batterie de tests</a></h4>
<!--l. 531--><p class="noindent" >Globalement, les tests doivent suivre les recommandations suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-57002x1">les  tests  doivent  √™tre  eÔ¨Äectu√©s  au  d√©marrage  puis  de  fa√ßon  continuelle  pour  s&#x2019;assurer  que  les
      composants du g√©n√©rateur d&#x2019;entropie fonctionnent correctement<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-57004x2">tous les tests doivent √™tre document√©s, en particulier sur les conditions sous lesquels ils doivent √™tre
      ex√©cut√©s, les r√©sultats attendus pour chacun de ceux-ci, et une explication rationnelle indiquant
      en quoi chaque test est appropri√© pour la d√©tection de dysfonctionnement de la part de la source
      d&#x2019;entropie.<br 
class="newline" /></li></ol>
<a 
 id="x6-57005r58"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.4.5.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-65" id="x6-580001">Tests sur le bruit</a></h5>
<!--l. 538--><p class="noindent" >Les tests sur le bruit sont pour la plupart du temps d√©pendants de la technologie utilis√©e. Dans la majorit√© des cas,
il faut tester via des proc√©dures traditionnelles de tests (type test monobit, test du <span 
class="lmmi-10x-x-109">œá</span><sub><span 
class="rm-lmr-8">2</span></sub>, et tests d&#x2019;ex√©cution) si
celui-ci est bien non biais√© et produit des donn√©es ind√©pendantes.
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-58002x1">au  minimum,  des  tests  continus  doivent  √™tre  impl√©ment√©s,  et  ceci  de  fa√ßon  ind√©pendante.  Le
      d√©veloppeur doit de plus documenter toutes les sources de d√©faillance<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-58004x2">les tests sont impl√©ment√©s sur les donn√©es binaires r√©cup√©r√©es via le bruit source<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-58006x3">la source de bruit doit √™tre test√©e dans son ensemble (suivant la variation du bruit)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-58008x4">le bruit g√©n√©r√© durant la d√©marrage ayant pass√© avec succ√®s les tests de d√©marrage peut √™tre utilis√©
      pour produire de l&#x2019;entropie<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-58010x5">lorsqu&#x2019;un test √©choue, le g√©n√©rateur doit en √™tre notiÔ¨Å√©.<br 
class="newline" />
      <!--l. 546--><p class="noindent" >Optionnel<span class="frenchb-nbsp">&nbsp;</span>:
      </p></li>
      <li 
  class="enumerate" id="x6-58012x6">une √©tude peut √™tre requise sur les bords du bruit g√©n√©r√©, dans les cas ou le comportement du
      g√©n√©rateur est alt√©r√©.</li></ol>
<a 
 id="x6-58013r65"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.4.5.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-66" id="x6-590002">Tests sur le conditionnement</a></h5>
<!--l. 552--><p class="noindent" >Le r√¥le du conditionnement est de r√©duire l&#x2019;alignement pr√©sent chez certaines sources d&#x2019;entropie aÔ¨Ån de s&#x2019;assurer
que l&#x2019;entropie est construite √† un taux acceptable. Les recommandations sont les suivantes<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-59002x1">les composants de conditionnements doivent √™tre test√©s d√®s le d√©marrage, aÔ¨Ån d&#x2019;√™tre certains que le
                                                                                                  

                                                                                                  
      g√©n√©rateur fonctionne comme pr√©vu<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-59004x2">le d√©veloppeur doit documenter les tests impl√©ment√©s et inclure les conditions d&#x2019;√©checs pour chacun
      d&#x2019;entre eux.</li></ol>
<a 
 id="x6-59005r59"></a>
<h3 class="sectionHead"><span class="titlemark">1.5   </span> <a 
href="rapport_Audit.html#QQ2-6-67" id="x6-600005">Tests eÔ¨Äectifs sur l&#x2019;entropie fournie par les sources d&#x2019;entropie</a></h3>
<a 
 id="x6-60001r64"></a>
<h4 class="subsectionHead"><span class="titlemark">1.5.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-68" id="x6-610001">D√©terminer si les donn√©es sont IID</a></h4>
<!--l. 564--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-69" id="x6-620001"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">√©Ô¨Ånition.</span><br 
class="newline" /></a></span>
   On dit que des variables sont <span 
class="ec-lmbx-10x-x-109">IID </span>(ind√©pendantes et identiquement distribu√©es) si elles suivent toutes la m√™me
loi de probabilit√© et si elles sont mutuellement ind√©pendantes. <br 
class="newline" />
</p><!--l. 567--><p class="indent" >   Les tests suivants ont √©t√© con√ßus pour montrer si les donn√©es en sortie du bruit et/ou en sortie
du conditionnement sont bien IID, ceci en eÔ¨Äectuant des tests sur la distribution des donn√©es. Le
but est de v√©riÔ¨Åer l&#x2019;hypoth√®se <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub>. Pour la v√©riÔ¨Åer, nous allons consid√©rer ici deux types de tests<span class="frenchb-nbsp">&nbsp;</span>:
</p>
      <ul class="itemize1">
      <li class="itemize">des tests de r√©partition al√©atoire sur l&#x2019;ensemble<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">des tests statistiques.<br 
class="newline" /></li></ul>
<!--l. 573--><p class="indent" >   Si un des tests est pass√©, alors on passe au suivant. La d√©faillance d&#x2019;un seul des tests impliquera le caract√®re non
IID des donn√©es.
<a 
 id="x6-62001r66"></a>
</p>
<h5 class="subsubsectionHead"><span class="titlemark">1.5.1.1   </span> <a 
href="rapport_Auditli1.html#QQ2-6-70" id="x6-630001">Tests sur l&#x2019;ind√©pendance et la stabilit√©</a></h5>
     Nous travaillons sur le test statistique bilat√©ral suivant<span class="frenchb-nbsp">&nbsp;</span>:
      <ul class="itemize1">
      <li class="itemize">l&#x2019;hypoth√®se <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub><span class="frenchb-nbsp">&nbsp;</span>: &#x0022;Les donn√©es sont IID&#x0022;<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">l&#x2019;hypoth√®se <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">1</span></sub><span class="frenchb-nbsp">&nbsp;</span>: &#x0022;Les donn√©es ne sont pas IID&#x0022;. <br 
class="newline" />
      </li></ul>
<!--l. 585--><p class="noindent" >Suivant un jeu de donn√©es <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">donnees</span><span 
class="lmsy-10x-x-109">| </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmmi-10x-x-109">n</span><span 
class="rm-lmr-10x-x-109">)</span>, on divise celui-ci en dix sous-ensembles de m√™me taille
(<img 
src="audit/rapport_Audit15x.png" alt="N10"  class="frac" align="middle" />). On eÔ¨Äectue enÔ¨Ån nos tests sur chacune de ces donn√©es. La strat√©gie de test est eÔ¨Äectu√©e comme
suit<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-63002x1">on calcule tout d&#x2019;abord diÔ¨Ä√©rents scores statistiques parmi les suivants<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize1">
         <li class="itemize">score de compression, un score par sous-ensemble de donn√©es<span class="frenchb-thinspace">&nbsp;</span>;
                                                                                                  

                                                                                                  
         </li>
         <li class="itemize">score <span 
class="ec-lmri-10x-x-109">Over/Under Runs</span>, deux scores par sous-ensemble<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">score excursion, un score par sous-ensemble<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">score <span 
class="ec-lmri-10x-x-109">Runs </span>directionnel, trois scores par sous-ensemble<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">score de covariance, un score par sous-ensemble<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">score de collision, trois scores par sous-ensemble.<br 
class="newline" /></li></ul>
      </li>
      <li 
  class="enumerate" id="x6-63004x2">pour chaque calcul de score<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-63006x1">on stocke pour chaque type de score les r√©sultats dans un vecteur de <span 
class="lmmi-10x-x-109">J </span>scores<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-63008x2">on r√©p√®te les √©tapes suivantes 1000 fois<span class="frenchb-nbsp">&nbsp;</span>:
             <ol  class="enumerate3" >
             <li 
  class="enumerate" id="x6-63010x1">on permute les sous-ensembles pr√©c√©dents en utilisant un g√©n√©rateur pseudo-al√©atoire, suivant
             l&#x2019;algorithme de permutation <span 
class="ec-lmri-10x-x-109">Fisher‚ÄìYates shuÔ¨Ñe</span><span class="frenchb-thinspace">&nbsp;</span>;
             </li>
             <li 
  class="enumerate" id="x6-63012x2">on calcule les nouveaux scores suivant cette nouvelle organisation de sous-ensembles<span class="frenchb-thinspace">&nbsp;</span>;
             </li>
             <li 
  class="enumerate" id="x6-63014x3">on r√©cup√®re ce vecteur de <span 
class="lmmi-10x-x-109">J </span>scores.<br 
class="newline" /></li></ol>
         </li>
         <li 
  class="enumerate" id="x6-63016x3">on classiÔ¨Åe les scores de 2a) en le comparant avec tous les scores li√©s permut√©s. Par exemple, si le score
         des donn√©es originelles est plus grand que tous ceux des permutations, alors ce premier a le score de 1000,
         et les r√©pertoires permut√©s on un score inf√©rieur √† 1000. Il est possible que les donn√©es
         permut√©es aient le m√™me score. Lorsque le score originel est le m√™me que certains de scores des
         donn√©es permut√©es, on consid√®re le score en r√©cup√©rant celui le plus proche de la m√©diane.
         <br 
class="newline" />
         <!--l. 608--><p class="noindent" >Plus g√©n√©ralement, √©tant donn√©<span class="frenchb-nbsp">&nbsp;</span>: </p>
             <ul class="itemize1">
             <li class="itemize">un score <span 
class="lmmi-10x-x-109">S</span><span class="frenchb-thinspace">&nbsp;</span>;
             </li>
             <li class="itemize">une liste de scores des donn√©es permut√©es <span 
class="lmmi-10x-x-109">L</span>.<br 
class="newline" /></li></ul>
         <!--l. 613--><p class="noindent" >On d√©termine le <span 
class="ec-lmbx-10x-x-109">rang de </span><span 
class="lmmi-10x-x-109">S </span>tel que<span class="frenchb-nbsp">&nbsp;</span>:
         </p><!--l. 615--><p class="noindent" >
                                                                                                  

                                                                                                  
         </p>
         <center class="math-display" >
         <img 
src="audit/rapport_Audit16x.png" alt="           (|  max (j) tel que L [j] ‚â§ S,  si         L [500] &#x003E; S  (1)
           |||{
Rang (S) =    500             si         L[500] = S (2)
           |||  min(j)  tel que L [j] ‚â• S,  si         L [500] &#x003C; S  (3)
           |(  " class="math-display"  /></center>
         <br 
class="newline" />
             <ol  class="enumerate3" >
             <li 
  class="enumerate" id="x6-63018x1">exemple cas (1)<span class="frenchb-nbsp">&nbsp;</span>:
                <ul class="itemize1">
                <li class="itemize">soit <span 
class="lmmi-10x-x-109">S </span><span 
class="rm-lmr-10x-x-109">= 20 </span>et <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[500] = 22</span>. On est dans le cas (1). On va chercher le <span 
class="lmmi-10x-x-109">max</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">) </span>tel que
                <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">] </span><span 
class="msam-10x-x-109">‚â§ </span><span 
class="lmmi-10x-x-109">S</span><span class="frenchb-thinspace">&nbsp;</span>;
                </li>
                <li class="itemize">on a <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[299] = 19</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[300] = 20</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[301] = 20</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[302] = 22</span><span class="frenchb-thinspace">&nbsp;</span>;
                </li>
                <li class="itemize">on retourne au score <span 
class="rm-lmr-10x-x-109">301</span>, ainsi <span 
class="lmmi-10x-x-109">Rang</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">S</span><span 
class="rm-lmr-10x-x-109">) = 301</span>.<br 
class="newline" /></li></ul>
             </li>
             <li 
  class="enumerate" id="x6-63020x2">exemple cas (3)<span class="frenchb-nbsp">&nbsp;</span>:
                <ol  class="enumerate4" >
                <li 
  class="enumerate" id="x6-63022x1">soit <span 
class="lmmi-10x-x-109">S </span><span 
class="rm-lmr-10x-x-109">= 20 </span>et <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[500] = 18</span>. On est dans le cas (3). On va chercher le <span 
class="lmmi-10x-x-109">max</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">) </span>tel que
                <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">] </span><span 
class="msam-10x-x-109">‚â• </span><span 
class="lmmi-10x-x-109">S</span><span class="frenchb-thinspace">&nbsp;</span>;
                </li>
                <li 
  class="enumerate" id="x6-63024x2">on a <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[599] = 19</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[600] = 20</span>, <span 
class="lmmi-10x-x-109">L</span><span 
class="rm-lmr-10x-x-109">[601] = 20</span><span class="frenchb-thinspace">&nbsp;</span>;
                </li>
                <li 
  class="enumerate" id="x6-63026x3">on retourne au score <span 
class="rm-lmr-10x-x-109">600</span>, ainsi <span 
class="lmmi-10x-x-109">Rang</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">S</span><span 
class="rm-lmr-10x-x-109">) = 600</span>.<br 
class="newline" /></li></ol>
             </li></ol>
         </li></ol>
      </li>
      <li 
  class="enumerate" id="x6-63028x3">Le rang alors obtenu est consid√©r√© comme une <span 
class="ec-lmri-10x-x-109">p-value </span>pour un test bilat√©ral. Pour rappel, une <span 
class="ec-lmri-10x-x-109">p-value </span>est la
      probabilit√© d&#x2019;obtenir la m√™me valeur de test si l&#x2019;hypoth√®se nulle est vraie. Ainsi, on compte pour chacun des
      six tests un ensemble de <span 
class="rm-lmr-10x-x-109">10 </span><span 
class="lmsy-10x-x-109">‚àó </span><span 
class="lmmi-10x-x-109">J </span><span 
class="ec-lmri-10x-x-109">p-values</span>.<br 
class="newline" />
      </li>
      <li 
  class="enumerate" id="x6-63030x4">on g√®re enÔ¨Ån les <span 
class="ec-lmri-10x-x-109">p-values </span>de la fa√ßon suivante<span class="frenchb-nbsp">&nbsp;</span>:
                                                                                                  

                                                                                                  
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-63032x1">Ttous les rangs compris entre 50 et 950 sont relev√©s. Ces √©v√©nements ont une probabilit√© d&#x2019;arriver
         de 10% au total<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-63034x2">si le nombre de rangs relev√©s est sup√©rieur ou √©gal √† 8, on consid√®re le test comme √©chou√©.<br 
class="newline" />
             <ol  class="enumerate3" >
             <li 
  class="enumerate" id="x6-63036x1">si le test est eÔ¨Äectu√© sur la source du bruit, alors celle-ci n&#x2019;est pas consid√©r√©e comme IID<span class="frenchb-thinspace">&nbsp;</span>;
             </li>
             <li 
  class="enumerate" id="x6-63038x2">si le test est eÔ¨Äectu√© sur le conditionnement, alors la source d&#x2019;entropie n&#x2019;est pas valid√©e.<br 
class="newline" /></li></ol>
         </li></ol>
      </li></ol>
   <hr class="figure" /><div class="figure" 
>
                                                                                                  

                                                                                                  
<a 
 id="x6-63039r2"></a>
                                                                                                  

                                                                                                  
<div class="center" 
>
<!--l. 658--><p class="noindent" >
</p><!--l. 692--><p class="noindent" >                                                                       </p><!--l. 675--><p class="noindent" ><span 
class="ec-lmbx-10x-x-109">Test </span><span 
class="lmmi-10x-x-109">t</span>Donn√©es (taille <span 
class="lmmi-10x-x-109">n</span>)<img 
src="audit/rapport_Audit17x.png" alt="n-
10"  class="frac" align="middle" /><span 
class="lmmi-10x-x-109">...</span><img 
src="audit/rapport_Audit18x.png" alt="n-
10"  class="frac" align="middle" /><span 
class="lmmi-10x-x-109">permutation</span><span 
class="lmmi-10x-x-109">score</span><sub><span 
class="lmmi-8">t</span> </sub><sup><span 
class="lmmi-8">ini</span> </sup><span 
class="lmmi-10x-x-109">score</span><sub><span 
class="lmmi-8">t</span> </sub> <span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">]</span><span 
class="lmmi-10x-x-109">j &#x003C; </span><span 
class="rm-lmr-10x-x-109">1000</span><span 
class="lmmi-10x-x-109">rangs</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">j</span><span 
class="rm-lmr-10x-x-109">]</span><span 
class="lmmi-10x-x-109">Out &#x003E; </span><span 
class="rm-lmr-10x-x-109">8</span>Test √©chou√©Test r√©ussi<span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">+ +</span>vraifauxfauxvrai
</p></div>
<br /> <div class="caption" 
><span class="id"><span 
class="ec-lmcsc-10x-x-109">Figure</span>¬†1.2: </span><span  
class="content">Structure de validation de donn√©es <span 
class="lmmi-10x-x-109">d </span>par un test <span 
class="lmmi-10x-x-109">t</span>. <span 
class="lmmi-10x-x-109">Out </span>vaut &#x0022;<span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Rangs </span><span 
class="lmsy-10x-x-109">‚â§ </span><span 
class="rm-lmr-10x-x-109">50 </span>&#x0026;&#x0026; <span 
class="lmmi-10x-x-109">Rangs </span><span 
class="lmsy-10x-x-109">‚â• </span><span 
class="rm-lmr-10x-x-109">950</span><span 
class="lmsy-10x-x-109">|</span>&#x0022;
</span></div><!--tex4ht:label?: x6-63039r2 -->
                                                                                                  

                                                                                                  
   </div><hr class="endfigure" />
<a 
 id="x6-63040r26"></a>
<a 
href="#x6-640001" id="x6-640001">Score de compression</a>
<!--l. 712--><p class="indent" >   Les algorithmes de compression sont habituellement bien adapt√©s pour supprimer les donn√©es redondantes des
cha√Ænes de caract√®res. Suivant un algorithme de compression choisi, le score de compression est la longueur de la
donn√©e compress√©e obtenue.
</p>
<!--l. 714--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-73" id="x6-650001"><span 
class="ec-lmbx-10x-x-109">Calcul du score.</span><br 
class="newline" /></a></span>
   Le score est calcul√© de la fa√ßon suivante<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-65002x1">les sous-ensembles de donn√©es sont encod√©s en cha√Ænes de caract√®res s√©par√©es par une virgule<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-65004x2">la cha√Æne de caract√®res est compress√©e suivant l&#x2019;algorithme de compression de bzip2 <span class="footnote-mark"><a 
href="rapport_Audit8.html#fn2x2"><sup class="textsuperscript">2</sup></a></span><a 
 id="x6-65005f2"></a> <span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-65007x3">le score retourn√© correspond √† la longueur de la cha√Æne de caract√®res compress√©e.<br 
class="newline" /></li></ol>
   <hr class="figure" /><div class="figure" 
>
                                                                                                  

                                                                                                  
<a 
 id="x6-65008r3"></a>
                                                                                                  

                                                                                                  
<div class="center" 
>
<!--l. 723--><p class="noindent" >
</p><!--l. 738--><p class="noindent" >                                                                         </p><!--l. 732--><p class="noindent" ><span 
class="ec-lmbx-10x-x-109">Score de compression</span>Source d&#x2019;entropieConvertisseurBZ2Score144 21 139 0 0 15&#x0022;144,21,139,0,0,15&#x0022;21
</p></div>
<br /> <div class="caption" 
><span class="id"><span 
class="ec-lmcsc-10x-x-109">Figure</span>¬†1.3: </span><span  
class="content">Calcul du score de compression</span></div><!--tex4ht:label?: x6-65008r3 -->
                                                                                                  

                                                                                                  
   </div><hr class="endfigure" />
<a 
 id="x6-65009r72"></a>
<a 
href="#x6-660002" id="x6-660002">Scores <span 
class="ec-lmri-10x-x-109">Over/Under Runs </span>(2)</a>
<!--l. 744--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-76" id="x6-670002"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">√©Ô¨Ånition.</span><br 
class="newline" /></a></span>
   On d√©Ô¨Ånit le <span 
class="ec-lmbxi-10x-x-109">run test </span>comme la s√©rie des valeurs montantes ou la s√©rie des valeurs d√©croissantes. Le
terme de <span 
class="ec-lmtt-10x-x-109">run </span>peut √™tre expliqu√© comme la successions d&#x2019;√©l√©ments de la m√™me classe. Le nombre
d&#x2019;augmentations ou de r√©ductions d√©Ô¨Ånit la longueur du test. Dans un jeu de donn√©es al√©atoires, la
probabilit√© que la <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">+ 1)</span>√®me valeur soit plus grande ou plus petite que la <span 
class="lmmi-10x-x-109">i</span>√®me valeur doit suivre la loi
binomiale.<br 
class="newline" />
</p><!--l. 747--><p class="indent" >   Le <span 
class="ec-lmri-10x-x-109">run test </span>est d√©Ô¨Åni tel que<span class="frenchb-nbsp">&nbsp;</span>: </p>
      <ul class="itemize1">
      <li class="itemize"><span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub><span class="frenchb-nbsp">&nbsp;</span>: la s√©quence a √©t√© produite de mani√®re al√©atoire<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">1</span></sub><span class="frenchb-nbsp">&nbsp;</span>: la s√©quence n&#x2019;a pas √©t√© produite de mani√®re al√©atoire<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">Test statistique<span class="frenchb-nbsp">&nbsp;</span>:
      <center class="math-display" >
      <img 
src="audit/rapport_Audit19x.png" alt="        --
Z = R-‚àí-R-
      sR  " class="math-display"  /></center>
      o√π<span class="frenchb-nbsp">&nbsp;</span>:
         <ul class="itemize2">
         <li class="itemize"><span 
class="lmmi-10x-x-109">R</span><span class="frenchb-nbsp">&nbsp;</span>: le nombre de <span 
class="ec-lmri-10x-x-109">runs </span>observ√©s<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize"><span class="overline"><span 
class="lmmi-10x-x-109">R</span></span>, la moyenne (le nombre de runs attendus) telle que<span class="frenchb-nbsp">&nbsp;</span>:
         <center class="math-display" >
         <img 
src="audit/rapport_Audit20x.png" alt="R- = 2N+N--‚àí-+ 1
        N
         " class="math-display"  /></center><span class="frenchb-thinspace">&nbsp;</span>;
                                                                                                  

                                                                                                  
         </li>
         <li class="itemize"><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">R</span></sub> la variance (d√©viation standard) calcul√©e telle que<span class="frenchb-nbsp">&nbsp;</span>:
         <center class="math-display" >
         <img 
src="audit/rapport_Audit21x.png" alt="                             --     --
 2   2N+N--‚àí (2N+N-‚àí-‚àí-N-)   (R-‚àí--1)(R-‚àí-2)-
sR =      N 2(N ‚àí 1)      =      N ‚àí 1
         " class="math-display"  /></center><span class="frenchb-thinspace">&nbsp;</span>;</li></ul>
      </li>
      <li class="itemize">niveau signiÔ¨Åcatif<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmmi-10x-x-109">Œ±</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">zone critique<span class="frenchb-nbsp">&nbsp;</span>: Le <span 
class="ec-lmri-10x-x-109">run test </span>rejette l&#x2019;hypoth√®se nulle <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub> si <span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Z</span><span 
class="lmsy-10x-x-109">| </span><span 
class="lmmi-10x-x-109">&#x003E; Z</span><sub><span 
class="rm-lmr-8">1</span><span 
class="lmsy8-">‚àí</span><span 
class="lmmi-8">Œ±‚àï</span><span 
class="rm-lmr-8">2</span></sub><span class="frenchb-thinspace">&nbsp;</span>;
      </li></ul>
<!--l. 767--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-77" id="x6-680002"><span 
class="ec-lmbx-10x-x-109">Exemple de Run test.</span><br 
class="newline" /></a></span>
   Soit la suite binaire <span 
class="lmmi-10x-x-109">X </span><span 
class="rm-lmr-10x-x-109">= (</span><span 
class="lmmi-10x-x-109">x</span><sub><span 
class="rm-lmr-8">1</span></sub><span 
class="lmmi-10x-x-109">,x</span><sub><span 
class="rm-lmr-8">2</span></sub><span 
class="lmmi-10x-x-109">,...,x</span><sub><span 
class="lmmi-8">n</span></sub><span 
class="rm-lmr-10x-x-109">) </span>sortie d&#x2019;un g√©n√©rateur al√©atoire. Pour tous les <span 
class="lmmi-10x-x-109">i </span>allant de <span 
class="rm-lmr-10x-x-109">1 </span>√† <span 
class="lmmi-10x-x-109">n</span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">1</span>. On
stocke dans un vecteur de taille <span 
class="lmmi-10x-x-109">n </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">1 </span>le signe de <span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+1</span></sub> <span 
class="lmsy-10x-x-109">‚àí </span><span 
class="lmmi-10x-x-109">x</span><sub><span 
class="lmmi-8">i</span></sub>. Le nombre de <span 
class="ec-lmri-10x-x-109">runs </span>correspond au nombre de
changements de signe.
</p><!--l. 770--><p class="indent" >   Si <span 
class="lmmi-10x-x-109">X </span><span 
class="rm-lmr-10x-x-109">= 111001111000110</span>, alors son vecteur associ√© sera <span 
class="rm-lmr-10x-x-109">(+ + </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">+ + + + + </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">+ + + +</span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">)</span>, soit 6 <span 
class="ec-lmri-10x-x-109">runs</span>. Dans le cas
des suites binaires, il s&#x2019;agit simplement de compter le nombre de changements d&#x2019;√©l√©ments (ou classes), l&#x2019;ensemble de
donn√©es √©tant <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmsy-10x-x-109">}</span>. Si l&#x2019;√©l√©ment <span 
class="lmmi-10x-x-109">i </span>est √©quivalent au pr√©c√©dent, alors on passe au suivant, sinon on incr√©mente de
un le nombre de <span 
class="ec-lmri-10x-x-109">runs</span>.<br 
class="newline" />
</p><!--l. 772--><p class="indent" >   Ici on a donc<span class="frenchb-nbsp">&nbsp;</span>: </p>
      <ul class="itemize1">
      <li class="itemize"><span 
class="lmmi-10x-x-109">R </span><span 
class="rm-lmr-10x-x-109">= 6</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span class="overline"><span 
class="lmmi-10x-x-109">R</span></span> <span 
class="rm-lmr-10x-x-109">=</span> <img 
src="audit/rapport_Audit22x.png" alt="2‚àó135‚àó3-"  class="frac" align="middle" /> <span 
class="rm-lmr-10x-x-109">+ 1 = 2</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">2</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">R</span></sub><sup><span 
class="rm-lmr-8">2</span></sup> <span 
class="rm-lmr-10x-x-109">=</span> <img 
src="audit/rapport_Audit23x.png" alt="1.2‚àó0.2
 14"  class="frac" align="middle" /> <span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">017142857</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">d&#x2019;o√π <span 
class="lmmi-10x-x-109">Z </span><span 
class="rm-lmr-10x-x-109">=</span> <img 
src="audit/rapport_Audit24x.png" alt="0,163‚àí0923.20734"  class="frac" align="middle" /> <span 
class="rm-lmr-10x-x-109">= 29</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">0229794</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">on choisit un niveau <span 
class="lmmi-10x-x-109">Œ± </span><span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">05</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">on cherche <span 
class="lmmi-10x-x-109">Z</span><sub><span 
class="rm-lmr-8">1</span><span 
class="lmsy8-">‚àí</span><span 
class="lmmi-8">Œ±‚àï</span><span 
class="rm-lmr-8">2</span></sub>. <img 
src="audit/rapport_Audit25x.png" alt="1‚àí2Œ±-"  class="frac" align="middle" /> <span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">475 </span>soit suivant la courbe normale une valeur de <span 
class="lmmi-10x-x-109">Z</span><sub><span 
class="rm-lmr-8">1</span><span 
class="lmsy8-">‚àí</span><span 
class="lmmi-8">Œ±‚àï</span><span 
class="rm-lmr-8">2</span></sub> <span 
class="rm-lmr-10x-x-109">= 1</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">96</span>. Ceci
      correspond √† la valeur critique. La zone de rejet de <span 
class="lmmi-10x-x-109">H</span><sub><span 
class="rm-lmr-8">0</span></sub> est telle que <span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Z</span><span 
class="lmsy-10x-x-109">| </span><span 
class="lmmi-10x-x-109">&#x003E; </span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">96</span><span class="frenchb-thinspace">&nbsp;</span>;
                                                                                                  

                                                                                                  
      </li>
      <li class="itemize">√©tant donn√© que <span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Z</span><span 
class="lmsy-10x-x-109">| </span><span 
class="lmmi-10x-x-109">&#x003E; </span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">96</span>, on en conclut que les donn√©es ne sont pas r√©parties al√©atoirement au
      risque de 5%.<br 
class="newline" />
      </li></ul>
<!--l. 785--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-78" id="x6-690002"><span 
class="ec-lmbx-10x-x-109">Calcul des scores </span><span 
class="ec-lmbxi-10x-x-109">Over/Under Runs</span><span 
class="ec-lmbx-10x-x-109">.</span><br 
class="newline" /></a></span>
   Pour chaque sous-ensemble, on calcule la m√©diane des donn√©es. On identiÔ¨Åe ensuite les donn√©es en trois
sous-ensembles<span class="frenchb-nbsp">&nbsp;</span>: </p>
      <ul class="itemize1">
      <li class="itemize">soit elles sont √©gales √† la m√©diane<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">soit elles sont inf√©rieures √† la m√©diane<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">soit elles sont sup√©rieures √† la m√©diane.<br 
class="newline" /></li></ul>
<!--l. 792--><p class="noindent" >Les sous ensembles inf√©rieurs et sup√©rieurs √† la m√©diane sont susceptibles d&#x2019;avoir un <span 
class="ec-lmri-10x-x-109">run score </span>relativement faible, si
les donn√©es sont suÔ¨Ésamment bien IID.<br 
class="newline" />
</p><!--l. 795--><p class="indent" >   Les deux scores de <span 
class="ec-lmri-10x-x-109">over/under runs </span>sont calcul√©s comme suit<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-69002x1">on r√©cup√®re la m√©diane de notre sous ensemble de donn√©es. Pour des donn√©es binaires, la m√©diane
      sera de 0,5
      </li>
      <li 
  class="enumerate" id="x6-69004x2">pour chaque sous ensemble original et chaque sous ensemble permut√©, un sous ensemble temporaire est
      construit comme suit. Pour chaque √©l√©ment<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-69006x1">si l&#x2019;√©l√©ment est plus grand que la m√©diane, on ajoute <span 
class="ec-lmtt-10x-x-109">+1 </span>au vecteur temporaire<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-69008x2">si l&#x2019;√©l√©ment est plus petit que la m√©diane, on ajoute <span 
class="ec-lmtt-10x-x-109">-1 </span>au vecteur temporaire<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-69010x3">si l&#x2019;√©l√©ment est √©gal √† la m√©diane, on passe √† l&#x2019;√©l√©ment suivant.<br 
class="newline" /></li></ol>
      </li>
      <li 
  class="enumerate" id="x6-69012x3">la plus grande taille du <span 
class="ec-lmri-10x-x-109">run </span>sur les <span 
class="ec-lmtt-10x-x-109">+1 </span>ou les <span 
class="ec-lmtt-10x-x-109">-1 </span>est consid√©r√©e comme le premier score<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-69014x4">la taille du <span 
class="ec-lmri-10x-x-109">run </span>sur les <span 
class="ec-lmtt-10x-x-109">+1 </span>et les <span 
class="ec-lmtt-10x-x-109">-1 </span>est consid√©r√©e comme le second score.<br 
class="newline" /></li></ol>
                                                                                                  

                                                                                                  
<!--l. 808--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-79" id="x6-700002"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   Consid√©rant l&#x2019;ensemble de taille 7 ayant les donn√©es suivantes<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">5</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">15</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">12</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">13</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">9</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">4</span><span 
class="lmsy-10x-x-109">}</span>.
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-70002x1">on r√©cup√®re la m√©diane<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">9</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-70004x2">cr√©ation du vecteur temporaire<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">5 </span><span 
class="lmmi-10x-x-109">&#x003C; </span><span 
class="rm-lmr-10x-x-109">9 </span><span 
class="lmsy-10x-x-109">‚áí‚àí</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">...</span>. Vecteur Ô¨Ånal<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{‚àí</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmsy-10x-x-109">}</span>. On note que
      pour ce vecteur la valeur 9 a √©t√© omise<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-70006x3">le <span 
class="ec-lmri-10x-x-109">run </span>le plus long pour le <span 
class="ec-lmtt-10x-x-109">+1 </span>et le <span 
class="ec-lmtt-10x-x-109">-1 </span>est de taille 2, (score 1)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-70008x4">le <span 
class="ec-lmri-10x-x-109">run </span>global est de taille 5, (score 2).<br 
class="newline" /></li></ol>
<!--l. 817--><p class="indent" >
<a 
 id="x6-70009r75"></a>
</p>
<a 
href="#x6-710003" id="x6-710003">Score excursion</a>Le score d&#x2019;excursion mesure la d√©viation en chaque point d&#x2019;une somme d&#x2019;√©l√©ments suivant leur
moyenne.
<!--l. 820--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-81" id="x6-720003"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">√©Ô¨Ånition.</span><br 
class="newline" /></a></span>
   √âtant donn√© les √©l√©ments <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="rm-lmr-8">0</span></sub><span 
class="lmmi-10x-x-109">,s</span><sub><span 
class="rm-lmr-8">1</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">)</span>, et leur moyenne <span 
class="lmmi-10x-x-109">Œº</span><sub><span 
class="lmmi-8">i</span></sub>, <span 
class="ec-lmbx-10x-x-109">l&#x2019;excursion </span><span 
class="lmmi-10x-x-109">Esc</span><sub><span 
class="lmmi-8">i</span></sub> est d√©Ô¨Ånie telle
que<span class="frenchb-nbsp">&nbsp;</span>:
</p>
   <center class="math-display" >
<img 
src="audit/rapport_Audit26x.png" alt="Esci = s0 + s1 + ...+ si ‚àí i‚àóŒº  " class="math-display"  /></center> Le
score retourn√© est l&#x2019;excursion maximale en valeur absolue du sous ensemble de donn√©es. <br 
class="newline" />
<!--l. 825--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-82" id="x6-730003"><span 
class="ec-lmbx-10x-x-109">Calcul du score.</span><br 
class="newline" /></a></span>
   Le score est ainsi calcul√© comme suit. <span 
class="lmmi-10x-x-109">Œº </span>est d√©Ô¨Åni comme la moyenne des valeurs d&#x2019;un ensemble
donn√©.
                                                                                                  

                                                                                                  
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-73002x1">pour <span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 1 </span>√† <span 
class="lmsy-10x-x-109">‚åä</span><img 
src="audit/rapport_Audit27x.png" alt="N10"  class="frac" align="middle" /><span 
class="lmsy-10x-x-109">‚åã </span>(taille des donn√©es du sous ensemble), on calcule <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="lmmi-8">j</span></sub> <span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">|</span><span 
class="lmmi-10x-x-109">Esc</span><sub><span 
class="lmmi-8">j</span></sub><span 
class="lmsy-10x-x-109">| </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">|</span><span 
class="lmex-10">‚àë</span>
  <sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">=0</span></sub><sup><span 
class="lmmi-8">j</span></sup><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmsy-10x-x-109">|</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-73004x2">Score <span 
class="rm-lmr-10x-x-109">=</span> <span 
class="rm-lmr-10x-x-109">Max</span> <sub><span 
class="lmmi-8">j</span><span 
class="rm-lmr-8">=0</span><span 
class="lmmi-8">,j&#x003C;</span><span 
class="rm-lmr-8">=</span><span 
class="lmsy8-">‚åä</span><img 
src="audit/rapport_Audit28x.png" alt="N10"  class="frac" align="middle" /><span 
class="lmsy8-">‚åã</span></sub><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">d</span><sub><span 
class="lmmi-8">j</span></sub><span 
class="rm-lmr-10x-x-109">)</span>.<br 
class="newline" /></li></ol>
<!--l. 832--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-83" id="x6-740003"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   √âtant donn√© le sous-ensemble suivant<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">15</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">4</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">10</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">9</span><span 
class="lmsy-10x-x-109">}</span>.
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-74002x1">calcule de <span 
class="lmmi-10x-x-109">Œº</span>, ici <span 
class="lmmi-10x-x-109">Œº </span><span 
class="rm-lmr-10x-x-109">= 8</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-74004x2">calcul des <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="lmmi-8">j</span></sub><span class="frenchb-nbsp">&nbsp;</span>:<br 
class="newline" /><span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">1</span></sub> <span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">|</span><span 
class="rm-lmr-10x-x-109">2 </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">8</span><span 
class="lmsy-10x-x-109">| </span><span 
class="rm-lmr-10x-x-109">= 6</span>, <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">2</span></sub> <span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">|</span><span 
class="rm-lmr-10x-x-109">2 + 15 </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">2 </span><span 
class="lmsy-10x-x-109">‚àó </span><span 
class="rm-lmr-10x-x-109">8</span><span 
class="lmsy-10x-x-109">|</span>, <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">3</span></sub> <span 
class="rm-lmr-10x-x-109">= 3</span>, <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">4</span></sub> <span 
class="rm-lmr-10x-x-109">= 1</span>, <span 
class="lmmi-10x-x-109">d</span><sub><span 
class="rm-lmr-8">5</span></sub> <span 
class="rm-lmr-10x-x-109">= 0</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-74006x3">Le score est donc de <span 
class="rm-lmr-10x-x-109">6</span>.<br 
class="newline" /></li></ol>
<!--l. 841--><p class="indent" >
<a 
 id="x6-74007r80"></a>
</p>
<a 
href="#x6-750004" id="x6-750004">Scores Runs directionnels (3)</a>Le principe du run test reste le m√™me que celui √©voqu√© pr√©c√©demment √† l&#x2019;exception
suivante pr√®s<span class="frenchb-nbsp">&nbsp;</span>: lorsqu&#x2019;il y a √©galit√© entre deux √©l√©ments cons√©cutifs, on le r√©f√©rence comme √©tant &#x2019;0&#x2019; dans le vecteur
temporaire plut√¥t que de passer directement √† l&#x2019;√©l√©ment suivant.
<!--l. 844--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-85" id="x6-760004"><span 
class="ec-lmbx-10x-x-109">Calcul des scores pour des donn</span><span 
class="ec-lmbx-10x-x-109">√©es quelconques.</span><br 
class="newline" /></a></span>
   Le score est calcul√© de la fa√ßon suivante<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-76002x1">le nombre total de <span 
class="ec-lmri-10x-x-109">runs </span>(sans consid√©rer le 0 comme un changement de &#x0022;signe&#x0022;) (score 1)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-76004x2">la longueur du plus long <span 
class="ec-lmri-10x-x-109">run </span>(les &#x2019;0&#x2019; sont √©galement ignor√©s) (score 2)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-76006x3">le maximum entre le nombre de donn√©es <span 
class="ec-lmtt-10x-x-109">+1 </span>et le nombre de donn√©es <span 
class="ec-lmtt-10x-x-109">-1 </span>(score 3).<br 
class="newline" />
      </li></ol>
<!--l. 854--><p class="indent" >   <span 
class="ec-lmbx-10x-x-109">Exemple</span><span class="frenchb-nbsp">&nbsp;</span><span 
class="ec-lmbx-10x-x-109">: </span><br 
class="newline" />√âtant donn√© l&#x2019;ensemble suivant<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">5</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">7</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">7</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">9</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">3</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">4</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">4</span><span 
class="lmsy-10x-x-109">}</span>.
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-76008x1">on calcule son vecteur temporaire li√© <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmsy-10x-x-109">}</span><span class="frenchb-thinspace">&nbsp;</span>;
                                                                                                  

                                                                                                  
      </li>
      <li 
  class="enumerate" id="x6-76010x2">nous comptons 3 s√©ries de run<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">(0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1)</span>, <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">1) </span>et <span 
class="rm-lmr-10x-x-109">(+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0) </span>(score 1)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-76012x3">le run le plus long est de <span 
class="rm-lmr-10x-x-109">4</span><span class="frenchb-nbsp">&nbsp;</span>: <span 
class="rm-lmr-10x-x-109">(+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">+1) </span>(score 2)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-76014x4">on compte 4 <span 
class="ec-lmtt-10x-x-109">+1 </span>et 4 <span 
class="ec-lmtt-10x-x-109">-1</span>, le maximum des deux est donc de 4 (score 3).<br 
class="newline" /></li></ol>
<!--l. 864--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-86" id="x6-770004"><span 
class="ec-lmbx-10x-x-109">Donn</span><span 
class="ec-lmbx-10x-x-109">√©es binaires.</span><br 
class="newline" /></a></span>
   Dans le cadre des donn√©es binaires en sortie de source d&#x2019;entropie, il convient de faire un pr√©-traitement sur les
donn√©es<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-77002x1">on convertit les bits en bytes<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-77004x2">on calcule le poids de hamming pour ces √©l√©ments<span class="frenchb-nbsp">&nbsp;</span>: <br 
class="newline" />Pour  <span 
class="lmmi-10x-x-109">i   </span><span 
class="rm-lmr-10x-x-109">=   0  </span>√†  <img 
src="audit/rapport_Audit29x.png" alt="‚åäN‚åã
-108--"  class="frac" align="middle" />  <span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">1</span>,  on  stocke  dans  <span 
class="lmmi-10x-x-109">W</span><sub><span 
class="lmmi-8">i</span></sub>   son  poids  de  Hamming,  tel  que  <span 
class="lmmi-10x-x-109">W</span><sub><span 
class="lmmi-8">i</span></sub>   <span 
class="rm-lmr-10x-x-109">=</span>
      <span 
class="lmmi-10x-x-109">hamming</span>_<span 
class="lmmi-10x-x-109">weight</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+7</span></sub><span 
class="rm-lmr-10x-x-109">)</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-77006x3">on r√©it√®re l&#x2019;op√©ration des donn√©es quelconques √† partir de ce vecteur <span 
class="lmmi-10x-x-109">W</span><sub><span 
class="lmmi-8">i</span></sub>.<br 
class="newline" /></li></ol>
<!--l. 873--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-87" id="x6-780004"><span 
class="ec-lmbx-10x-x-109">Poids de Hamming.</span><br 
class="newline" /></a></span>
   Le <span 
class="ec-lmbx-10x-x-109">poids de hamming </span>d&#x2019;un sous ensemble <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+</span><span 
class="lmmi-8">n</span></sub><span 
class="rm-lmr-10x-x-109">) </span>, donn√© par <span 
class="lmmi-10x-x-109">hamming</span>_<span 
class="lmmi-10x-x-109">weight</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+</span><span 
class="lmmi-8">n</span></sub><span 
class="rm-lmr-10x-x-109">) </span>est d√©Ô¨Åni
comme le nombre de &#x2019;1&#x2019; de la suite <span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="lmmi-10x-x-109">,...,s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+</span><span 
class="lmmi-8">n</span></sub><span 
class="rm-lmr-10x-x-109">)</span>.
</p><!--l. 878--><p class="indent" >
<a 
 id="x6-78001r84"></a>
</p>
<a 
href="#x6-790005" id="x6-790005">Score de covariance</a>Le score de covariance permet de d√©tecter la relation entre les valeurs num√©riques successives.
En eÔ¨Äet, toute relation lin√©aire entre des paires successives va aÔ¨Äecter directement ce score. On pourra alors
constater une diÔ¨Ä√©rence entre la covariance calcul√©e sur le sous-ensemble de donn√©es originales et la covariance
calcul√©e sur le sous-ensemble de donn√©es permut√©es. La covariance est calcul√©e entre chaque paire cons√©cutive du
sous-ensemble <span 
class="ec-lmtt-10x-x-109">S </span>tel que <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span></sub> est appari√© avec <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">+1</span></sub>.<br 
class="newline" />
<!--l. 881--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-89" id="x6-800005"><span 
class="ec-lmbx-10x-x-109">Calcul du score.</span><br 
class="newline" /></a></span>
   Le score est calcul√© comme suit<span class="frenchb-nbsp">&nbsp;</span>:
                                                                                                  

                                                                                                  
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-80002x1">la variable <span 
class="lmmi-10x-x-109">count </span>est initialis√©e √† &#x2019;0&#x2019;<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-80004x2"><span 
class="lmmi-10x-x-109">Œº</span>, moyenne des donn√©es de <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="rm-lmr-8">0</span></sub> √† <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmsy8-">‚åä</span><img 
src="audit/rapport_Audit30x.png" alt="N10-"  class="frac" align="middle" /><span 
class="lmsy8-">‚åã‚àí</span><span 
class="rm-lmr-8">1</span></sub> est calcul√©e<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-80006x3">pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 1 </span>√† <span 
class="lmsy-10x-x-109">‚åä</span><img 
src="audit/rapport_Audit31x.png" alt="N-
10"  class="frac" align="middle" /><span 
class="lmsy-10x-x-109">‚åã </span>on incr√©mente <span 
class="lmmi-10x-x-109">count </span>tel que<span class="frenchb-nbsp">&nbsp;</span>:
      <center class="math-display" >
      <img 
src="audit/rapport_Audit32x.png" alt="count = count + (si ‚àí Œº)(si‚àí1 ‚àí Œº)
      " class="math-display"  /></center><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-80008x4">on obtient enÔ¨Ån le score<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmmi-10x-x-109">Score </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">‚åä</span><img 
src="audit/rapport_Audit33x.png" alt="-coNunt-
‚åä10‚åã‚àí 1"  class="frac" align="middle" /><span 
class="lmsy-10x-x-109">‚åã</span>.<br 
class="newline" /></li></ol>
<!--l. 891--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-90" id="x6-810005"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   √âtant donn√© le sous-ensemble<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">15</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">6</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">10;12</span><span 
class="lmsy-10x-x-109">} </span>de 5 √©l√©ments<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-81002x1"><span 
class="lmmi-10x-x-109">Œº </span><span 
class="rm-lmr-10x-x-109">= 9</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-81004x2">
         <ul class="itemize1">
         <li class="itemize">Pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 1</span>, <span 
class="lmmi-10x-x-109">count </span><span 
class="rm-lmr-10x-x-109">= 0 + (2 </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">9)(15 </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">9) = </span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">42</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">Pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 2</span>, <span 
class="lmmi-10x-x-109">count </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">42 + (6 </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">9)(2 </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="rm-lmr-10x-x-109">9) = </span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">21</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">Pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 3</span>, <span 
class="lmmi-10x-x-109">count </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">24</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li class="itemize">Pour <span 
class="lmmi-10x-x-109">i </span><span 
class="rm-lmr-10x-x-109">= 4</span>, <span 
class="lmmi-10x-x-109">count </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">21</span>.<br 
class="newline" /></li></ul>
      </li>
      <li 
  class="enumerate" id="x6-81006x3"><span 
class="lmmi-10x-x-109">Score </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">‚åä</span><img 
src="audit/rapport_Audit34x.png" alt="‚àí21
 4"  class="frac" align="middle" /><span 
class="lmsy-10x-x-109">‚åã </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">5</span>.<br 
class="newline" /></li></ol>
<!--l. 904--><p class="indent" >
<a 
 id="x6-81007r88"></a>
                                                                                                  

                                                                                                  
</p>
<a 
href="#x6-820006" id="x6-820006">Score de collision (3)</a>Une fa√ßon naturelle de tester l&#x2019;entropie d&#x2019;un g√©n√©rateur est de mesurer le nombre d&#x2019;essais
n√©cessaires pour obtenir une valeur identique √† la premi√®re, en d&#x2019;autres termes, le nombre d&#x2019;essais n√©cessaires pour
obtenir une collision. Ainsi, notre score de collision va mesurer le nombre d&#x2019;essais successifs jusqu&#x2019;√† ce qu&#x2019;un
√©l√©ment identique soit trouv√©.<br 
class="newline" />
     Dans le cas des donn√©es binaires, un sous-ensemble de donn√©es binaires est converti en s√©quence de 8 bits
avant d&#x2019;√™tre test√©. <br 
class="newline" />
<!--l. 910--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-92" id="x6-830006"><span 
class="ec-lmbx-10x-x-109">Calcul des scores.</span><br 
class="newline" /></a></span>
   Les trois scores de collisions sont calcul√©s comme suit<span class="frenchb-nbsp">&nbsp;</span>:
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-83002x1"><span 
class="lmmi-10x-x-109">Counts </span>est  une  liste  d&#x2019;√©chantillons  n√©cessaires  pour  trouver  une  collision.  La  liste  est  vide  √†
      l&#x2019;initialisation<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-83004x2"><span 
class="lmmi-10x-x-109">pos </span><span 
class="rm-lmr-10x-x-109">= 0</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-83006x3">tant que <span 
class="lmmi-10x-x-109">pos &#x003C; </span><span 
class="lmsy-10x-x-109">‚åä</span><img 
src="audit/rapport_Audit35x.png" alt="N-
10"  class="frac" align="middle" /><span 
class="lmsy-10x-x-109">‚åã</span><span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-83008x1">trouver le plus petit <span 
class="lmmi-10x-x-109">j </span>tel que <span 
class="lmmi-10x-x-109">s</span><sub><span 
class="lmmi-8">pos</span></sub><span 
class="lmmi-10x-x-109">...s</span><sub><span 
class="lmmi-8">pos</span><span 
class="rm-lmr-8">+</span><span 
class="lmmi-8">j</span></sub><span class="frenchb-nbsp">&nbsp;</span>:
             <ol  class="enumerate3" >
             <li 
  class="enumerate" id="x6-83010x1">si aucun <span 
class="lmmi-10x-x-109">j </span>de ce type n&#x2019;existe, on sort de la boucle tant que<span class="frenchb-thinspace">&nbsp;</span>;</li></ol>
         </li>
         <li 
  class="enumerate" id="x6-83012x2">ajouter <span 
class="lmmi-10x-x-109">j </span>√† la liste <span 
class="lmmi-10x-x-109">Counts</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-83014x3"><span 
class="lmmi-10x-x-109">pos </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmmi-10x-x-109">pos </span><span 
class="rm-lmr-10x-x-109">+ </span><span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">+ 1</span><span class="frenchb-thinspace">&nbsp;</span>;</li></ol>
      </li>
      <li 
  class="enumerate" id="x6-83016x4">on retourne les scores suivants<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-83018x1">la valeur minimale de la liste <span 
class="lmmi-10x-x-109">Counts </span>(score 1)<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-83020x2">la moyenne de la liste <span 
class="lmmi-10x-x-109">Counts </span>(score 2)<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-83022x3">la valeur maximale de la liste <span 
class="lmmi-10x-x-109">Counts </span>(score 3).<br 
class="newline" /></li></ol>
      </li></ol>
                                                                                                  

                                                                                                  
<!--l. 932--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-93" id="x6-840006"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   Consid√©rant les donn√©es<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmsy-10x-x-109">} </span>de taille <span 
class="rm-lmr-10x-x-109">10</span>.
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-84002x1">on ex√©cute le contenu de la boucle tant que<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-84004x1">consid√©rant <span 
class="rm-lmr-10x-x-109">2 </span>comme la <span 
class="rm-lmr-10x-x-109">0</span>e valeur, la premi√®re collision appara√Æt √† <span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 2</span>, pour la valeur <span 
class="ec-lmtt-10x-x-109">1</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-84006x2">on passe √† une analyse sur le reste de l&#x2019;ensemble initial non analys√©<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmsy-10x-x-109">}</span>. La premi√®re
         collision de ce sous-ensemble appara√Æt en <span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 3</span>, pour la valeur <span 
class="ec-lmtt-10x-x-109">0</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-84008x3">on travaille √† pr√©sent sur l&#x2019;ensemble <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmsy-10x-x-109">}</span>. La premi√®re collision appara√Æt en <span 
class="lmmi-10x-x-109">j </span><span 
class="rm-lmr-10x-x-109">= 1</span><span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-84010x4">enÔ¨Ån, on ne trouve aucune collision sur l&#x2019;ensemble <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmsy-10x-x-109">}</span>.<br 
class="newline" /></li></ol>
      </li>
      <li 
  class="enumerate" id="x6-84012x2">on retourne les scores<span class="frenchb-nbsp">&nbsp;</span>:
         <ol  class="enumerate2" >
         <li 
  class="enumerate" id="x6-84014x1"><span 
class="lmmi-10x-x-109">min</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">Counts</span><span 
class="rm-lmr-10x-x-109">) = 1 </span>(score 1)<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-84016x2"><span 
class="lmmi-10x-x-109">Œº</span><sub><span 
class="lmmi-8">Counts</span></sub> <span 
class="rm-lmr-10x-x-109">= 2 </span>(score 2)<span class="frenchb-thinspace">&nbsp;</span>;
         </li>
         <li 
  class="enumerate" id="x6-84018x3"><span 
class="lmmi-10x-x-109">Max</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">Counts</span><span 
class="rm-lmr-10x-x-109">) = 3 </span>(score 3).<br 
class="newline" /></li></ol>
      </li></ol>
<a 
 id="x6-84019r70"></a>
<h5 class="subsubsectionHead"><span class="titlemark">1.5.1.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-94" id="x6-850002">Test statistique sp√©ciÔ¨Åque<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmmi-10x-x-109">œá</span><span 
class="rm-lmr-8">2</span></a></h5>
     D√®s lors que la source d&#x2019;entropie est consid√©r√©e comme IID, alors la distribution de ces valeurs peut √™tre
consid√©r√©e comme une distribution ind√©pendante, une distribution multinomiale.
<!--l. 954--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-95" id="x6-860002"><span 
class="ec-lmbx-10x-x-109">D</span><span 
class="ec-lmbx-10x-x-109">√©Ô¨Ånition.</span><br 
class="newline" /></a></span>
   La <span 
class="ec-lmbx-10x-x-109">loi multinomiale </span>est une g√©n√©ralisation de la loi binomiale. On consid√®re <span 
class="lmmi-10x-x-109">m </span>r√©sultats possibles (2 pour la
loi binomiale). Soit <span 
class="lmmi-10x-x-109">N</span><sub><span 
class="lmmi-8">i</span></sub> pour <span 
class="lmmi-10x-x-109">i </span><span 
class="lmsy-10x-x-109">‚àà{</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,...,m</span><span 
class="lmsy-10x-x-109">} </span>la variable al√©atoire multinomiale ayant une probabilit√© <span 
class="lmmi-10x-x-109">p</span><sub><span 
class="lmmi-8">i</span></sub>, telle que<span class="frenchb-nbsp">&nbsp;</span>:
</p>
<div class="center" 
>
<!--l. 956--><p class="noindent" >
</p><!--l. 957--><p class="noindent" ><span 
class="lmex-10">‚àë</span>
  <sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">=1</span></sub><sup><span 
class="lmmi-8">m</span></sup><span 
class="lmmi-10x-x-109">N</span><sub><span 
class="lmmi-8">i</span></sub> <span 
class="rm-lmr-10x-x-109">= 1 </span>et <span 
class="lmex-10">‚àë</span>
  <sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">=1</span></sub><sup><span 
class="lmmi-8">m</span></sup><span 
class="lmmi-10x-x-109">p</span><sub><span 
class="lmmi-8">i</span></sub> <span 
class="rm-lmr-10x-x-109">= 1</span></p></div>
                                                                                                  

                                                                                                  
<!--l. 959--><p class="noindent" >La densit√© de probabilit√© de cette loi s&#x2019;√©crit<span class="frenchb-nbsp">&nbsp;</span>:
</p>
   <center class="math-display" >
<img 
src="audit/rapport_Audit36x.png" alt="‚Ñô(N1 = n1,...,Nm  = nm ) =---n!---pn1...pnm
                         n1!...nm!  1   m  " class="math-display"  /></center> Pour
respectivement les esp√©rances et variances suivantes<span class="frenchb-nbsp">&nbsp;</span>:
<div class="center" 
>
<!--l. 962--><p class="noindent" >
</p><!--l. 963--><p class="noindent" ><span 
class="msbm-10x-x-109">ùîº</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">N</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">] = </span><span 
class="lmmi-10x-x-109">np</span><sub><span 
class="lmmi-8">i</span></sub> et <span 
class="msbm-10x-x-109">ùïç</span><span 
class="rm-lmr-10x-x-109">[</span><span 
class="lmmi-10x-x-109">N</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">] = </span><span 
class="lmmi-10x-x-109">np</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">(1 </span><span 
class="lmsy-10x-x-109">‚àí </span><span 
class="lmmi-10x-x-109">p</span><sub><span 
class="lmmi-8">i</span></sub><span 
class="rm-lmr-10x-x-109">)</span></p></div>
<!--l. 966--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-96" id="x6-870002"><span 
class="ec-lmbx-10x-x-109">Approximation.</span><br 
class="newline" /></a></span>
   Si les variables sont ind√©pendantes, <span 
class="lmex-10">‚àë</span>
  <sub><span 
class="lmmi-8">i</span><span 
class="rm-lmr-8">=1</span></sub><sup><span 
class="lmmi-8">m</span></sup><img 
src="audit/rapport_Audit37x.png" alt="       2
(nNpi‚àí(1n‚àípi)p)
  i   i"  class="frac" align="middle" /> suit une loi du <span 
class="lmmi-10x-x-109">œá</span><span 
class="rm-lmr-8">2</span>√† <span 
class="lmmi-10x-x-109">m </span>degr√©s de libert√©. Ainsi, le test du
<span 
class="lmmi-10x-x-109">œá</span><span 
class="rm-lmr-8">2</span>peut ici √™tre utilis√© pour tester si des donn√©es suivent une distribution multinomiale.<br 
class="newline" />
</p><!--l. 970--><p class="indent" >   Plus g√©n√©ralement, le test peut √™tre utilis√© pour v√©riÔ¨Åer si des donn√©es suivent une distribution particuli√®re,
pourvu que celles-ci ne soient pas de trop grande taille. Deux types de tests sont propos√©s sur la source d&#x2019;entropie<span class="frenchb-nbsp">&nbsp;</span>:
</p>
      <ul class="itemize1">
      <li class="itemize">le test d&#x2019;ind√©pendance entre des donn√©es successives obtenues (tests diÔ¨Ä√©rents pour des donn√©es
      binaires et non binaires)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">le test d&#x2019;ajustement sur les 10 sous-ensembles de donn√©es, qui permet de v√©riÔ¨Åer si le mod√®le adopt√©
      pour les donn√©es est satisfaisant, i.e. dans quelle mesure les r√©sidus sont dus au hasard (tests diÔ¨Ä√©rents
      pour des donn√©es binaires et non binaires).
      <!--l. 975--><p class="noindent" >Nous  ne  d√©taillerons  pas  dans  ce  rapport  ces  tests  respectifs.  Ils  sont  toutefois  d√©crits  dans  le
      document du NIST SP800-90b.<br 
class="newline" />
</p>
      </li></ul>
<a 
 id="x6-87001r68"></a>
                                                                                                  

                                                                                                  
<h4 class="subsectionHead"><span class="titlemark">1.5.2   </span> <a 
href="rapport_Auditli1.html#QQ2-6-97" id="x6-880002">D√©terminer l&#x2019;entropie minimale des sources IID</a></h4>
     On souhaite √† pr√©sent estimer l&#x2019;entropie fournie par une source IID (donn√©es ind√©pendantes et identiquement
distribu√©es). Ce test est bas√© sur le nombre d&#x2019;observations d&#x2019;un √©chantillon le plus courant de la source de bruit
(<span 
class="lmmi-10x-x-109">pmax</span>). Le but est de calculer la borne minimale d&#x2019;entropie de la source.<br 
class="newline" />
<!--l. 985--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-98" id="x6-890002"><span 
class="ec-lmbx-10x-x-109">Calcul de l&#x2019;entropie minimale.</span><br 
class="newline" /></a></span>
   √âtant donn√© N √©chantillons <span 
class="lmsy-10x-x-109">{</span><span 
class="lmmi-10x-x-109">x</span><sub><span 
class="rm-lmr-8">1</span></sub><span 
class="lmmi-10x-x-109">,...x</span><sub><span 
class="lmmi-8">n</span></sub><span 
class="lmsy-10x-x-109">}</span>
      </p><ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-89002x1">trouver la valeur la plus souvent rencontr√©e dans le jeu de donn√©es<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89004x2">compter le nombre d&#x2019;occurrences de cette valeur, stock√© dans <span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">MAX</span></sub><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89006x3">calculer <span 
class="lmmi-10x-x-109">pmax </span><span 
class="rm-lmr-10x-x-109">=</span> <img 
src="audit/rapport_Audit38x.png" alt="CMANX-"  class="frac" align="middle" /><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89008x4">calculer <span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">BOUND</span></sub> <span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">MAX</span></sub> <span 
class="rm-lmr-10x-x-109">+ 2</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">3</span><img 
src="audit/rapport_Audit39x.png" alt="‚àò --------------------
  N ‚àó pmax (1‚àí pmax )"  class="sqrt"  /><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89010x5">calculer <span 
class="lmmi-10x-x-109">H </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">log</span> <sub><span 
class="rm-lmr-8">2</span></sub><span 
class="rm-lmr-10x-x-109">(</span><img 
src="audit/rapport_Audit40x.png" alt="CBOUND-
   N"  class="frac" align="middle" /><span 
class="rm-lmr-10x-x-109">)</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89012x6">calculer le nombre d&#x2019;√©l√©ments dans l&#x2019;√©chantillon, que l&#x2019;on stocke dans W<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li 
  class="enumerate" id="x6-89014x7"><span 
class="lmmi-10x-x-109">min</span><span 
class="rm-lmr-10x-x-109">(</span><span 
class="lmmi-10x-x-109">W,H</span><span 
class="rm-lmr-10x-x-109">) </span>est l&#x2019;entropie minimale.<br 
class="newline" /></li></ol>
<!--l. 998--><p class="noindent" ><span class="paragraphHead"><a 
href="rapport_Auditli1.html#QQ2-6-99" id="x6-900002"><span 
class="ec-lmbx-10x-x-109">Exemple.</span><br 
class="newline" /></a></span>
   Consid√©rant le jeu de donn√©es <span 
class="lmsy-10x-x-109">{</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">2</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">1</span><span 
class="lmsy-10x-x-109">} </span>de 20 donn√©es<span class="frenchb-nbsp">&nbsp;</span>: </p>
      <ul class="itemize1">
      <li class="itemize">la valeur la plus courant du jeu de donn√©es est <span 
class="ec-lmtt-10x-x-109">1 </span>(On compte 6 <span 
class="ec-lmtt-10x-x-109">0</span>, 8 <span 
class="ec-lmtt-10x-x-109">1 </span>et 6 <span 
class="ec-lmtt-10x-x-109">2</span>)<span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">MAX</span></sub> <span 
class="rm-lmr-10x-x-109">= 8</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">pmax </span><span 
class="rm-lmr-10x-x-109">=</span> <img 
src="audit/rapport_Audit41x.png" alt="8-
20"  class="frac" align="middle" /> <span 
class="rm-lmr-10x-x-109">= 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">4</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">C</span><sub><span 
class="lmmi-8">BOUND</span></sub> <span 
class="rm-lmr-10x-x-109">= 8 + 2</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">3</span><img 
src="audit/rapport_Audit42x.png" alt="‚àö ------------
  20‚àó 0.4 ‚àó0.6"  class="sqrt"  /> <span 
class="rm-lmr-10x-x-109">= 13</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">04</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">H </span><span 
class="rm-lmr-10x-x-109">= </span><span 
class="lmsy-10x-x-109">‚àí</span><span 
class="rm-lmr-10x-x-109">log</span> <sub><span 
class="rm-lmr-8">2</span></sub><span 
class="rm-lmr-10x-x-109">(</span><img 
src="audit/rapport_Audit43x.png" alt="13.04
 20"  class="frac" align="middle" /><span 
class="rm-lmr-10x-x-109">) = 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">186</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize"><span 
class="lmmi-10x-x-109">W </span><span 
class="rm-lmr-10x-x-109">= 3</span><span class="frenchb-thinspace">&nbsp;</span>;
      </li>
      <li class="itemize">entropie minimale calcul√©e<span class="frenchb-nbsp">&nbsp;</span>: <span 
class="lmmi-10x-x-109">min</span><span 
class="rm-lmr-10x-x-109">(3</span><span 
class="lmmi-10x-x-109">,</span><span 
class="rm-lmr-10x-x-109">0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">186) = 0</span><span 
class="lmmi-10x-x-109">.</span><span 
class="rm-lmr-10x-x-109">186</span>.<br 
class="newline" /></li></ul>
                                                                                                  
